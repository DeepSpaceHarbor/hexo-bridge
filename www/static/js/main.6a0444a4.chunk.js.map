{"version":3,"sources":["shared/controll-panel.png","shared/useAPI.ts","shared/helpers/notification.ts","page/CreateNewPage.tsx","post/CreateNewPost.tsx","shared/components/Navigation.tsx","shared/components/Pagination.tsx","shared/helpers/sortByDate.ts","shared/helpers/pagingHelpers.ts","shared/components/GenericError.tsx","shared/components/HtmlPreview.tsx","post/PostCard.tsx","post/PostList.tsx","shared/helpers/searchHelper.ts","post/AllPostsPage.tsx","post/actions/DeletePost.tsx","post/actions/PublishPost.tsx","post/actions/UnpublishPost.tsx","post/PostEditorActionDropdown.tsx","shared/components/FrontMatterEditor.tsx","shared/helpers/frontMatterParserHelper.ts","post/PostEditorPage.tsx","page/PageCard.tsx","page/PageList.tsx","page/AllPagesPage.tsx","page/PageEditorActionDropdown.tsx","page/PageEditorPage.tsx","shared/hexo-logo-avatar.svg","settings/NavigationSettings.tsx","shared/components/YamlConfigEditor.tsx","settings/HexoSettingsPage.tsx","settings/BridgeSettingsPage.tsx","settings/scaffolds/RenameScaffold.tsx","settings/scaffolds/DeleteScaffold.tsx","settings/scaffolds/NewScaffold.tsx","settings/scaffolds/ScaffoldsPage.tsx","plugin/NavigationPlugins.tsx","shared/components/Grid.tsx","plugin/discover/PluginsGrid.tsx","plugin/discover/TagList.tsx","plugin/discover/DiscoverPluginsPage.tsx","plugin/InstalledPluginsPage.tsx","plugin/ScriptsPage.tsx","theme/installed/InstalledThemeCard.tsx","theme/installed/InstalledThemesGrid.tsx","theme/NavigationTheme.tsx","theme/installed/InstalledThemesPage.tsx","theme/discover/DiscoverThemeCard.tsx","theme/discover/DiscoverThemesGrid.tsx","theme/discover/DiscoverThemesPage.tsx","theme/ThemeSettingsPage.tsx","file/RenameItem.tsx","file/FolderCard.tsx","file/icons/folder.png","file/icons/fileTypes/file-default.png","file/icons/fileTypes/file-image.svg","file/icons/fileTypes/file-text.svg","file/icons/fileTypes/file-video.svg","file/icons/fileTypes/file-word.svg","file/icons/fileTypes/file-excel.svg","file/getIconForFile.ts","file/icons/fileTypes/file-pdf.png","file/icons/fileTypes/file-archive.png","file/icons/fileTypes/file-email.png","file/icons/fileTypes/file-sql.png","file/icons/fileTypes/file-json.png","file/icons/fileTypes/file-audio.png","file/FileCard.tsx","file/FileGrid.tsx","file/icons/folder-open-small.png","file/upload/FileUploadModal.tsx","file/ilustrations/file-upload-dropzone.svg","file/upload/FileSelection.tsx","file/upload/UploadStatus.tsx","file/upload/FileUpload.tsx","file/icons/upload.png","file/icons/folder-small.png","file/NewFolder.tsx","file/FileDirectoryPage.tsx","App.tsx","index.tsx"],"names":["qs","require","useAPI","requestConfig","delayExecution","useState","isLoading","setIsLoading","error","setError","data","setData","executeRequest","a","baseURL","stringify","axios","useEffect","res","console","initiateRequest","loading","execute","Notification","Toaster","create","position","Position","TOP","CreateNewPage","history","useHistory","isOpen","setIsOpen","pageTitle","setPageTitle","createPage","method","url","title","push","_id","window","location","reload","show","message","intent","Intent","DANGER","icon","minimal","text","onClick","onClose","canOutsideClickClose","className","Classes","DIALOG_BODY","leftIcon","placeholder","value","onChange","e","target","DIALOG_FOOTER","DIALOG_FOOTER_ACTIONS","PRIMARY","CreateNewPost","postTitle","setPostTitle","selectedScaffold","setSelectedScaffold","allScaffolds","createPost","scaffold","content","map","active","RIGHT_TOP","outlined","style","backgroundColor","Navigation","useLocation","Group","align","Alignment","LEFT","Heading","to","src","Logo","alt","pathname","href","startsWith","RIGHT","Divider","Pagination","count","currentPage","margin","newStart","newEnd","calculateStartEnd","start","end","pagination","index","disabled","pageNumber","NONE","createPagination","sortByDate","first","second","date1","Date","date","getPageItems","items","page","itemsPerPage","length","slice","GenericError","description","HtmlPreview","code","dangerouslySetInnerHTML","__html","PostCard","post","selectedPost","setSelectedPost","showCategories","showTags","interactive","elevation","Elevation","ZERO","undefined","display","toLocaleString","day","month","year","published","flexGrow","categories","category","name","getCategories","tags","tag","getTags","undefinedPost","PostList","posts","search","searchQuery","allItems","searchKeys","query","trim","toLowerCase","filter","item","searchThrough","forEach","searchKey","hasOwnProperty","includes","getAllPostsAPI","getUserPrefsAPI","AllPostsPage","allPosts","Array","currentPostSelection","setCurrentPostSelection","isUserPrefsLoading","userPrefs","postsPerPage","post_list_itemsPerPage","currentPagePosts","setCurrentPagePosts","currentPageNumber","setCurrentPageNumber","onPageChange","newPage","sorted","sort","fill","vertical","event","searchResult","firstPage","searchByTitle","Math","ceil","post_list_showCategories","post_list_showTags","DeletePost","id","useParams","showDeleteAlert","setShowDeleteAlert","deletePost","confirmButtonText","cancelButtonText","onCancel","onConfirm","onDelete","PublishPost","savePost","showPublishAlert","setShowPublishAlert","publishPost","onPublish","UnpublishPost","showUnpublishAlert","setShowUnpublishAlert","unpublishPost","onUnpublish","PostEditorActionDropdown","path","rel","frontMatterHelper","FrontMatterEditor","metaData","setMetadata","errorMarkers","setErrorMarkers","canBeClosed","setCanBeClosed","useLayoutEffect","validateFrontMatter","parse","endsWith","row","split","column","type","mark","line","width","height","marginBottom","mode","theme","annotations","newContent","fontSize","editorFontSize","showPrintMargin","editorProps","$blockScrolling","getSinglePostAPI","savePostAPI","PostEditorPage","postData","hasUnsavedChanges","setHasUnsavedChanges","toISOString","metadata","setContent","showFrontMatterEditor","setShowFrontMatterEditor","onSave","SUCCESS","raw","parsedPost","parsed","meta","_content","others","Error","parsePostData","autoFocus","selectedDate","isUserChange","newData","validateRequiredPostMetadataFields","wrapEnabled","onLoad","editor","getSession","setValue","setOptions","useWorker","commands","bindKey","win","mac","exec","when","PageCard","selectedPage","setSelectedPage","undefinedPage","PageList","pages","getAllPagesAPI","AllPagesPage","allPages","currentPageSelection","setCurrentPageSelection","page_list_itemsPerPage","currentPageItems","setCurrentPageItems","getSinglePageAPI","deletePageAPI","PageEditorActionDropdown","savePage","isDropdownOpen","setIsDropdownOpen","deletePage","onOpened","savePageAPI","PageEditorPage","pageData","parsedPage","parsePageData","validateRequiredPageMetadataFields","NavigationSettings","HexoLogo","yamlValidation","getUserPrefs","YamlConfigEditor","props","getContentConfig","configData","config","setConfig","saveConfig","saveContentConfig","verifyYaml","validate","maxWidth","fileName","getHexoConfig","saveHexoConfig","HexoSettingsPage","getBridgeConfig","saveBridgeConfig","BridgeSettingsPage","renameScaffoldConfig","RenameScaffold","isRenameModalOpen","setIsRenameModalOpen","isNameTaken","setIsNameTaken","selectedName","setSelectedName","renameScaffold","newName","deleteScaffoldConfig","DeleteScaffold","deleteScaffold","createScaffoldConfig","NewScaffold","createScaffold","getAllScaffolds","saveScaffoldConfig","ScaffoldsPage","hasNewChanges","setHasNewChanges","saveScaffold","Item","NavigationPlugins","Grid","columns","columnClassName","breakpointCols","default","children","PluginsGrid","plugins","plugin","link","TagList","allAddons","selected","Object","keys","b","discoverAddonsAPI","DiscoverPluginsPage","selectedTag","setSelectedTag","currentAddonSelection","setCurrentAddonSelection","onTagChange","newTag","all","onSearch","installedAddonsAPI","InstalledPluginsPage","version","scriptsAPI","ScriptsPage","allScripts","contentPreview","setContentPreview","showPreview","setShowPreview","script","filePath","readOnly","InstalledThemeCard","setLightboxSrc","setLightboxTitle","setLightboxCaption","setShowLightbox","isActive","marginLeft","screenshot","cursor","preview","InstalledThemesGrid","themes","showLightbox","lightboxSrc","lightboxTitle","lightboxCaption","getLightbox","mainSrc","onCloseRequest","imageTitle","imageCaption","NavigationTheme","installedThemesAPI","InstalledThemesPage","allThemes","currentThemeSelection","setCurrentThemeSelection","DiscoverThemeCard","DiscoverThemesGrid","DiscoverThemesPage","marginRight","scrollTo","top","getThemeConfig","saveThemeConfig","ThemeSettingsPage","RenameItem","oldPath","newPath","setNewPath","renameItem","stopPropagation","rightIcon","deleteFolderAPI","FolderCard","file","deleteFolder","directory","canEscapeKeyCancel","canOutsideClickCancel","isImage","isTextPath","isVideo","isAudio","getIcon","wordFile","excelFile","imageFile","textFile","videoFile","deleteFileAPI","FileCard","deleteFile","mdText","navigator","clipboard","writeText","then","timeout","getIconForFile","FileGrid","files","x","y","isDir","UploadState","FileSelection","currentLocation","uploadFiles","selectedFiles","setSelectedFiles","onDrop","acceptedFiles","newFiles","some","acceptedFile","onDropRejected","fileRejections","rejectedItem","errors","maxSize","multiple","getRootProps","getInputProps","dropZoneIllustration","onRemove","removeIndex","findIndex","elements","splice","UploadStatus","result","uploaded","failed","failedFiles","FileUpload","reportStatus","uploadProgress","setUploadProgress","currentUploadName","setCurrentUploadName","withErrors","i","photoFormData","FormData","append","headers","log","upload","FileUploadModal","selection","state","setState","selectedFilesQueue","setselectedFilesQueue","uploadResults","setUploadResults","startUpload","toUpload","showResults","uploadedCount","failedCount","NewFolder","currentDir","separator","newDirectory","setNewDirectory","createFolder","folderIcon","discoverFilesAPI","FileDirectoryPage","queryStringParams","queryString","dir","allFiles","setCurrentDir","renderCurrentBreadcrumb","restProps","pathParts","key","Number","join","currentBreadcrumbRenderer","App","basename","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6a0444a4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/controll-panel.f5107ba9.png\";","import { useEffect, useState } from \"react\";\nimport axios, { AxiosPromise, AxiosRequestConfig } from \"axios\";\n\nconst qs = require(\"qs\");\n\nexport default function useAPI(\n  requestConfig: AxiosRequestConfig,\n  delayExecution = false\n): { loading: boolean; error: any; data: any; execute: () => AxiosPromise } {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState([]);\n\n  async function executeRequest() {\n    requestConfig.baseURL = \"/api/\";\n    //Why urlencoded instead of json?\n    //https://github.com/axios/axios/issues/1610#issuecomment-492564113\n    requestConfig.data = qs.stringify(requestConfig.data);\n    return axios(requestConfig);\n  }\n\n  useEffect(() => {\n    if (!delayExecution) {\n      const initiateRequest = async () => {\n        try {\n          setIsLoading(true);\n          setError(null);\n          setData([]);\n\n          const res = await executeRequest();\n          setData(res.data);\n        } catch (error: any) {\n          console.error(\"useAPI error.\", error);\n          setError(error);\n        } finally {\n          setIsLoading(false);\n        }\n      };\n      initiateRequest();\n    } // eslint-disable-next-line\n  }, []);\n\n  return { loading: isLoading, error: error, data: data, execute: executeRequest };\n}\n","import { Position, Toaster } from \"@blueprintjs/core\";\n\n/** Singleton toaster instance. Create separate instances for different options. */\nexport const Notification = Toaster.create({\n  position: Position.TOP,\n});\n","import React, { useState } from \"react\";\nimport { Button, Classes, Dialog, InputGroup, Intent } from \"@blueprintjs/core\";\nimport useAPI from \"../shared/useAPI\";\nimport { Notification } from \"../shared/helpers/notification\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function CreateNewPage() {\n  let history = useHistory();\n  const [isOpen, setIsOpen] = useState(false);\n  const [pageTitle, setPageTitle] = useState(\"\");\n  const { execute: createPage } = useAPI(\n    {\n      method: \"POST\",\n      url: \"pages/create\",\n      data: {\n        title: pageTitle,\n      },\n    },\n    true\n  );\n\n  async function onCreate() {\n    try {\n      const res = await createPage();\n      // @ts-ignore\n      history.push(`/page/edit/${res.data._id}`);\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Cannot create new page.\", error);\n      Notification.show({\n        message: \"Oh no, I can't create new page  \",\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    }\n  }\n\n  return (\n    <>\n      <Button minimal icon=\"insert\" text=\"New page\" onClick={() => setIsOpen(true)} />\n      <Dialog\n        isOpen={isOpen}\n        onClose={() => setIsOpen(false)}\n        canOutsideClickClose={false}\n        icon=\"insert\"\n        title=\"Create new page\"\n      >\n        <div className={Classes.DIALOG_BODY}>\n          <p>Enter a name for the new page:</p>\n          <InputGroup\n            leftIcon=\"duplicate\"\n            placeholder=\"<Insert page name>\"\n            value={pageTitle}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n              setPageTitle(e.target.value);\n            }}\n          />\n        </div>\n        <div className={Classes.DIALOG_FOOTER}>\n          <span className={Classes.DIALOG_FOOTER_ACTIONS}>\n            <Button text=\"Create page\" intent={Intent.PRIMARY} onClick={onCreate} />\n          </span>\n        </div>\n      </Dialog>\n    </>\n  );\n}\n","import { useHistory } from \"react-router-dom\";\nimport React, { useState } from \"react\";\nimport useAPI from \"../shared/useAPI\";\nimport { Notification } from \"../shared/helpers/notification\";\nimport { Button, Classes, Dialog, InputGroup, Intent, Menu, Popover, Position, MenuItem } from \"@blueprintjs/core\";\n\nexport default function CreateNewPost() {\n  let history = useHistory();\n  const [isOpen, setIsOpen] = useState(false);\n  const [postTitle, setPostTitle] = useState(\"\");\n  const [selectedScaffold, setSelectedScaffold] = useState(\"post\");\n  const { data: allScaffolds } = useAPI({\n    method: \"GET\",\n    url: \"scaffolds/getAllNames\",\n  });\n\n  const { execute: createPost } = useAPI(\n    {\n      method: \"POST\",\n      url: \"posts/create\",\n      data: {\n        title: postTitle,\n        scaffold: selectedScaffold,\n      },\n    },\n    true\n  );\n\n  async function onCreate() {\n    try {\n      const res = await createPost();\n      // @ts-ignore\n      history.push(`/post/edit/${res.data._id}`);\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Cannot create new post.\", error);\n      Notification.show({\n        message: \"Oh no, I can't create new post  \",\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    }\n  }\n\n  function getScaffoldMenuItems() {\n    return (\n      <Menu>\n        {allScaffolds.map((scaffold: string) => {\n          if (scaffold === \"page\") {\n            // eslint-disable-next-line array-callback-return\n            return;\n          }\n          return (\n            <MenuItem\n              onClick={() => {\n                setSelectedScaffold(scaffold);\n              }}\n              text={scaffold}\n              key={scaffold}\n              active={scaffold === selectedScaffold}\n            />\n          );\n        })}\n      </Menu>\n    );\n  }\n\n  return (\n    <>\n      <Button\n        minimal\n        icon=\"insert\"\n        text=\"New post\"\n        onClick={() => {\n          setIsOpen(true);\n        }}\n      />\n      <Dialog\n        isOpen={isOpen}\n        onClose={() => setIsOpen(false)}\n        canOutsideClickClose={false}\n        icon=\"insert\"\n        title=\"Create new post\"\n      >\n        <div className={Classes.DIALOG_BODY}>\n          <p>Enter a name for the new post:</p>\n          <InputGroup\n            value={postTitle}\n            leftIcon=\"document\"\n            placeholder=\"<Insert post title>\"\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n              setPostTitle(e.target.value);\n            }}\n          />\n\n          <Popover content={getScaffoldMenuItems()} position={Position.RIGHT_TOP}>\n            <Button\n              outlined\n              text={`Use scaffold: ${selectedScaffold}`}\n              icon=\"applications\"\n              style={{ backgroundColor: \"white\" }}\n            />\n          </Popover>\n        </div>\n        <div className={Classes.DIALOG_FOOTER}>\n          <span className={Classes.DIALOG_FOOTER_ACTIONS}>\n            <Button text=\"Create post\" intent={Intent.PRIMARY} onClick={onCreate} />\n          </span>\n        </div>\n      </Dialog>\n    </>\n  );\n}\n","import React from \"react\";\nimport { Alignment, AnchorButton, Button, Navbar } from \"@blueprintjs/core\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport Logo from \"../controll-panel.png\";\nimport CreateNewPage from \"../../page/CreateNewPage\";\nimport CreateNewPost from \"../../post/CreateNewPost\";\n\nexport default function Navigation() {\n  const location = useLocation();\n\n  function getNewPageOrPost() {\n    if (location.pathname.startsWith(\"/post\")) {\n      return <CreateNewPost />;\n    }\n    if (location.pathname.startsWith(\"/page\")) {\n      return <CreateNewPage />;\n    }\n    return <></>;\n  }\n\n  return (\n    <>\n      <Navbar className=\"navigation-bar\">\n        <Navbar.Group align={Alignment.LEFT}>\n          <Navbar.Heading>\n            <Link to=\"/post/all\">\n              <img className=\"navigation-logo\" src={Logo} alt=\"Bridge | hexo admin panel\" />\n            </Link>\n          </Navbar.Heading>\n          <Link to=\"/post/all\">\n            <Button\n              minimal\n              icon=\"document\"\n              text=\"Posts\"\n              outlined={location.pathname === \"/post/all\" || location.pathname === \"/\"}\n            />\n          </Link>\n          <Link to=\"/page/all\">\n            <Button minimal icon=\"duplicate\" text=\"Pages\" outlined={location.pathname === \"/page/all\"} />\n          </Link>\n\n          <AnchorButton\n            href=\"/bridge/file?dir=files\"\n            minimal\n            icon=\"folder-open\"\n            text=\"Files\"\n            outlined={location.pathname.startsWith(\"/file\")}\n          />\n\n          <Link to=\"/theme/installed\">\n            <Button minimal icon=\"control\" text=\"Theme\" outlined={location.pathname.startsWith(\"/theme/\")} />\n          </Link>\n          <Link to=\"/plugin/installed\">\n            <Button minimal icon=\"console\" text=\"Plugins\" outlined={location.pathname.startsWith(\"/plugin/\")} />\n          </Link>\n          <Link to=\"/setting/hexo\">\n            <Button minimal icon=\"settings\" text=\"Settings\" outlined={location.pathname.startsWith(\"/setting/\")} />\n          </Link>\n        </Navbar.Group>\n        <Navbar.Group align={Alignment.RIGHT}>\n          {getNewPageOrPost()}\n          <Navbar.Divider />\n          <AnchorButton href=\"/\" minimal icon=\"share\" text=\"My site\" target=\"_blank\" />\n        </Navbar.Group>\n      </Navbar>\n    </>\n  );\n}\n","import React from \"react\";\nimport { Button, ButtonGroup, Intent } from \"@blueprintjs/core\";\n\ninterface PaginationProps {\n  count: number;\n  currentPage: number;\n  onChange: (newPage: number) => void;\n}\n\nexport default function Pagination({ count, currentPage, onChange }: PaginationProps) {\n  function calculateStartEnd(): number[] {\n    //Bad data cases\n    if (count === 0) {\n      return [1, 1];\n    }\n    if (currentPage > count) {\n      return [1, 1];\n    }\n\n    //First 5 pages\n    if (count <= 5) {\n      return [1, count];\n    }\n\n    //TODO: Simplify start & end page logic.\n    //When count > 5, always show 5 buttons.\n    let newStart = currentPage - 2;\n    if (newStart <= 0) {\n      newStart = 1;\n    }\n    let newEnd = newStart + 4;\n\n    if (newEnd > count) {\n      newEnd = count;\n    }\n    if (newEnd - newStart !== 4) {\n      newStart = newEnd - 4;\n    }\n    return [newStart, newEnd];\n  }\n\n  function createPagination() {\n    const [start, end] = calculateStartEnd();\n    let pagination = [];\n    for (let index: number = start; index <= end; index++) {\n      pagination.push(index);\n    }\n    return (\n      <>\n        <ButtonGroup>\n          <Button key=\"first-page\" onClick={() => onChange(1)} disabled={start === 1} icon=\"double-chevron-left\" />\n          <Button\n            key=\"previous-page\"\n            onClick={() => onChange(currentPage - 1)}\n            disabled={currentPage === 1 || count === 0}\n            icon=\"chevron-left\"\n          />\n          {pagination.map((pageNumber) => (\n            <Button\n              text={pageNumber}\n              key={pageNumber}\n              onClick={() => onChange(pageNumber)}\n              intent={pageNumber === currentPage ? Intent.PRIMARY : Intent.NONE}\n            />\n          ))}\n\n          <Button\n            key=\"next-page\"\n            onClick={() => onChange(currentPage + 1)}\n            disabled={currentPage === count || count === 0}\n            icon=\"chevron-right\"\n          />\n          <Button\n            key=\"last-page\"\n            onClick={() => onChange(count)}\n            disabled={start + 5 > count}\n            icon=\"double-chevron-right\"\n          />\n        </ButtonGroup>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <div style={{ margin: 5 }}>{createPagination()}</div>\n    </>\n  );\n}\n","export function sortByDate(first: object, second: object) {\n  // @ts-ignore\n  const date1 = new Date(first.date);\n  // @ts-ignore\n  const date2 = new Date(second.date);\n  // @ts-ignore\n  return date2 - date1;\n}\n","export function getPageItems(items: any[], page: number, itemsPerPage: number) {\n  const start = (page - 1) * itemsPerPage;\n  const end = start + itemsPerPage;\n  if (items.length > end) {\n    return items.slice(start, end);\n  } else {\n    return items.slice(start, items.length);\n  }\n}\n","import { NonIdealState } from \"@blueprintjs/core\";\nimport React from \"react\";\n\nexport default function GenericError() {\n  return (\n    <NonIdealState\n      icon=\"error\"\n      title=\"Oh no! Something bad happened  \"\n      description=\"Can you check if everything is ok with hexo? Maybe reload this page?\"\n    />\n  );\n}\n","import React from \"react\";\n\nexport default function HtmlPreview({ code, className = \"\" }: { code: string; className?: string }): JSX.Element {\n  return <div className={className} dangerouslySetInnerHTML={{ __html: code }} />;\n}\n","import React from \"react\";\nimport { Elevation, MenuItem } from \"@blueprintjs/core\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Card, Divider, Menu, Popover } from \"@blueprintjs/core\";\nimport type { Category, Post, Tag } from \"./types/types\";\n\ntype PostCardProps = {\n  post: Post;\n  selectedPost: Post;\n  setSelectedPost: (post: Post) => void;\n  showCategories: boolean;\n  showTags: boolean;\n};\n\nexport default function PostCard({ post, selectedPost, setSelectedPost, showCategories, showTags }: PostCardProps) {\n  function getCategories() {\n    if (!showCategories) {\n      return undefined;\n    }\n    if (post.categories.length === 0) {\n      return <Button minimal text={`Categories (${post.categories.length})`} className=\"force-text-muted\" />;\n    }\n    return (\n      <Popover position=\"right\">\n        <Button minimal text={`Categories (${post.categories.length})`} className=\"force-text-muted\" />\n        <Menu>\n          {post.categories.data.map((category: Category) => {\n            return <MenuItem key={category.name} text={category.name} />;\n          })}\n        </Menu>\n      </Popover>\n    );\n  }\n\n  function getTags() {\n    if (!showTags) {\n      return undefined;\n    }\n    if (post.tags.length === 0) {\n      return <Button minimal text={`Tags (${post.tags.length})`} className=\"force-text-muted\" />;\n    }\n    return (\n      <Popover position=\"right\">\n        <Button minimal text={`Tags (${post.tags.length})`} className=\"force-text-muted\" />\n        <Menu>\n          {post.tags.data.map((tag: Tag) => {\n            return <MenuItem key={tag.name} text={tag.name} />;\n          })}\n        </Menu>\n      </Popover>\n    );\n  }\n\n  return (\n    <Card className=\"card-list-item\" interactive elevation={Elevation.ZERO} onClick={() => setSelectedPost(post)}>\n      <Link className={post._id === selectedPost._id ? \"selected-item\" : undefined} to={`/post/edit/${post._id}`}>\n        <b>{post.title}</b>\n      </Link>\n      <Divider />\n      <div className=\"bp3-text-muted\" style={{ display: \"flex\" }}>\n        <span>\n          {new Date(post.date).toLocaleString(undefined, {\n            day: \"2-digit\",\n            month: \"short\",\n            year: \"numeric\",\n          })}{\" \"}\n          {post.published ? undefined : <b>[ Draft ] </b>}{\" \"}\n        </span>\n        <span style={{ flexGrow: 1 }} />\n        {getCategories()}\n        {getTags()}\n      </div>\n    </Card>\n  );\n}\n","import React, { useState } from \"react\";\nimport { NonIdealState } from \"@blueprintjs/core\";\nimport HtmlPreview from \"../shared/components/HtmlPreview\";\nimport PostCard from \"./PostCard\";\nimport { Post } from \"./types/types\";\n\ntype PostListProps = {\n  posts: Post[];\n  showCategories: boolean;\n  showTags: boolean;\n};\n\nconst undefinedPost = {\n  _id: \"\",\n  title: \"\",\n  date: \"\",\n  published: false,\n  content: \"\",\n  categories: {\n    data: [],\n    length: 0,\n  },\n  tags: {\n    data: [],\n    length: 0,\n  },\n};\n\nexport default function PostList({ posts, showCategories, showTags }: PostListProps) {\n  const [selectedPost, setSelectedPost] = useState<Post>(undefinedPost);\n\n  function getState() {\n    if (posts.length === 0) {\n      return (\n        <NonIdealState\n          icon=\"path-search\"\n          title=\"Sorry, I can't find the post you're looking for.\"\n          description=\"Don't let this stop you. Click the new post button and write your best story ever.\"\n        />\n      );\n    }\n    return (\n      <>\n        <div>\n          {posts.map((post) => (\n            <PostCard\n              key={post._id}\n              post={post}\n              selectedPost={selectedPost}\n              setSelectedPost={setSelectedPost}\n              showCategories={showCategories}\n              showTags={showTags}\n            />\n          ))}\n        </div>\n        <HtmlPreview className=\"card-preview-panel\" code={selectedPost.content} />\n      </>\n    );\n  }\n\n  return getState();\n}\n","export default function search(searchQuery: string, allItems: Object[], searchKeys: string[]): any[] {\n  const query = searchQuery.trim().toLowerCase();\n  if (query.length === 0) {\n    return allItems;\n  }\n\n  return allItems.filter((item) => {\n    let searchThrough = \"\";\n    searchKeys.forEach((searchKey: string) => {\n      if (item.hasOwnProperty(searchKey)) {\n        // @ts-ignore\n        searchThrough += item[searchKey].trim().toLowerCase();\n      }\n    });\n    return searchThrough.includes(query);\n  });\n}\n","import React, { useEffect, useState } from \"react\";\nimport Navigation from \"../shared/components/Navigation\";\nimport { ControlGroup, Divider, InputGroup, Spinner } from \"@blueprintjs/core\";\nimport useAPI from \"../shared/useAPI\";\nimport Pagination from \"../shared/components/Pagination\";\nimport { sortByDate } from \"../shared/helpers/sortByDate\";\nimport { getPageItems } from \"../shared/helpers/pagingHelpers\";\nimport GenericError from \"../shared/components/GenericError\";\nimport { AxiosRequestConfig } from \"axios\";\nimport PostList from \"./PostList\";\nimport search from \"../shared/helpers/searchHelper\";\nimport type { Post } from \"./types/types\";\n\nconst getAllPostsAPI: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"posts/getAll\",\n};\n\nconst getUserPrefsAPI: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"settings/bridge/getAsJson\",\n};\n\nexport default function AllPostsPage() {\n  //All posts on the website.\n  const { loading: isLoading, error, data: allPosts } = useAPI(getAllPostsAPI);\n  //All posts which match the user criteria. Ex: posts which contain hexo in the title.\n  const [currentPostSelection, setCurrentPostSelection] = useState<Post[]>(new Array<Post>());\n  //Paging related\n  const { loading: isUserPrefsLoading, data: userPrefs } = useAPI(getUserPrefsAPI);\n  const postsPerPage = userPrefs.post_list_itemsPerPage || 4;\n  const [currentPagePosts, setCurrentPagePosts] = useState<Post[]>(new Array<Post>());\n  const [currentPageNumber, setCurrentPageNumber] = useState(1);\n\n  //Init\n  useEffect(resetPostSelection, [allPosts, postsPerPage]);\n\n  function resetPostSelection() {\n    const sorted = allPosts.sort(sortByDate);\n    setCurrentPostSelection(sorted);\n    setCurrentPageNumber(1);\n    setCurrentPagePosts(getPageItems(sorted, 1, postsPerPage));\n  }\n\n  //Search by title\n  function searchByTitle(searchQuery: string) {\n    const searchResult = search(searchQuery, allPosts, [\"title\"]).sort(sortByDate);\n    const firstPage = getPageItems(searchResult, 1, postsPerPage);\n    setCurrentPostSelection(searchResult);\n    setCurrentPagePosts(firstPage);\n    setCurrentPageNumber(1);\n  }\n\n  function onPageChange(newPage: number) {\n    setCurrentPageNumber(newPage);\n    setCurrentPagePosts(getPageItems(currentPostSelection, newPage, postsPerPage));\n  }\n\n  function getCurrentState() {\n    if (isLoading || isUserPrefsLoading) {\n      return <Spinner />;\n    }\n\n    if (error) {\n      return <GenericError />;\n    }\n    return (\n      <>\n        <ControlGroup fill={false} vertical={false}>\n          <InputGroup\n            leftIcon=\"search\"\n            placeholder=\"Search\"\n            className=\"search-input\"\n            onChange={(event: React.ChangeEvent<HTMLInputElement>) => searchByTitle(event.target.value)}\n          />\n          <Divider />\n          <Pagination\n            count={Math.ceil(currentPostSelection.length / postsPerPage)}\n            currentPage={currentPageNumber}\n            onChange={onPageChange}\n          />\n        </ControlGroup>\n        <div className=\"list-preview-container\">\n          <PostList\n            posts={currentPagePosts}\n            showCategories={userPrefs.post_list_showCategories}\n            showTags={userPrefs.post_list_showTags}\n          />\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Navigation />\n      {getCurrentState()}\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Alert, Button, Intent } from \"@blueprintjs/core\";\nimport useAPI from \"../../shared/useAPI\";\nimport { Notification } from \"../../shared/helpers/notification\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { RouteParams } from \"../../shared/types/router\";\n\nexport default function DeletePost() {\n  let { id } = useParams<RouteParams>();\n  let history = useHistory();\n  //Delete post\n  const [showDeleteAlert, setShowDeleteAlert] = useState(false);\n  const { execute: deletePost } = useAPI(\n    {\n      method: \"POST\",\n      url: \"posts/delete\",\n      data: {\n        id: id,\n      },\n    },\n    true\n  );\n\n  async function onDelete() {\n    try {\n      await deletePost();\n      history.push(\"/post/all\");\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Unable to delete post.\", error);\n      Notification.show({ message: \"Oh no, I can't delete the post.  \", intent: Intent.DANGER, icon: \"delete\" });\n    }\n  }\n\n  return (\n    <>\n      <Button\n        icon=\"trash\"\n        onClick={() => {\n          setShowDeleteAlert(true);\n        }}\n      >\n        Delete\n      </Button>\n      <Alert\n        isOpen={showDeleteAlert}\n        icon={\"trash\"}\n        intent={Intent.DANGER}\n        confirmButtonText={\"Delete\"}\n        cancelButtonText={\"Cancel\"}\n        onCancel={() => setShowDeleteAlert(false)}\n        onConfirm={() => onDelete()}\n      >\n        <p>Are you sure that you want to permanently delete this post? </p>\n      </Alert>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport useAPI from \"../../shared/useAPI\";\nimport { Notification } from \"../../shared/helpers/notification\";\nimport { Alert, Button, Intent } from \"@blueprintjs/core\";\nimport { RouteParams } from \"../../shared/types/router\";\n\nexport default function PublishPost({ savePost }: { savePost: () => void }) {\n  let { id } = useParams<RouteParams>();\n  let history = useHistory();\n\n  //Publish post\n  const [showPublishAlert, setShowPublishAlert] = useState(false);\n  const { execute: publishPost } = useAPI(\n    {\n      method: \"POST\",\n      url: \"posts/publish\",\n      data: {\n        id: id,\n      },\n    },\n    true\n  );\n\n  async function onPublish() {\n    try {\n      await savePost();\n      const res = await publishPost();\n      // @ts-ignore\n      history.push(`/post/edit/${res.data._id}`);\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Unable to publish post.\", error);\n      Notification.show({ message: \"Oh no, I can't publish the post.  \", intent: Intent.DANGER, icon: \"delete\" });\n    }\n  }\n\n  return (\n    <>\n      <Button\n        icon=\"globe\"\n        text={\"Publish\"}\n        onClick={() => {\n          setShowPublishAlert(true);\n        }}\n      />\n      <Alert\n        isOpen={showPublishAlert}\n        intent={Intent.PRIMARY}\n        confirmButtonText={\"Publish\"}\n        cancelButtonText={\"Cancel\"}\n        onCancel={() => setShowPublishAlert(false)}\n        onConfirm={() => onPublish()}\n      >\n        <p>Are you sure you want to publish this now?</p>\n      </Alert>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport useAPI from \"../../shared/useAPI\";\nimport { Notification } from \"../../shared/helpers/notification\";\nimport { Alert, Button, Intent } from \"@blueprintjs/core\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { RouteParams } from \"../../shared/types/router\";\n\nexport default function UnpublishPost({ savePost }: { savePost: () => void }) {\n  let { id } = useParams<RouteParams>();\n  let history = useHistory();\n  //Unpublish post\n  const [showUnpublishAlert, setShowUnpublishAlert] = useState(false);\n  const { execute: unpublishPost } = useAPI(\n    {\n      method: \"POST\",\n      url: \"posts/draft\",\n      data: {\n        id: id,\n      },\n    },\n    true\n  );\n\n  async function onUnpublish() {\n    try {\n      await savePost();\n      const res = await unpublishPost();\n      // @ts-ignore\n      history.push(`/post/edit/${res.data._id}`);\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Unable to unpublish post.\", error);\n      Notification.show({\n        message: \"Oh no, I can't unpublish the post.  \",\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    }\n  }\n\n  return (\n    <>\n      <Button\n        icon=\"pause\"\n        text={\"Unpublish\"}\n        onClick={() => {\n          setShowUnpublishAlert(true);\n        }}\n      />\n      <Alert\n        isOpen={showUnpublishAlert}\n        intent={Intent.PRIMARY}\n        confirmButtonText={\"Unpublish\"}\n        cancelButtonText={\"Cancel\"}\n        onCancel={() => setShowUnpublishAlert(false)}\n        onConfirm={() => onUnpublish()}\n      >\n        <p>\n          <b>Are you sure you want to unpublish this post?</b>\n        </p>\n        <p>\n          Drafts can be seen and edited through the admin panel, but only published posts are available on your website.\n        </p>\n      </Alert>\n    </>\n  );\n}\n","import { useParams } from \"react-router-dom\";\nimport useAPI from \"../shared/useAPI\";\nimport { AnchorButton, Button, ButtonGroup, Popover } from \"@blueprintjs/core\";\nimport React from \"react\";\nimport DeletePost from \"./actions/DeletePost\";\nimport PublishPost from \"./actions/PublishPost\";\nimport UnpublishPost from \"./actions/UnpublishPost\";\nimport { RouteParams } from \"../shared/types/router\";\n\nexport default function PostEditorActionDropdown({ savePost }: { savePost: () => void }) {\n  let { id } = useParams<RouteParams>();\n\n  const { data: post } = useAPI({\n    method: \"POST\",\n    url: \"posts/getSingle\",\n    data: {\n      id: id,\n    },\n  });\n\n  return (\n    <>\n      {post.published ? (\n        <AnchorButton icon=\"share\" text={\"Preview\"} href={`/${post.path}`} target=\"_blank\" rel=\"noopener noreferrer\" />\n      ) : (\n        <PublishPost savePost={savePost} />\n      )}\n      <Popover position={\"bottom\"} minimal>\n        <Button icon=\"caret-down\" />\n        <ButtonGroup minimal vertical>\n          {post.published ? <UnpublishPost savePost={savePost} /> : undefined}\n          <DeletePost />\n        </ButtonGroup>\n      </Popover>\n    </>\n  );\n}\n","import AceEditor, { IAnnotation } from \"react-ace\";\nimport \"ace-builds/src-noconflict/theme-xcode\";\nimport \"ace-builds/src-noconflict/mode-yaml\";\nimport \"ace-builds/src-min-noconflict/ext-searchbox\";\nimport { Alert, Dialog, Intent } from \"@blueprintjs/core\";\nimport React, { useEffect, useLayoutEffect, useState } from \"react\";\nimport useAPI from \"../useAPI\";\n\nconst frontMatterHelper = require(\"hexo-front-matter\");\n\ntype FrontMatterEditorProps = {\n  value: string;\n  onClose: (newMetadata: string) => void;\n  isOpen: boolean;\n};\n\nexport default function FrontMatterEditor({ value, onClose, isOpen }: FrontMatterEditorProps) {\n  const [metaData, setMetadata] = useState(\"\");\n  const [errorMarkers, setErrorMarkers] = useState<IAnnotation[]>([]);\n  const [canBeClosed, setCanBeClosed] = useState(true);\n  useLayoutEffect(() => {\n    setMetadata(value);\n  }, [value]);\n\n  useEffect(() => {\n    validateFrontMatter();\n    //eslint-disable-next-line\n  }, [metaData]);\n\n  const { data: userPrefs } = useAPI({\n    method: \"GET\",\n    url: \"settings/bridge/getAsJson\",\n  });\n\n  function validateFrontMatter(): boolean {\n    try {\n      frontMatterHelper.parse(metaData);\n      if (!metaData.trim().endsWith(\"---\")) {\n        setErrorMarkers([\n          {\n            row: metaData.split(\"\\n\").length - 1,\n            column: 0,\n            text: \"Front matter must end with ---\",\n            type: \"error\",\n          },\n        ]);\n        return false;\n      }\n      setErrorMarkers([]);\n      return true;\n    } catch (error: any) {\n      setErrorMarkers([\n        {\n          row: error.mark.line,\n          column: 0,\n          text: error.message,\n          type: \"error\",\n        },\n      ]);\n      return false;\n    }\n  }\n\n  function onCloseEditor() {\n    const isMetadataValid = validateFrontMatter();\n    if (isMetadataValid) {\n      setCanBeClosed(true);\n      onClose(metaData);\n    } else {\n      setCanBeClosed(false);\n    }\n  }\n\n  return (\n    <>\n      <Dialog\n        icon=\"annotation\"\n        title=\"Front matter editor\"\n        isOpen={isOpen}\n        canOutsideClickClose={false}\n        onClose={onCloseEditor}\n        style={{ width: \"40vw\" }}\n      >\n        <AceEditor\n          height=\"50vh\"\n          width=\"fit-parent\"\n          style={{ marginBottom: \"-12px\" }}\n          mode=\"yaml\"\n          theme=\"xcode\"\n          annotations={errorMarkers}\n          onChange={(newContent: string) => {\n            setMetadata(newContent.trim());\n          }}\n          value={metaData}\n          fontSize={userPrefs.editorFontSize || 14}\n          showPrintMargin={false}\n          editorProps={{ $blockScrolling: true }}\n        />\n        <Alert\n          isOpen={!canBeClosed}\n          intent={Intent.PRIMARY}\n          icon=\"error\"\n          confirmButtonText=\"Go back\"\n          cancelButtonText=\"Discard changes\"\n          onCancel={() => {\n            setMetadata(value);\n            setCanBeClosed(true);\n            onClose(value);\n          }}\n          onConfirm={() => setCanBeClosed(true)}\n        >\n          <p>\n            <b>Front matter contains errors.</b>\n          </p>\n          <p>You can go back and correct these errors, or discard the changes.</p>\n        </Alert>\n      </Dialog>{\" \"}\n    </>\n  );\n}\n","const frontMatterHelper = require(\"hexo-front-matter\");\n\nexport function parsePageData(pageData: object) {\n  try {\n    // @ts-ignore\n    const parsed = frontMatterHelper.parse(pageData.raw);\n    const meta = (({ _content, ...others }) => ({ ...others }))(parsed);\n    if (!meta.title) {\n      // @ts-ignore\n      meta.title = pageData.title || \"\";\n    }\n    if (!meta.date) {\n      // @ts-ignore\n      meta.date = pageData.date || new Date().toISOString();\n    }\n    return { content: parsed._content, meta: meta };\n  } catch (error: any) {\n    console.error(\"Error while parsing page data.\", error);\n    throw new Error(error);\n  }\n}\n\nexport function parsePostData(postData: object) {\n  try {\n    // @ts-ignore\n    const parsed = frontMatterHelper.parse(postData.raw);\n    const meta = (({ _content, ...others }) => ({ ...others }))(parsed);\n    if (!meta.title) {\n      // @ts-ignore\n      meta.title = postData.title || \"\";\n    }\n\n    if (!meta.categories) {\n      meta.categories = [];\n    }\n\n    if (!meta.tags) {\n      meta.tags = [];\n    }\n    if (!meta.date) {\n      // @ts-ignore\n      meta.date = postData.date || new Date().toISOString();\n    }\n    return { content: parsed._content, meta: meta };\n  } catch (error: any) {\n    console.error(\"Error while parsing post data.\", error);\n    throw new Error(error);\n  }\n}\n\nexport function validateRequiredPostMetadataFields(data: string) {\n  let meta = frontMatterHelper.parse(data);\n  if (!meta.title) {\n    // @ts-ignore\n    meta.title = \"Hello world\";\n  }\n\n  if (!meta.categories) {\n    meta.categories = [];\n  }\n\n  if (!meta.tags) {\n    meta.tags = [];\n  }\n  if (!meta.date) {\n    // @ts-ignore\n    meta.date = new Date().toISOString();\n  }\n  return meta;\n}\n\nexport function validateRequiredPageMetadataFields(data: string) {\n  let meta = frontMatterHelper.parse(data);\n  if (!meta.title) {\n    // @ts-ignore\n    meta.title = \"Hello world\";\n  }\n  return meta;\n}\n","import React, { useLayoutEffect, useState } from \"react\";\nimport Navigation from \"../shared/components/Navigation\";\nimport { Prompt, useParams } from \"react-router-dom\";\nimport useAPI from \"../shared/useAPI\";\nimport { Button, ButtonGroup, ControlGroup, Divider, InputGroup, Intent, Popover, Spinner } from \"@blueprintjs/core\";\nimport PostEditorActionDropdown from \"./PostEditorActionDropdown\";\nimport { Notification } from \"../shared/helpers/notification\";\nimport { DatePicker } from \"@blueprintjs/datetime\";\nimport FrontMatterEditor from \"../shared/components/FrontMatterEditor\";\nimport { parsePostData, validateRequiredPostMetadataFields } from \"../shared/helpers/frontMatterParserHelper\";\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/theme-xcode\";\nimport \"ace-builds/src-noconflict/mode-markdown\";\nimport \"ace-builds/src-min-noconflict/ext-searchbox\";\nimport GenericError from \"../shared/components/GenericError\";\nimport { AxiosRequestConfig } from \"axios\";\nimport { RouteParams } from \"../shared/types/router\";\n\nconst frontMatterHelper = require(\"hexo-front-matter\");\n//API Config\nconst getSinglePostAPI: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"posts/getSingle\",\n};\n\nconst savePostAPI: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"posts/save\",\n};\n\nconst getUserPrefsAPI: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"settings/bridge/getAsJson\",\n};\n\nexport default function PostEditorPage() {\n  const { id } = useParams<RouteParams>();\n  const { data: userPrefs } = useAPI(getUserPrefsAPI);\n  //Get post from api, setup code editor, preview & parse front matter for metadata.\n  const {\n    loading: isLoading,\n    error,\n    data: postData,\n  } = useAPI({\n    ...getSinglePostAPI,\n    data: {\n      id: id,\n    },\n  });\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [metadata, setMetadata] = useState({ title: \"\", categories: [], tags: [], date: new Date().toISOString() });\n  const [content, setContent] = useState(\"\");\n  const [showFrontMatterEditor, setShowFrontMatterEditor] = useState(false);\n  const { execute: savePost } = useAPI(\n    {\n      ...savePostAPI,\n      data: {\n        id: id,\n        content: frontMatterHelper.stringify(metadata) + content,\n      },\n    },\n    true\n  );\n\n  //Parse post from api\n  useLayoutEffect(() => {\n    if (postData.raw) {\n      const parsedPost = parsePostData(postData);\n      setContent(parsedPost.content);\n      setMetadata(parsedPost.meta);\n    }\n  }, [postData]);\n\n  async function onSave() {\n    try {\n      await savePost();\n      setHasUnsavedChanges(false);\n      Notification.show({\n        message: \"Saved!\",\n        intent: Intent.SUCCESS,\n        icon: \"saved\",\n      });\n    } catch (error) {\n      console.error(\"Unable to save post.\", error);\n      Notification.show({\n        message: \"Oh no, I can't save the post.  \",\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    }\n  }\n\n  function getState() {\n    if (isLoading) {\n      return <Spinner />;\n    }\n    if (error) {\n      return <GenericError />;\n    }\n    return (\n      <>\n        <ControlGroup className=\"margin\">\n          <InputGroup\n            leftIcon=\"edit\"\n            placeholder=\"I  hexo.\"\n            value={metadata.title}\n            onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n              setMetadata({ ...metadata, title: event.target.value });\n              setHasUnsavedChanges(true);\n            }}\n          />\n          <Divider />\n          <ButtonGroup minimal>\n            <Button\n              icon=\"property\"\n              onClick={() => {\n                setShowFrontMatterEditor(true);\n              }}\n            >\n              Categories ({metadata.categories.length})\n            </Button>\n            <Button\n              icon=\"tag\"\n              onClick={() => {\n                setShowFrontMatterEditor(true);\n              }}\n            >\n              Tags ({metadata.tags.length})\n            </Button>\n            <Popover autoFocus={false}>\n              <Button icon=\"calendar\">\n                {new Date(metadata.date).toLocaleString(undefined, {\n                  day: \"2-digit\",\n                  month: \"short\",\n                  year: \"numeric\",\n                })}\n              </Button>\n              <DatePicker\n                value={new Date(metadata.date)}\n                onChange={(selectedDate: Date, isUserChange: boolean) => {\n                  if (isUserChange) {\n                    setMetadata({ ...metadata, date: selectedDate.toISOString() });\n                    setHasUnsavedChanges(true);\n                  }\n                }}\n              />\n            </Popover>\n            <Divider />\n            <Button\n              icon=\"annotation\"\n              text={\"Front matter\"}\n              minimal\n              onClick={() => {\n                setShowFrontMatterEditor(true);\n              }}\n            />\n            <FrontMatterEditor\n              isOpen={showFrontMatterEditor}\n              value={frontMatterHelper.stringify(metadata)}\n              onClose={(newData) => {\n                setShowFrontMatterEditor(false);\n                setMetadata(validateRequiredPostMetadataFields(newData));\n                setHasUnsavedChanges(true);\n              }}\n            />\n          </ButtonGroup>\n          <span style={{ flexGrow: 1 }} />\n          <ButtonGroup minimal>\n            <Button icon=\"floppy-disk\" text=\"Save\" onClick={onSave} disabled={!hasUnsavedChanges} />\n            <PostEditorActionDropdown savePost={onSave} />\n          </ButtonGroup>\n        </ControlGroup>\n        <div className=\"code-editor-preview-container\">\n          <AceEditor\n            height=\"90vh\"\n            width=\"100vw\"\n            mode=\"markdown\"\n            theme=\"xcode\"\n            wrapEnabled={true}\n            value={content}\n            onLoad={(editor) => {\n              editor.getSession().setValue(content);\n            }}\n            onChange={(newContent: string) => {\n              setContent(newContent);\n              setHasUnsavedChanges(true);\n            }}\n            setOptions={{ useWorker: false }}\n            commands={[\n              {\n                // commands is array of key bindings.\n                name: \"SavePost\",\n                bindKey: { win: \"Ctrl-S\", mac: \"Ctrl-S\" },\n                exec: () => {}, //Disable default browser behavior\n              },\n            ]}\n            fontSize={userPrefs.editorFontSize || 14}\n            showPrintMargin={false}\n            editorProps={{ $blockScrolling: true }}\n          />\n        </div>\n        <Prompt when={hasUnsavedChanges} message=\"You have unsaved changes, are you sure you want to leave?\" />\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Navigation />\n      {getState()}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Elevation } from \"@blueprintjs/core\";\nimport { Link } from \"react-router-dom\";\nimport { Card, Divider } from \"@blueprintjs/core\";\nimport type { Page } from \"./types/types\";\ntype PageCardProps = {\n  page: Page;\n  selectedPage: Page;\n  setSelectedPage: (page: Page) => void;\n};\n\nexport default function PageCard({ page, selectedPage, setSelectedPage }: PageCardProps) {\n  return (\n    <Card className=\"card-list-item\" interactive elevation={Elevation.ZERO} onClick={() => setSelectedPage(page)}>\n      <Link className={page._id === selectedPage._id ? \"selected-item\" : undefined} to={`/page/edit/${page._id}`}>\n        <b>{page.title}</b>\n      </Link>\n      <Divider />\n      <p className=\"bp3-text-muted\">\n        {new Date(page.date).toLocaleString(undefined, {\n          day: \"2-digit\",\n          month: \"short\",\n          year: \"numeric\",\n        })}{\" \"}\n      </p>\n    </Card>\n  );\n}\n","import React, { useState } from \"react\";\nimport { NonIdealState } from \"@blueprintjs/core\";\nimport PageCard from \"./PageCard\";\nimport HtmlPreview from \"../shared/components/HtmlPreview\";\nimport type { Page } from \"./types/types\";\n\nconst undefinedPage = {\n  _id: \"\",\n  title: \"\",\n  date: \"\",\n  content: \"\",\n};\n\nexport default function PageList({ pages }: { pages: Page[] }) {\n  const [selectedPage, setSelectedPage] = useState<Page>(undefinedPage);\n\n  function getState() {\n    if (pages.length === 0) {\n      return <NonIdealState icon=\"path-search\" title=\"Sorry, I can't find the page you're looking for.\" />;\n    }\n    return (\n      <>\n        <div>\n          {pages.map((page) => (\n            <PageCard key={page._id} page={page} selectedPage={selectedPage} setSelectedPage={setSelectedPage} />\n          ))}\n        </div>\n        <HtmlPreview className=\"card-preview-panel\" code={selectedPage.content} />\n      </>\n    );\n  }\n\n  return getState();\n}\n","import React, { useEffect, useState } from \"react\";\nimport Navigation from \"../shared/components/Navigation\";\nimport useAPI from \"../shared/useAPI\";\nimport { ControlGroup, Divider, InputGroup, Spinner } from \"@blueprintjs/core\";\nimport { sortByDate } from \"../shared/helpers/sortByDate\";\nimport { getPageItems } from \"../shared/helpers/pagingHelpers\";\nimport Pagination from \"../shared/components/Pagination\";\nimport PageList from \"./PageList\";\nimport { AxiosRequestConfig } from \"axios\";\nimport GenericError from \"../shared/components/GenericError\";\nimport search from \"../shared/helpers/searchHelper\";\nimport type { Page } from \"./types/types\";\n\n//API Config section\nconst getAllPagesAPI: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"pages/getAll\",\n};\nconst getUserPrefsAPI: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"settings/bridge/getAsJson\",\n};\n\nexport default function AllPagesPage() {\n  //All pages on the website.\n  const { loading: isLoading, error, data: allPages } = useAPI(getAllPagesAPI);\n  //All pages which match the user criteria. Ex: pages which contain hexo in the title.\n  const [currentPageSelection, setCurrentPageSelection] = useState<Page[]>(new Array<Page>());\n  //Paging related\n  const { loading: isUserPrefsLoading, data: userPrefs } = useAPI(getUserPrefsAPI);\n  const itemsPerPage = userPrefs.page_list_itemsPerPage || 4;\n  const [currentPageItems, setCurrentPageItems] = useState<Page[]>(new Array<Page>());\n  const [currentPageNumber, setCurrentPageNumber] = useState(1);\n\n  //Init\n  useEffect(resetPageSelection, [allPages, itemsPerPage]);\n\n  function resetPageSelection() {\n    const sorted = allPages.sort(sortByDate);\n    setCurrentPageSelection(sorted);\n    setCurrentPageNumber(1);\n    setCurrentPageItems(getPageItems(sorted, 1, itemsPerPage));\n  }\n\n  //Search by title\n  function searchByTitle(searchQuery: string) {\n    const searchResult = search(searchQuery, allPages, [\"title\"]).sort(sortByDate);\n    const firstPage = getPageItems(searchResult, 1, itemsPerPage);\n    setCurrentPageSelection(searchResult);\n    setCurrentPageItems(firstPage);\n    setCurrentPageNumber(1);\n  }\n\n  function onPageChange(newPage: number) {\n    setCurrentPageNumber(newPage);\n    setCurrentPageItems(getPageItems(currentPageSelection, newPage, itemsPerPage));\n  }\n\n  function getCurrentState() {\n    if (isLoading || isUserPrefsLoading) {\n      return <Spinner />;\n    }\n    if (error) {\n      return <GenericError />;\n    }\n    return (\n      <>\n        <ControlGroup fill={false} vertical={false}>\n          <InputGroup\n            className=\"search-input\"\n            leftIcon=\"search\"\n            placeholder=\"Search\"\n            onChange={(event: React.ChangeEvent<HTMLInputElement>) => searchByTitle(event.target.value)}\n          />\n          <Divider />\n          <Pagination\n            count={Math.ceil(currentPageSelection.length / itemsPerPage)}\n            currentPage={currentPageNumber}\n            onChange={onPageChange}\n          />\n        </ControlGroup>\n        <div className=\"list-preview-container\">\n          <PageList pages={currentPageItems} />\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Navigation />\n      {getCurrentState()}\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport useAPI from \"../shared/useAPI\";\nimport { Alert, AnchorButton, Button, ButtonGroup, Intent, Popover } from \"@blueprintjs/core\";\nimport { Notification } from \"../shared/helpers/notification\";\nimport { AxiosRequestConfig } from \"axios\";\nimport { RouteParams } from \"../shared/types/router\";\n\n//API Config\nconst getSinglePageAPI: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"pages/getSingle\",\n};\n\nconst deletePageAPI: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"pages/delete\",\n};\n\nexport default function PageEditorActionDropdown({ savePage }: { savePage: () => void }) {\n  let { id } = useParams<RouteParams>();\n  let history = useHistory();\n\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const { loading: isLoading, data: page } = useAPI({\n    ...getSinglePageAPI,\n    data: {\n      id: id,\n    },\n  });\n\n  //Delete post\n  const [showDeleteAlert, setShowDeleteAlert] = useState(false);\n  const { execute: deletePage } = useAPI(\n    {\n      ...deletePageAPI,\n      data: {\n        id: id,\n      },\n    },\n    true\n  );\n\n  async function onDelete() {\n    try {\n      await deletePage();\n      history.push(\"/page/all\");\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Unable to delete page.\", error);\n      Notification.show({ message: \"Oh no, I can't delete the page.  \", intent: Intent.DANGER, icon: \"delete\" });\n    }\n  }\n\n  function getCurrentState() {\n    if (isLoading) {\n      return <></>;\n    }\n    return (\n      <>\n        <AnchorButton icon=\"share\" text=\"Preview\" href={`/${page.path}`} target=\"_blank\" rel=\"noopener noreferrer\" />\n        <Popover position=\"bottom\" minimal>\n          <Button icon=\"caret-down\" onClick={() => setIsDropdownOpen(!isDropdownOpen)} />\n          <ButtonGroup minimal vertical>\n            <Button\n              icon=\"trash\"\n              text=\"Delete\"\n              onClick={() => {\n                setShowDeleteAlert(true);\n              }}\n            />\n          </ButtonGroup>\n        </Popover>\n        <Alert\n          isOpen={showDeleteAlert}\n          icon=\"trash\"\n          intent={Intent.DANGER}\n          confirmButtonText=\"Delete\"\n          cancelButtonText=\"Cancel\"\n          onOpened={() => setIsDropdownOpen(false)}\n          onCancel={() => setShowDeleteAlert(false)}\n          onConfirm={() => onDelete()}\n        >\n          <p>Are you sure that you want to permanently delete this page? </p>\n        </Alert>\n      </>\n    );\n  }\n\n  return getCurrentState();\n}\n","import React, { useLayoutEffect, useState } from \"react\";\nimport Navigation from \"../shared/components/Navigation\";\nimport { Prompt, useParams } from \"react-router-dom\";\nimport useAPI from \"../shared/useAPI\";\nimport { Button, ButtonGroup, ControlGroup, Divider, InputGroup, Intent, Spinner } from \"@blueprintjs/core\";\nimport { parsePageData, validateRequiredPageMetadataFields } from \"../shared/helpers/frontMatterParserHelper\";\nimport FrontMatterEditor from \"../shared/components/FrontMatterEditor\";\nimport { Notification } from \"../shared/helpers/notification\";\nimport PageEditorActionDropdown from \"./PageEditorActionDropdown\";\nimport GenericError from \"../shared/components/GenericError\";\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/theme-xcode\";\nimport \"ace-builds/src-noconflict/mode-markdown\";\nimport \"ace-builds/src-min-noconflict/ext-searchbox\";\nimport { AxiosRequestConfig } from \"axios\";\nimport { RouteParams } from \"../shared/types/router\";\n\nconst frontMatterHelper = require(\"hexo-front-matter\");\n\n//API Config section\nconst getSinglePageAPI: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"pages/getSingle\",\n};\n\nconst savePageAPI: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"pages/save\",\n};\n\nconst getUserPrefsAPI: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"settings/bridge/getAsJson\",\n};\n\nexport default function PageEditorPage() {\n  const { id } = useParams<RouteParams>();\n  const { data: userPrefs } = useAPI(getUserPrefsAPI);\n  //Get page from api\n  const { loading: isLoading, error, data: pageData } = useAPI({\n    ...getSinglePageAPI,\n    data: {\n      id: id,\n    },\n  });\n\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [metadata, setMetadata] = useState({ title: \"\", categories: [], tags: [], date: new Date().toISOString() });\n  const [content, setContent] = useState(\"\");\n  const [showFrontMatterEditor, setShowFrontMatterEditor] = useState(false);\n  const { execute: savePage } = useAPI(\n    {\n      ...savePageAPI,\n      data: {\n        id: id,\n        content: frontMatterHelper.stringify(metadata) + content,\n      },\n    },\n    true\n  );\n\n  //Init\n  useLayoutEffect(() => {\n    if (pageData.raw) {\n      const parsedPage = parsePageData(pageData);\n      setContent(parsedPage.content);\n      setMetadata(parsedPage.meta);\n    }\n  }, [pageData]);\n\n  async function onSave() {\n    try {\n      await savePage();\n      setHasUnsavedChanges(false);\n      Notification.show({\n        message: \"Saved!\",\n        intent: Intent.SUCCESS,\n        icon: \"saved\",\n      });\n    } catch (error) {\n      console.error(\"Unable to save page.\", error);\n      Notification.show({\n        message: \"Oh no, I can't save the page.  \",\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    }\n  }\n\n  function getState() {\n    if (isLoading) {\n      return <Spinner />;\n    }\n    if (error) {\n      return <GenericError />;\n    }\n    return (\n      <>\n        <ControlGroup className=\"margin\">\n          <InputGroup\n            leftIcon=\"edit\"\n            placeholder=\"I  hexo.\"\n            value={metadata.title}\n            onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n              setMetadata({ ...metadata, title: event.target.value });\n              setHasUnsavedChanges(true);\n            }}\n          />\n          <Divider />\n          <Button\n            icon=\"annotation\"\n            text=\"Front matter\"\n            minimal\n            onClick={() => {\n              setShowFrontMatterEditor(true);\n            }}\n          />\n          <FrontMatterEditor\n            isOpen={showFrontMatterEditor}\n            value={frontMatterHelper.stringify(metadata)}\n            onClose={(newData) => {\n              setShowFrontMatterEditor(false);\n              setMetadata(validateRequiredPageMetadataFields(newData));\n              setHasUnsavedChanges(true);\n            }}\n          />\n          <span style={{ flexGrow: 1 }} />\n          <ButtonGroup minimal>\n            <Button text=\"Save\" icon=\"floppy-disk\" onClick={onSave} disabled={!hasUnsavedChanges} />\n            <PageEditorActionDropdown savePage={onSave} />\n          </ButtonGroup>\n        </ControlGroup>\n        <div className=\"code-editor-preview-container\">\n          <AceEditor\n            height=\"90vh\"\n            width=\"100vw\"\n            mode=\"markdown\"\n            theme=\"xcode\"\n            wrapEnabled={true}\n            value={content}\n            onChange={(newContent: string) => {\n              setContent(newContent);\n              setHasUnsavedChanges(true);\n            }}\n            fontSize={userPrefs.editorFontSize || 14}\n            showPrintMargin={false}\n            editorProps={{ $blockScrolling: true }}\n          />\n        </div>\n        <Prompt when={hasUnsavedChanges} message=\"You have unsaved changes, are you sure you want to leave?\" />\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Navigation />\n      {getState()}\n    </>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/hexo-logo-avatar.0e6ec9d7.svg\";","import React from \"react\";\nimport { Alignment, Button, Navbar } from \"@blueprintjs/core\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport Logo from \"../shared/controll-panel.png\";\nimport HexoLogo from \"../shared/hexo-logo-avatar.svg\";\n\nexport default function NavigationSettings() {\n  const location = useLocation();\n  return (\n    <Navbar className={\"navigation-bar\"}>\n      <Navbar.Group align={Alignment.LEFT}>\n        <Link to=\"/setting/hexo\">\n          <Button\n            minimal\n            icon={<img className=\"navigation-logo\" src={HexoLogo} width=\"20\" height=\"20\" alt={\"Hexo logo\"} />}\n            text=\"Hexo\"\n            outlined={location.pathname === \"/setting/hexo\"}\n          />\n        </Link>\n        <Link to=\"/setting/bridge\">\n          <Button\n            minimal\n            icon={<img className=\"navigation-logo\" src={Logo} width=\"20\" height=\"20\" alt={\"Bridge logo\"} />}\n            text=\"Bridge\"\n            outlined={location.pathname === \"/setting/bridge\"}\n          />\n        </Link>\n        <Navbar.Divider />\n        <Link to=\"/setting/scaffolds\">\n          <Button minimal icon=\"applications\" text=\"Scaffolds\" outlined={location.pathname === \"/setting/scaffolds\"} />\n        </Link>\n      </Navbar.Group>\n    </Navbar>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Button, Callout, ControlGroup, Intent, Spinner } from \"@blueprintjs/core\";\nimport GenericError from \"./GenericError\";\nimport { AxiosRequestConfig } from \"axios\";\nimport useAPI from \"../useAPI\";\nimport { Notification } from \"../helpers/notification\";\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/theme-xcode\";\nimport \"ace-builds/src-noconflict/mode-yaml\";\nimport \"ace-builds/src-min-noconflict/ext-searchbox\";\n\ntype YamlConfigEditorProps = {\n  getContentConfig: AxiosRequestConfig;\n  saveContentConfig: AxiosRequestConfig;\n};\n\nconst yamlValidation: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"settings/validateYaml\",\n};\nconst getUserPrefs: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"settings/bridge/getAsJson\",\n};\n\nexport default function YamlConfigEditor(props: YamlConfigEditorProps) {\n  const { data: userPrefs } = useAPI(getUserPrefs);\n  const { loading: isLoading, error, data: configData } = useAPI(props.getContentConfig);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const [config, setConfig] = useState(\"\");\n  const { execute: saveConfig } = useAPI(\n    {\n      ...props.saveContentConfig,\n      data: {\n        config: config,\n      },\n    },\n    true\n  );\n\n  //Init\n  useEffect(() => {\n    setConfig(configData.config);\n  }, [configData]);\n\n  //Setup yaml verification\n  const { execute: verifyYaml } = useAPI(\n    {\n      ...yamlValidation,\n      data: {\n        config: config,\n      },\n    },\n    true\n  );\n\n  const [errorMarkers, setErrorMarkers] = useState([]);\n  useEffect(() => {\n    const validate = async () => {\n      const res = await verifyYaml();\n      // @ts-ignore\n      if (res.data.error.length === 0) {\n        setErrorMarkers([]);\n      } else {\n        // @ts-ignore\n\n        setErrorMarkers([\n          {\n            // @ts-ignore\n            row: res.data.error.mark.line,\n            // @ts-ignore\n            column: 0,\n            // @ts-ignore\n            text: res.data.error.message,\n            // @ts-ignore\n            type: \"error\",\n          },\n        ]);\n      }\n    };\n    validate();\n    //eslint-disable-next-line\n  }, [config]);\n\n  async function onSave() {\n    try {\n      await saveConfig();\n      Notification.show({\n        message: \"The config has been saved! \",\n        intent: Intent.SUCCESS,\n        icon: \"saved\",\n      });\n      setHasUnsavedChanges(false);\n    } catch (error) {\n      console.error(\"Unable to save config.\", error);\n      Notification.show({\n        message: \"Oh no, I can't save the config.  \",\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    }\n  }\n\n  function getCurrentState() {\n    if (isLoading) {\n      return <Spinner />;\n    }\n    if (error) {\n      return <GenericError />;\n    }\n    return (\n      <>\n        <ControlGroup style={{ margin: \"5px\" }}>\n          <Callout style={{ maxWidth: \"fit-content\" }} icon=\"info-sign\">\n            <b>Filename:</b> {configData.fileName}\n          </Callout>\n          <span style={{ flexGrow: 1 }} />\n          <Button\n            icon=\"floppy-disk\"\n            minimal\n            text=\"Save\"\n            disabled={!hasUnsavedChanges || errorMarkers.length !== 0}\n            onClick={onSave}\n          />\n        </ControlGroup>\n        <AceEditor\n          height=\"80vh\"\n          width=\"99vw\"\n          style={{ margin: \"5px\" }}\n          mode=\"yaml\"\n          theme=\"xcode\"\n          annotations={errorMarkers}\n          onChange={(newContent: string) => {\n            setConfig(newContent);\n            setHasUnsavedChanges(true);\n          }}\n          value={config}\n          fontSize={userPrefs.editorFontSize || 14}\n          showPrintMargin={false}\n          editorProps={{ $blockScrolling: true }}\n        />\n      </>\n    );\n  }\n\n  return getCurrentState();\n}\n","import React from \"react\";\nimport Navigation from \"../shared/components/Navigation\";\nimport NavigationSettings from \"./NavigationSettings\";\nimport { AxiosRequestConfig } from \"axios\";\nimport YamlConfigEditor from \"../shared/components/YamlConfigEditor\";\n\n//API Config\nconst getHexoConfig: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"settings/hexo/get\",\n};\nconst saveHexoConfig: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"settings/hexo/save\",\n};\n\nexport default function HexoSettingsPage() {\n  return (\n    <>\n      <Navigation />\n      <NavigationSettings />\n      <YamlConfigEditor getContentConfig={getHexoConfig} saveContentConfig={saveHexoConfig} />\n    </>\n  );\n}\n","import React from \"react\";\nimport Navigation from \"../shared/components/Navigation\";\nimport NavigationSettings from \"./NavigationSettings\";\nimport { AxiosRequestConfig } from \"axios\";\nimport YamlConfigEditor from \"../shared/components/YamlConfigEditor\";\n\n//API Config\nconst getBridgeConfig: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"settings/bridge/get\",\n};\nconst saveBridgeConfig: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"settings/bridge/save\",\n};\n\nexport default function BridgeSettingsPage() {\n  return (\n    <>\n      <Navigation />\n      <NavigationSettings />\n      <YamlConfigEditor getContentConfig={getBridgeConfig} saveContentConfig={saveBridgeConfig} />\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Button, Classes, Dialog, InputGroup } from \"@blueprintjs/core\";\nimport { Intent } from \"@blueprintjs/core/lib/esm/common/intent\";\nimport { AxiosRequestConfig } from \"axios\";\nimport useAPI from \"../../shared/useAPI\";\nimport { Notification } from \"../../shared/helpers/notification\";\nimport { scaffold } from \"./types\";\n\ntype RenameScaffoldProps = {\n  selectedScaffold: scaffold;\n  allScaffolds: [];\n};\n\nconst renameScaffoldConfig: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"scaffolds/rename\",\n};\n\nexport default function RenameScaffold({ selectedScaffold, allScaffolds }: RenameScaffoldProps) {\n  const [isRenameModalOpen, setIsRenameModalOpen] = useState(false);\n  const [isNameTaken, setIsNameTaken] = useState(true);\n  const [selectedName, setSelectedName] = useState(selectedScaffold.name);\n  const { execute: renameScaffold } = useAPI(\n    {\n      ...renameScaffoldConfig,\n      data: {\n        name: selectedScaffold.name,\n        newName: selectedName,\n      },\n    },\n    true\n  );\n\n  async function onRename() {\n    try {\n      await renameScaffold();\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Unable to rename scaffold.\", error);\n      Notification.show({\n        message: \"Oh no, I can't rename the scaffold.  \",\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    }\n  }\n\n  return (\n    <>\n      <Button\n        icon={\"edit\"}\n        text={\"Rename\"}\n        minimal\n        onClick={() => setIsRenameModalOpen(true)}\n        disabled={selectedScaffold.name === \"post\" || selectedScaffold.name === \"page\"}\n      />\n      <Dialog\n        isOpen={isRenameModalOpen}\n        title={\"Rename scaffold\"}\n        canOutsideClickClose={false}\n        onClose={() => setIsRenameModalOpen(false)}\n      >\n        <div className={Classes.DIALOG_BODY}>\n          <InputGroup\n            value={selectedName}\n            onChange={(event: any) => {\n              let newName = event.target.value;\n              setSelectedName(newName);\n              const search = allScaffolds.filter((scaffold: any) => scaffold.name === newName);\n              if (search.length > 0 || newName.trim().length === 0) {\n                setIsNameTaken(true);\n              } else {\n                setIsNameTaken(false);\n              }\n            }}\n            fill\n          />\n        </div>\n\n        <div className={Classes.DIALOG_FOOTER}>\n          <span className={Classes.DIALOG_FOOTER_ACTIONS}>\n            <Button text={\"Rename\"} intent={Intent.PRIMARY} onClick={onRename} disabled={isNameTaken} />\n          </span>\n        </div>\n      </Dialog>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Alert, Button, Intent } from \"@blueprintjs/core\";\nimport { scaffold } from \"./types\";\nimport { AxiosRequestConfig } from \"axios\";\nimport useAPI from \"../../shared/useAPI\";\nimport { Notification } from \"../../shared/helpers/notification\";\n\nconst deleteScaffoldConfig: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"scaffolds/delete\",\n};\n\nexport default function DeleteScaffold({ selectedScaffold }: { selectedScaffold: scaffold }) {\n  const [showDeleteAlert, setShowDeleteAlert] = useState(false);\n  const { execute: deleteScaffold } = useAPI(\n    {\n      ...deleteScaffoldConfig,\n      data: {\n        name: selectedScaffold.name,\n      },\n    },\n    true\n  );\n\n  async function onDelete() {\n    try {\n      await deleteScaffold();\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Unable to delete scaffold.\", error);\n      Notification.show({\n        message: \"Oh no, I can't delete the scaffold.  \",\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    }\n  }\n\n  return (\n    <>\n      <Button\n        icon={\"trash\"}\n        text={\"Delete\"}\n        minimal\n        disabled={selectedScaffold.name === \"post\" || selectedScaffold.name === \"page\"}\n        onClick={() => setShowDeleteAlert(true)}\n      />\n      <Alert\n        isOpen={showDeleteAlert}\n        icon={\"trash\"}\n        intent={Intent.DANGER}\n        confirmButtonText={\"Delete\"}\n        cancelButtonText={\"Cancel\"}\n        onCancel={() => setShowDeleteAlert(false)}\n        onConfirm={() => onDelete()}\n      >\n        <p>Are you sure that you want to permanently delete this scaffold? </p>\n      </Alert>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Button, Classes, Dialog, InputGroup } from \"@blueprintjs/core\";\nimport { scaffold } from \"./types\";\nimport { Intent } from \"@blueprintjs/core/lib/esm/common/intent\";\nimport { AxiosRequestConfig } from \"axios\";\nimport useAPI from \"../../shared/useAPI\";\nimport { Notification } from \"../../shared/helpers/notification\";\n\nconst createScaffoldConfig: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"scaffolds/create\",\n};\n\nexport default function NewScaffold({ allScaffolds }: { allScaffolds: scaffold[] }) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedName, setSelectedName] = useState(\"\");\n  const [isNameTaken, setIsNameTaken] = useState(true);\n  const { execute: createScaffold } = useAPI(\n    {\n      ...createScaffoldConfig,\n      data: {\n        name: selectedName,\n      },\n    },\n    true\n  );\n\n  async function onCreate() {\n    try {\n      await createScaffold();\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Unable to create scaffold.\", error);\n      Notification.show({\n        message: \"Oh no, I can't create new scaffold.  \",\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    }\n  }\n\n  return (\n    <>\n      <Button icon={\"insert\"} minimal text={\"New\"} onClick={() => setIsOpen(true)} />\n      <Dialog\n        isOpen={isOpen}\n        title={\"Create new scaffold\"}\n        canOutsideClickClose={false}\n        onClose={() => setIsOpen(false)}\n        icon=\"insert\"\n      >\n        <div className={Classes.DIALOG_BODY}>\n          <p>Enter a name for the new scaffold:</p>\n          <InputGroup\n            value={selectedName}\n            placeholder=\"<Insert scaffold name>\"\n            onChange={(event: any) => {\n              let newName = event.target.value;\n              setSelectedName(newName);\n              const search = allScaffolds.filter((scaffold: any) => scaffold.name === newName);\n              if (search.length > 0 || newName.trim().length === 0) {\n                setIsNameTaken(true);\n              } else {\n                setIsNameTaken(false);\n              }\n            }}\n            fill\n          />\n        </div>\n\n        <div className={Classes.DIALOG_FOOTER}>\n          <span className={Classes.DIALOG_FOOTER_ACTIONS}>\n            <Button text={\"Create\"} intent={Intent.PRIMARY} onClick={onCreate} disabled={isNameTaken} />\n          </span>\n        </div>\n      </Dialog>\n    </>\n  );\n}\n","import React, { useLayoutEffect, useState } from \"react\";\nimport Navigation from \"../../shared/components/Navigation\";\nimport NavigationSettings from \"../NavigationSettings\";\nimport { AxiosRequestConfig } from \"axios\";\nimport useAPI from \"../../shared/useAPI\";\nimport { Button, ButtonGroup, ControlGroup, Intent, Menu, Popover, Spinner } from \"@blueprintjs/core\";\nimport GenericError from \"../../shared/components/GenericError\";\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/theme-xcode\";\nimport \"ace-builds/src-noconflict/mode-markdown\";\nimport \"ace-builds/src-min-noconflict/ext-searchbox\";\nimport { Notification } from \"../../shared/helpers/notification\";\nimport RenameScaffold from \"./RenameScaffold\";\nimport DeleteScaffold from \"./DeleteScaffold\";\nimport { scaffold } from \"./types\";\nimport NewScaffold from \"./NewScaffold\";\n\n// API Config\nconst getAllScaffolds: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"scaffolds/getAllData\",\n};\nconst saveScaffoldConfig: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"scaffolds/save\",\n};\nconst getUserPrefs: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"settings/bridge/getAsJson\",\n};\n\nexport default function ScaffoldsPage() {\n  const { data: userPrefs } = useAPI(getUserPrefs);\n  const [hasNewChanges, setHasNewChanges] = useState(false);\n  const { loading: isLoading, error, data: allScaffolds } = useAPI(getAllScaffolds);\n  const [selectedScaffold, setSelectedScaffold] = useState<scaffold>({\n    name: \"\",\n    content: \"\",\n    fileName: \"\",\n  });\n  const { execute: saveScaffold } = useAPI(\n    {\n      ...saveScaffoldConfig,\n      data: {\n        name: selectedScaffold.name,\n        content: selectedScaffold.content,\n      },\n    },\n    true\n  );\n\n  //Init\n  useLayoutEffect(() => {\n    if (allScaffolds.length > 0) {\n      setSelectedScaffold(allScaffolds[0]);\n    }\n  }, [allScaffolds]);\n\n  async function onSave() {\n    try {\n      await saveScaffold();\n      Notification.show({\n        message: \"The scaffold has been saved! \",\n        intent: Intent.SUCCESS,\n        icon: \"saved\",\n      });\n      setHasNewChanges(false);\n    } catch (error) {\n      console.error(\"Unable to save scaffold.\", error);\n\n      Notification.show({\n        message: \"Oh no, I can't save the scaffold.  \",\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    }\n  }\n\n  function getCurrentState() {\n    if (isLoading) {\n      return <Spinner />;\n    }\n    if (error) {\n      return <GenericError />;\n    }\n    return (\n      <>\n        {\" \"}\n        <ControlGroup style={{ margin: \"5px\" }}>\n          <NewScaffold allScaffolds={allScaffolds} />\n\n          <Popover position={\"bottom-right\"} minimal>\n            <ButtonGroup>\n              <Button icon={\"applications\"} minimal>\n                Selected: {selectedScaffold.name}{\" \"}\n              </Button>\n              <Button icon=\"caret-down\" minimal />\n            </ButtonGroup>\n            <Menu>\n              {allScaffolds.map((scaffold: any) => (\n                <Menu.Item\n                  text={scaffold.name}\n                  onClick={() => {\n                    setSelectedScaffold(scaffold);\n                    setHasNewChanges(false);\n                  }}\n                  active={scaffold.name === selectedScaffold.name}\n                  key={scaffold.name}\n                />\n              ))}\n            </Menu>\n          </Popover>\n          <span style={{ flexGrow: 1 }} />\n          <Button icon={\"floppy-disk\"} minimal text={\"Save\"} onClick={onSave} disabled={!hasNewChanges} />\n          <Popover position={\"bottom\"} minimal>\n            <Button icon=\"caret-down\" minimal />\n            <ButtonGroup minimal vertical>\n              <RenameScaffold selectedScaffold={selectedScaffold} allScaffolds={allScaffolds} />\n              <DeleteScaffold selectedScaffold={selectedScaffold} />\n            </ButtonGroup>\n          </Popover>\n        </ControlGroup>\n        <AceEditor\n          height=\"80vh\"\n          width=\"99vw\"\n          style={{ margin: \"5px\" }}\n          mode=\"yaml\"\n          theme=\"xcode\"\n          onChange={(newContent: string) => {\n            setSelectedScaffold({\n              ...selectedScaffold,\n              content: newContent,\n            });\n            setHasNewChanges(true);\n          }}\n          value={selectedScaffold.content}\n          fontSize={userPrefs.editorFontSize || 14}\n          showPrintMargin={false}\n          editorProps={{ $blockScrolling: true }}\n        />\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Navigation />\n      <NavigationSettings />\n      {getCurrentState()}\n    </>\n  );\n}\n","import { Link, useLocation } from \"react-router-dom\";\nimport { Alignment, Button, Navbar } from \"@blueprintjs/core\";\nimport React from \"react\";\n\nexport default function NavigationPlugins() {\n  const location = useLocation();\n  return (\n    <Navbar className=\"navigation-bar\">\n      <Navbar.Group align={Alignment.LEFT}>\n        <Link to=\"/plugin/installed\">\n          <Button minimal icon=\"ring\" text=\"Installed\" outlined={location.pathname === \"/plugin/installed\"} />\n        </Link>\n        <Link to=\"/plugin/script\">\n          <Button minimal icon=\"code-block\" text=\"Scripts\" outlined={location.pathname === \"/plugin/script\"} />\n        </Link>\n        <Link to=\"/plugin/discover\">\n          <Button minimal icon=\"pulse\" text=\"Discover\" outlined={location.pathname === \"/plugin/discover\"} />\n        </Link>\n      </Navbar.Group>\n    </Navbar>\n  );\n}\n","import React from \"react\";\nimport Masonry from \"react-masonry-css\";\n\nexport default function Grid({\n  columns = 2,\n  className = \"grid\",\n  columnClassName = \"grid-column\",\n  ...props\n}): JSX.Element {\n  return (\n    <Masonry breakpointCols={{ default: columns }} className={className} columnClassName={columnClassName}>\n      {props.children}\n    </Masonry>\n  );\n}\n","import React from \"react\";\nimport { Card, Divider, NonIdealState, Tag } from \"@blueprintjs/core\";\nimport Grid from \"../../shared/components/Grid\";\nimport { Plugin } from \"../types/types\";\n\nexport default function PluginsGrid({ plugins }: { plugins: Plugin[] }) {\n  function getState() {\n    if (plugins.length === 0) {\n      return <NonIdealState icon=\"search\" title=\"Oh snap!\" description=\"I can't find the plugin you're looking for.\" />;\n    }\n    return (\n      <Grid columns={2}>\n        {plugins.map((plugin: Plugin) => {\n          return (\n            <Card className=\"margin\" key={plugin.link}>\n              <h3>\n                <a href={plugin.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                  {plugin.name}\n                </a>\n              </h3>\n              <p>{plugin.description}</p>\n              <Divider />\n              {plugin.tags.map((tag: string) => {\n                return (\n                  <Tag key={tag} minimal className=\"margin\">\n                    {tag}\n                  </Tag>\n                );\n              })}\n            </Card>\n          );\n        })}\n      </Grid>\n    );\n  }\n\n  return getState();\n}\n","import React from \"react\";\nimport { Menu, MenuItem } from \"@blueprintjs/core\";\nimport { TagsAndPluginsList } from \"../types/types\";\n\ntype TagListProps = {\n  allAddons: TagsAndPluginsList[];\n  selected: string;\n  onChange: (newTag: string) => void;\n};\n\nexport default function TagList({ allAddons, selected, onChange }: TagListProps) {\n  return (\n    <Menu className=\"tag-list margin\">\n      {Object.keys(allAddons)\n        .sort(function (a, b) {\n          // @ts-ignore\n          return allAddons[b].count - allAddons[a].count;\n        })\n        .map((tag: any) => {\n          return (\n            <MenuItem\n              key={tag}\n              text={`${tag} (${allAddons[tag].count})`}\n              active={selected === tag}\n              onClick={() => onChange(tag)}\n            />\n          );\n        })}\n    </Menu>\n  );\n}\n","import Navigation from \"../../shared/components/Navigation\";\nimport React, { useEffect, useState } from \"react\";\nimport NavigationPlugins from \"../NavigationPlugins\";\nimport { AxiosRequestConfig } from \"axios\";\nimport { ControlGroup, Divider, InputGroup, Spinner, Tag } from \"@blueprintjs/core\";\nimport useAPI from \"../../shared/useAPI\";\nimport GenericError from \"../../shared/components/GenericError\";\nimport PluginsGrid from \"./PluginsGrid\";\nimport TagList from \"./TagList\";\nimport { getPageItems } from \"../../shared/helpers/pagingHelpers\";\nimport Pagination from \"../../shared/components/Pagination\";\nimport search from \"../../shared/helpers/searchHelper\";\nimport { Plugin } from \"../types/types\";\n\nconst discoverAddonsAPI: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"plugins/getAll\",\n};\nexport default function DiscoverPluginsPage() {\n  const { loading: isLoading, error, data: allAddons } = useAPI(discoverAddonsAPI);\n  const [selectedTag, setSelectedTag] = useState(\"all\");\n  const [currentAddonSelection, setCurrentAddonSelection] = useState<Plugin[]>(new Array<Plugin>());\n  const itemsPerPage = 6;\n  const [currentPageItems, setCurrentPageItems] = useState<Plugin[]>(new Array<Plugin>());\n  const [currentPageNumber, setCurrentPageNumber] = useState(1);\n  useEffect(() => {\n    if (allAddons.all) {\n      resetSelection();\n    } //eslint-disable-next-line\n  }, [allAddons]);\n\n  function resetSelection() {\n    setCurrentAddonSelection(allAddons.all.plugins);\n    setSelectedTag(\"all\");\n    setCurrentPageNumber(1);\n    setCurrentPageItems(getPageItems(allAddons.all.plugins, 1, itemsPerPage));\n  }\n\n  function onTagChange(newTag: string) {\n    setSelectedTag(newTag);\n    setCurrentAddonSelection(allAddons[newTag].plugins);\n    setCurrentPageNumber(1);\n    setCurrentPageItems(getPageItems(allAddons[newTag].plugins, 1, itemsPerPage));\n  }\n\n  function onSearch(searchQuery: string) {\n    onTagChange(\"all\");\n    const searchResult = search(searchQuery, allAddons.all.plugins, [\"name\", \"description\"]);\n    setCurrentAddonSelection(searchResult);\n    setCurrentPageNumber(1);\n    setCurrentPageItems(getPageItems(searchResult, 1, itemsPerPage));\n  }\n\n  function onPageChange(newPage: number) {\n    setCurrentPageNumber(newPage);\n    setCurrentPageItems(getPageItems(currentAddonSelection, newPage, itemsPerPage));\n  }\n\n  function getCurrentState() {\n    if (isLoading) {\n      return <Spinner />;\n    }\n    if (error) {\n      return <GenericError />;\n    }\n    return (\n      <>\n        <ControlGroup>\n          <InputGroup\n            className=\"search-input\"\n            leftIcon=\"search\"\n            placeholder=\"Search\"\n            onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n              onSearch(event.target.value);\n            }}\n          />\n          <Divider />\n          <Tag icon=\"tag\" minimal className=\"margin\">\n            <b>{selectedTag}</b>\n          </Tag>\n          <Divider />\n          <Pagination\n            count={Math.ceil(currentAddonSelection.length / itemsPerPage)}\n            currentPage={currentPageNumber}\n            onChange={onPageChange}\n          />\n        </ControlGroup>\n\n        <div className=\"grid-preview-container\">\n          <PluginsGrid plugins={currentPageItems} />\n          <TagList allAddons={allAddons} selected={selectedTag} onChange={onTagChange} />\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Navigation />\n      <NavigationPlugins />\n      {getCurrentState()}\n    </>\n  );\n}\n","import Navigation from \"../shared/components/Navigation\";\nimport React from \"react\";\nimport NavigationPlugins from \"./NavigationPlugins\";\nimport { HTMLTable, Spinner } from \"@blueprintjs/core\";\nimport { AxiosRequestConfig } from \"axios\";\nimport useAPI from \"../shared/useAPI\";\nimport GenericError from \"../shared/components/GenericError\";\nimport { InstalledPlugin } from \"./types/types\";\n\nconst installedAddonsAPI: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"plugins/getInstalled\",\n};\n\nexport default function InstalledPluginsPage() {\n  const { loading: isLoading, error, data: allAddons } = useAPI(installedAddonsAPI);\n\n  function getCurrentState() {\n    if (isLoading) {\n      return <Spinner />;\n    }\n    if (error) {\n      return <GenericError />;\n    }\n\n    return (\n      <>\n        <HTMLTable className=\"table\" interactive>\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Description</th>\n              <th>Version</th>\n            </tr>\n          </thead>\n          <tbody>\n            {allAddons.map((plugin: InstalledPlugin) => {\n              return (\n                <tr key={plugin.name}>\n                  {plugin.link ? (\n                    <td>\n                      <a target=\"_blank\" rel=\"noopener noreferrer\" href={plugin.link}>\n                        {plugin.name}\n                      </a>\n                    </td>\n                  ) : (\n                    <td>{plugin.name}</td>\n                  )}\n                  <td>{plugin.description}</td>\n                  <td>{plugin.version}</td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </HTMLTable>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Navigation />\n      <NavigationPlugins />\n      {getCurrentState()}\n    </>\n  );\n}\n","import Navigation from \"../shared/components/Navigation\";\nimport NavigationPlugins from \"./NavigationPlugins\";\nimport React, { useState } from \"react\";\nimport { AxiosRequestConfig } from \"axios\";\nimport useAPI from \"../shared/useAPI\";\nimport { Button, Dialog, HTMLTable, NonIdealState, Spinner } from \"@blueprintjs/core\";\nimport GenericError from \"../shared/components/GenericError\";\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/theme-xcode\";\nimport \"ace-builds/src-noconflict/mode-javascript\";\nimport \"ace-builds/src-min-noconflict/ext-searchbox\";\nimport { Script } from \"./types/types\";\n\nconst scriptsAPI: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"plugins/getScripts\",\n};\nconst getUserPrefs: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"settings/bridge/getAsJson\",\n};\n\nexport default function ScriptsPage() {\n  const { data: userPrefs } = useAPI(getUserPrefs);\n  const { loading: isLoading, error, data: allScripts } = useAPI(scriptsAPI);\n  const [contentPreview, setContentPreview] = useState(\"\");\n  const [showPreview, setShowPreview] = useState(false);\n\n  function getCurrentState() {\n    if (isLoading) {\n      return <Spinner />;\n    }\n    if (error) {\n      return <GenericError />;\n    }\n    if (allScripts.length === 0) {\n      return (\n        <NonIdealState\n          icon=\"folder-open\"\n          title=\"The scripts folder is empty.\"\n          description=\"Looks like you don't use any script plugins on your website.\"\n        />\n      );\n    }\n    return (\n      <>\n        {\" \"}\n        <HTMLTable className=\"table\" interactive>\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Path</th>\n              <th />\n            </tr>\n          </thead>\n          <tbody>\n            {allScripts.map((script: Script) => {\n              return (\n                <tr key={script.filePath}>\n                  <td>{script.name}</td>\n                  <td>{script.filePath}</td>\n                  <td>\n                    <Button\n                      text=\"preview\"\n                      outlined\n                      onClick={() => {\n                        setContentPreview(script.content);\n                        setShowPreview(true);\n                      }}\n                    />\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </HTMLTable>\n        <Dialog\n          icon=\"code-block\"\n          title=\"Script preview\"\n          isOpen={showPreview}\n          canOutsideClickClose={false}\n          onClose={() => setShowPreview(false)}\n          style={{ width: \"40vw\" }}\n        >\n          <AceEditor\n            height=\"50vh\"\n            width=\"fit-parent\"\n            style={{ marginBottom: \"-12px\" }}\n            mode=\"javascript\"\n            theme=\"xcode\"\n            value={contentPreview}\n            fontSize={userPrefs.editorFontSize || 14}\n            showPrintMargin={false}\n            readOnly\n            editorProps={{ $blockScrolling: true }}\n          />\n        </Dialog>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Navigation />\n      <NavigationPlugins />\n      {getCurrentState()}\n    </>\n  );\n}\n","import { AnchorButton, ButtonGroup, Card, Divider, Tag } from \"@blueprintjs/core\";\nimport React from \"react\";\nimport { InstalledTheme } from \"../types/types\";\n\nexport type InstalledThemeCardProps = {\n  theme: InstalledTheme;\n  setLightboxSrc: (src: string) => void;\n  setLightboxTitle: any; //TODO: find a way to implement better type for this.\n  setLightboxCaption: any; //TODO: find a way to implement better type for this.\n  setShowLightbox: (showLightbox: boolean) => void;\n};\n\nexport default function InstalledThemeCard({\n  theme,\n  setLightboxSrc,\n  setLightboxTitle,\n  setLightboxCaption,\n  setShowLightbox,\n}: InstalledThemeCardProps) {\n  return (\n    <Card className=\"margin\" key={`${theme.name}|${theme.link}`}>\n      <h2>\n        {theme.name}\n        {theme.isActive && (\n          <Tag intent=\"success\" style={{ marginLeft: \"5px\" }}>\n            Active\n          </Tag>\n        )}\n      </h2>\n      {theme.screenshot && (\n        <div\n          style={{ cursor: \"pointer\" }}\n          onClick={() => {\n            setLightboxSrc(theme.screenshot);\n            setLightboxTitle(<b>{theme.name}</b>);\n            setLightboxCaption(<b>{theme.description}</b>);\n            setShowLightbox(true);\n          }}\n        >\n          <img src={theme.screenshot} alt={theme.name} style={{ maxWidth: \"30vw\" }} />\n        </div>\n      )}\n      {theme.description && (\n        <>\n          <p>{theme.description}</p>\n          <Divider />\n        </>\n      )}\n\n      {theme.tags &&\n        theme.tags.map((tag: any) => {\n          return (\n            <Tag key={tag} minimal className=\"margin\">\n              {tag}\n            </Tag>\n          );\n        })}\n      <Divider />\n\n      <span style={{ display: \"flex\" }}>\n        <span style={{ flexGrow: 1 }} />\n        <ButtonGroup>\n          {theme.preview && (\n            <AnchorButton\n              outlined\n              text=\"Demo\"\n              icon=\"share\"\n              href={theme.preview}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            />\n          )}\n          {theme.link && (\n            <AnchorButton\n              outlined\n              text=\"Website\"\n              icon=\"link\"\n              href={theme.link}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            />\n          )}\n        </ButtonGroup>\n      </span>\n    </Card>\n  );\n}\n","import React, { useState } from \"react\";\nimport Grid from \"../../shared/components/Grid\";\nimport Lightbox from \"react-image-lightbox\";\nimport \"react-image-lightbox/style.css\";\nimport InstalledThemeCard from \"./InstalledThemeCard\";\nimport { Theme } from \"../types/types\";\nimport { NonIdealState } from \"@blueprintjs/core\";\n\nexport default function InstalledThemesGrid({ themes }: { themes: Theme[] }) {\n  const [showLightbox, setShowLightbox] = useState(false);\n  const [lightboxSrc, setLightboxSrc] = useState(\"\");\n  const [lightboxTitle, setLightboxTitle] = useState();\n  const [lightboxCaption, setLightboxCaption] = useState();\n\n  function getLightbox() {\n    if (showLightbox) {\n      return (\n        <Lightbox\n          mainSrc={lightboxSrc}\n          onCloseRequest={() => {\n            setShowLightbox(false);\n          }}\n          imageTitle={lightboxTitle}\n          imageCaption={lightboxCaption}\n        />\n      );\n    }\n  }\n\n  function getState() {\n    if (themes.length === 0) {\n      return <NonIdealState icon=\"search\" title=\"Oh snap!\" description=\"I can't find the theme you're looking for.\" />;\n    }\n    return (\n      <>\n        <Grid columns={2}>\n          {themes.map((theme: any) => {\n            return (\n              <InstalledThemeCard\n                theme={theme}\n                key={`${theme.name}|${theme.link}`}\n                setLightboxSrc={setLightboxSrc}\n                setLightboxTitle={setLightboxTitle}\n                setLightboxCaption={setLightboxCaption}\n                setShowLightbox={setShowLightbox}\n              />\n            );\n          })}\n        </Grid>\n        {getLightbox()}\n      </>\n    );\n  }\n\n  return getState();\n}\n","import React from \"react\";\nimport { Alignment, Button, Navbar } from \"@blueprintjs/core\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nexport default function NavigationTheme() {\n  const location = useLocation();\n  return (\n    <Navbar className=\"navigation-bar\">\n      <Navbar.Group align={Alignment.LEFT}>\n        <Link to=\"/theme/installed\">\n          <Button minimal icon=\"ring\" text=\"Installed\" outlined={location.pathname === \"/theme/installed\"} />\n        </Link>\n        <Link to=\"/theme/config\">\n          <Button minimal icon=\"id-number\" text=\"Settings\" outlined={location.pathname === \"/theme/config\"} />\n        </Link>\n\n        <Link to=\"/theme/discover\">\n          <Button minimal icon=\"pulse\" text=\"Discover\" outlined={location.pathname === \"/theme/discover\"} />\n        </Link>\n      </Navbar.Group>\n    </Navbar>\n  );\n}\n","import Navigation from \"../../shared/components/Navigation\";\nimport React, { useEffect, useState } from \"react\";\nimport { AxiosRequestConfig } from \"axios\";\nimport { ControlGroup, Divider, InputGroup, Spinner } from \"@blueprintjs/core\";\nimport useAPI from \"../../shared/useAPI\";\nimport GenericError from \"../../shared/components/GenericError\";\nimport InstalledThemesGrid from \"./InstalledThemesGrid\";\nimport { getPageItems } from \"../../shared/helpers/pagingHelpers\";\nimport Pagination from \"../../shared/components/Pagination\";\nimport NavigationTheme from \"../NavigationTheme\";\nimport search from \"../../shared/helpers/searchHelper\";\nimport { InstalledTheme } from \"../types/types\";\n\nconst installedThemesAPI: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"theme/getInstalled\",\n};\nexport default function InstalledThemesPage() {\n  const { loading: isLoading, error, data: allThemes } = useAPI(installedThemesAPI);\n  const [currentThemeSelection, setCurrentThemeSelection] = useState<InstalledTheme[]>(new Array<InstalledTheme>());\n  const itemsPerPage = 6;\n  const [currentPageItems, setCurrentPageItems] = useState<InstalledTheme[]>(new Array<InstalledTheme>());\n  const [currentPageNumber, setCurrentPageNumber] = useState(1);\n  useEffect(() => {\n    if (allThemes) {\n      resetSelection();\n    } //eslint-disable-next-line\n  }, [allThemes]);\n\n  function resetSelection() {\n    setCurrentThemeSelection(allThemes);\n    setCurrentPageNumber(1);\n    setCurrentPageItems(getPageItems(allThemes, 1, itemsPerPage));\n  }\n\n  function onSearch(searchQuery: string) {\n    const searchResult = search(searchQuery, allThemes, [\"name\", \"description\"]);\n    setCurrentThemeSelection(searchResult);\n    setCurrentPageNumber(1);\n    setCurrentPageItems(getPageItems(searchResult, 1, itemsPerPage));\n  }\n\n  function onPageChange(newPage: number) {\n    setCurrentPageNumber(newPage);\n    setCurrentPageItems(getPageItems(currentThemeSelection, newPage, itemsPerPage));\n  }\n\n  function getCurrentState() {\n    if (isLoading) {\n      return <Spinner />;\n    }\n    if (error) {\n      return <GenericError />;\n    }\n    return (\n      <>\n        <ControlGroup>\n          <InputGroup\n            className=\"search-input\"\n            leftIcon=\"search\"\n            placeholder=\"Search\"\n            onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n              onSearch(event.target.value);\n            }}\n          />\n          <Divider />\n          <Pagination\n            count={Math.ceil(currentThemeSelection.length / itemsPerPage)}\n            currentPage={currentPageNumber}\n            onChange={onPageChange}\n          />\n        </ControlGroup>\n        <div className=\"grid-preview-container\">\n          <InstalledThemesGrid themes={currentPageItems} />\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Navigation />\n      <NavigationTheme />\n      {getCurrentState()}\n    </>\n  );\n}\n","import { AnchorButton, ButtonGroup, Card, Divider, Tag } from \"@blueprintjs/core\";\nimport React from \"react\";\nimport { Theme } from \"../types/types\";\n\nexport type DiscoverThemeCardProps = {\n  theme: Theme;\n  setLightboxSrc: (src: string) => void;\n  setLightboxTitle: any; //TODO: find a way to implement better type for this.\n  setLightboxCaption: any; //TODO: find a way to implement better type for this.\n  setShowLightbox: (showLightbox: boolean) => void;\n};\n\nexport default function DiscoverThemeCard({\n  theme,\n  setLightboxSrc,\n  setLightboxTitle,\n  setLightboxCaption,\n  setShowLightbox,\n}: DiscoverThemeCardProps) {\n  return (\n    <Card className=\"margin\" key={theme.link}>\n      <h2>\n        <a href={theme.link} target=\"_blank\" rel=\"noopener noreferrer\">\n          {theme.name}\n        </a>\n      </h2>\n      <div\n        style={{ cursor: \"pointer\" }}\n        onClick={() => {\n          setLightboxSrc(theme.screenshot);\n          setLightboxTitle(<b>{theme.name}</b>);\n          setLightboxCaption(<b>{theme.description}</b>);\n          setShowLightbox(true);\n        }}\n      >\n        <img src={theme.screenshot} alt={theme.name} style={{ maxWidth: \"30vw\" }} />\n      </div>\n      <p>{theme.description}</p>\n      <Divider />\n\n      {theme.tags.map((tag: any) => {\n        return (\n          <Tag key={tag} minimal className=\"margin\">\n            {tag}{\" \"}\n          </Tag>\n        );\n      })}\n\n      <Divider />\n      <span style={{ display: \"flex\" }}>\n        <span style={{ flexGrow: 1 }} />\n        <ButtonGroup>\n          <AnchorButton\n            outlined\n            text=\"Demo\"\n            icon=\"share\"\n            href={theme.preview}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          />\n          <AnchorButton\n            outlined\n            text=\"Download\"\n            icon=\"import\"\n            href={theme.link}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          />\n        </ButtonGroup>\n      </span>\n    </Card>\n  );\n}\n","import React, { useState } from \"react\";\nimport Grid from \"../../shared/components/Grid\";\nimport Lightbox from \"react-image-lightbox\";\nimport \"react-image-lightbox/style.css\";\nimport DiscoverThemeCard from \"./DiscoverThemeCard\";\nimport { NonIdealState } from \"@blueprintjs/core\";\nimport type { Theme } from \"../types/types\";\n\nexport default function DiscoverThemesGrid({ themes }: { themes: Theme[] }) {\n  const [showLightbox, setShowLightbox] = useState(false);\n  const [lightboxSrc, setLightboxSrc] = useState(\"\");\n  const [lightboxTitle, setLightboxTitle] = useState(\"\");\n  const [lightboxCaption, setLightboxCaption] = useState(\"\");\n\n  function getLightbox() {\n    if (showLightbox) {\n      return (\n        <Lightbox\n          mainSrc={lightboxSrc}\n          onCloseRequest={() => {\n            setShowLightbox(false);\n          }}\n          imageTitle={lightboxTitle}\n          imageCaption={lightboxCaption}\n        />\n      );\n    }\n  }\n\n  function getState() {\n    if (themes.length === 0) {\n      return <NonIdealState icon=\"search\" title=\"Oh snap!\" description=\"I can't find the theme you're looking for.\" />;\n    }\n    return (\n      <>\n        <Grid columns={2}>\n          {themes.map((theme: Theme) => {\n            return (\n              <DiscoverThemeCard\n                theme={theme}\n                key={`${theme.name}|${theme.link}`}\n                setLightboxSrc={setLightboxSrc}\n                setLightboxTitle={setLightboxTitle}\n                setLightboxCaption={setLightboxCaption}\n                setShowLightbox={setShowLightbox}\n              />\n            );\n          })}\n        </Grid>\n        {getLightbox()}\n      </>\n    );\n  }\n\n  return getState();\n}\n","import Navigation from \"../../shared/components/Navigation\";\nimport React, { useEffect, useState } from \"react\";\nimport { AxiosRequestConfig } from \"axios\";\nimport { ControlGroup, Divider, InputGroup, Spinner, Tag } from \"@blueprintjs/core\";\nimport useAPI from \"../../shared/useAPI\";\nimport GenericError from \"../../shared/components/GenericError\";\nimport DiscoverThemesGrid from \"./DiscoverThemesGrid\";\nimport TagList from \"../../plugin/discover/TagList\";\nimport { getPageItems } from \"../../shared/helpers/pagingHelpers\";\nimport Pagination from \"../../shared/components/Pagination\";\nimport NavigationTheme from \"../NavigationTheme\";\nimport search from \"../../shared/helpers/searchHelper\";\nimport type { Theme } from \"../types/types\";\n\nconst discoverAddonsAPI: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"theme/getAll\",\n};\nexport default function DiscoverThemesPage() {\n  const { loading: isLoading, error, data: allThemes } = useAPI(discoverAddonsAPI);\n  const [selectedTag, setSelectedTag] = useState(\"all\");\n  const [currentThemeSelection, setCurrentThemeSelection] = useState<Theme[]>(new Array<Theme>());\n  const itemsPerPage = 6;\n  const [currentPageItems, setCurrentPageItems] = useState<Theme[]>(new Array<Theme>());\n  const [currentPageNumber, setCurrentPageNumber] = useState(1);\n  useEffect(() => {\n    if (allThemes.all) {\n      resetSelection();\n    } //eslint-disable-next-line\n  }, [allThemes]);\n\n  function resetSelection() {\n    setCurrentThemeSelection(allThemes.all.themes);\n    setSelectedTag(\"all\");\n    setCurrentPageNumber(1);\n    setCurrentPageItems(getPageItems(allThemes.all.themes, 1, itemsPerPage));\n  }\n\n  function onTagChange(newTag: string) {\n    setSelectedTag(newTag);\n    setCurrentThemeSelection(allThemes[newTag].themes);\n    setCurrentPageNumber(1);\n    setCurrentPageItems(getPageItems(allThemes[newTag].themes, 1, itemsPerPage));\n  }\n\n  function onSearch(searchQuery: string) {\n    onTagChange(\"all\");\n    const searchResult = search(searchQuery, allThemes.all.themes, [\"name\", \"description\"]);\n    setCurrentThemeSelection(searchResult);\n    setCurrentPageNumber(1);\n    setCurrentPageItems(getPageItems(searchResult, 1, itemsPerPage));\n  }\n\n  function onPageChange(newPage: number) {\n    setCurrentPageNumber(newPage);\n    setCurrentPageItems(getPageItems(currentThemeSelection, newPage, itemsPerPage));\n  }\n\n  function getCurrentState() {\n    if (isLoading) {\n      return <Spinner />;\n    }\n    if (error) {\n      return <GenericError />;\n    }\n    return (\n      <>\n        <ControlGroup>\n          <InputGroup\n            className=\"search-input\"\n            leftIcon=\"search\"\n            placeholder=\"Search\"\n            onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n              onSearch(event.target.value);\n            }}\n          />\n          <Divider />\n          <Tag icon=\"tag\" minimal className=\"margin\">\n            <b>{selectedTag}</b>\n          </Tag>\n          <Divider />\n          <Pagination\n            count={Math.ceil(currentThemeSelection.length / itemsPerPage)}\n            currentPage={currentPageNumber}\n            onChange={onPageChange}\n          />\n        </ControlGroup>\n\n        <div className=\"grid-preview-container\">\n          <DiscoverThemesGrid themes={currentPageItems} />\n          <TagList allAddons={allThemes} selected={selectedTag} onChange={onTagChange} />\n        </div>\n        <span style={{ display: \"flex\" }}>\n          <span style={{ flexGrow: 1 }} />\n          <span style={{ marginRight: \"15vw\" }}>\n            <Pagination\n              count={Math.ceil(currentThemeSelection.length / itemsPerPage)}\n              currentPage={currentPageNumber}\n              onChange={(newPage: number) => {\n                window.scrollTo({\n                  top: 0,\n                });\n                onPageChange(newPage);\n              }}\n            />\n          </span>\n        </span>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Navigation />\n      <NavigationTheme />\n      {getCurrentState()}\n    </>\n  );\n}\n","import React from \"react\";\nimport Navigation from \"../shared/components/Navigation\";\nimport { AxiosRequestConfig } from \"axios\";\nimport NavigationTheme from \"./NavigationTheme\";\nimport YamlConfigEditor from \"../shared/components/YamlConfigEditor\";\n\n//API Config\nconst getThemeConfig: AxiosRequestConfig = {\n  method: \"GET\",\n  url: \"theme/getConfig\",\n};\nconst saveThemeConfig: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"theme/saveConfig\",\n};\n\nexport default function ThemeSettingsPage() {\n  return (\n    <>\n      <Navigation />\n      <NavigationTheme />\n      <YamlConfigEditor getContentConfig={getThemeConfig} saveContentConfig={saveThemeConfig} />\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Button, Classes, Dialog, InputGroup, Intent } from \"@blueprintjs/core\";\nimport useAPI from \"../shared/useAPI\";\nimport { Notification } from \"../shared/helpers/notification\";\n\ntype RenameItemInfoProps = {\n  oldPath: string;\n  name: string;\n};\n\nexport default function RenameItem({ oldPath, name }: RenameItemInfoProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [newPath, setNewPath] = useState(oldPath);\n\n  const { execute: renameItem } = useAPI(\n    {\n      method: \"POST\",\n      url: \"assets/rename\",\n      data: {\n        oldPath: oldPath,\n        newPath: newPath,\n      },\n    },\n    true\n  );\n\n  async function onRename() {\n    try {\n      await renameItem();\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Cannot complete rename action.\", error);\n      Notification.show({\n        message: `Oh no, I can't rename ${name}   `,\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    }\n  }\n\n  return (\n    <span\n      onClick={(e: React.MouseEvent) => {\n        e.stopPropagation();\n      }}\n    >\n      {\" \"}\n      <Button\n        minimal\n        rightIcon=\"new-link\"\n        onClick={(e: React.MouseEvent) => {\n          setIsOpen(true);\n        }}\n      />\n      <Dialog\n        isOpen={isOpen}\n        onClose={() => setIsOpen(false)}\n        canOutsideClickClose={false}\n        icon=\"new-link\"\n        title={`Move or rename: ${name}`}\n      >\n        <div className={Classes.DIALOG_BODY}>\n          <p>Enter the new path:</p>\n          <InputGroup\n            leftIcon=\"folder-open\"\n            type=\"text\"\n            placeholder=\"\"\n            value={newPath}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n              setNewPath(e.target.value);\n            }}\n            className=\"new-folder-reset-input-padding\"\n          />\n        </div>\n        <div className={Classes.DIALOG_FOOTER}>\n          <span className={Classes.DIALOG_FOOTER_ACTIONS}>\n            <Button text=\"Save\" intent={Intent.PRIMARY} onClick={onRename} />\n          </span>\n        </div>\n      </Dialog>\n    </span>\n  );\n}\n","import React, { SyntheticEvent, useState } from \"react\";\nimport { FileInfo } from \"./types/types\";\nimport { Alert, Button, Card, Divider, Icon, Intent, Elevation } from \"@blueprintjs/core\";\nimport folderIcon from \"./icons/folder.png\";\nimport useAPI from \"../shared/useAPI\";\nimport { AxiosRequestConfig } from \"axios\";\nimport { Notification } from \"../shared/helpers/notification\";\nimport RenameItem from \"./RenameItem\";\n\nconst deleteFolderAPI: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"assets/deleteDirectory\",\n};\n\nexport default function FolderCard({ file }: { file: FileInfo }) {\n  const [showDeleteAlert, setShowDeleteAlert] = useState(false);\n  const { execute: deleteFolder } = useAPI(\n    {\n      ...deleteFolderAPI,\n      data: {\n        directory: file.filePath,\n      },\n    },\n    true\n  );\n\n  async function onDelete() {\n    try {\n      await deleteFolder();\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Unable to delete folder.\", error);\n      Notification.show({\n        message: \"Oh no, I can't delete the folder.  \",\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    }\n  }\n\n  return (\n    <>\n      <Card\n        className=\"margin\"\n        interactive\n        elevation={Elevation.ZERO}\n        key={file.filePath}\n        onClick={() => {\n          window.location.href = `/bridge/file?dir=${file.filePath}`;\n        }}\n      >\n        <a href={`/bridge/file?dir=${file.filePath}`}>\n          <b className=\"break-word\">{file.name}</b>\n        </a>\n        <Divider />\n        <span className=\"file-info-container\">\n          <Icon icon={<img width={24} height={24} className=\"center-horizontal\" src={folderIcon} alt=\"Folder\" />} />\n          <span style={{ flexGrow: 1 }} />\n          <RenameItem oldPath={file.filePath} name={file.name} />\n          <Button\n            minimal\n            rightIcon=\"delete\"\n            onClick={(e: React.MouseEvent) => {\n              setShowDeleteAlert(true);\n              e.stopPropagation();\n            }}\n          />\n        </span>\n      </Card>\n      <Alert\n        isOpen={showDeleteAlert}\n        icon=\"trash\"\n        intent={Intent.DANGER}\n        confirmButtonText=\"Delete\"\n        cancelButtonText=\"Cancel\"\n        canEscapeKeyCancel={true}\n        canOutsideClickCancel={true}\n        onCancel={(event: SyntheticEvent<HTMLElement, Event>) => {\n          setShowDeleteAlert(false);\n          event.stopPropagation();\n        }}\n        onConfirm={() => onDelete()}\n      >\n        <p>\n          Are you sure that you want to permanently delete <b>{file.name}</b> and its contents?{\" \"}\n        </p>\n      </Alert>\n    </>\n  );\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAApUlEQVR42mNkoDFghNJ8QCwDxEwE1L8B4hekWhAOxMVAfBqI/xNQrwbEZ4C4ihQLDgKxNxB/IVLPMSB2AOJfxFpwAKoBH+AGYnUoux+Ia4lw0CsgfkKsBSDDU4kNFijQB+KdxFpADmAGmU1LCxhGLRi1YNSCUQsGkwWHoRb8pbLhLEC8H2RBHhD7AfE1KlugC8QbYJW+OBCLUtmC10D8kpFiYwgAAHtmMUIO4OaAAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAGFklEQVRYhcWXW48dRxHHf9VznzOzZ8/ebMuxHceELKDESgwGhRghBEmQuPiBJwQvfB2+Ah+AB5CQEniAvDnkgkQCNo5NHDn22vE68Z4915lz5tLdPHSyJvbKPkYI+qX075qu+U/Vv6o1Yq3l/7n8ezfCn962BEK+pJiMDRIJtrILYwIhKcpLebh1pmp03w9C0tjDaMOHv3p+AQI5fOdEwU++eZDf/Pk2UaCoGsNS6jEu9UOxKGFQdb7UFIcvf3BtaxPoP1IGqgZ+eHoDJfCzb60zrRUbmWan9BEM2gjaWI6uwNYueMrhLBbmtaXV8MtXbvLzFzfXfq/Vxeu3bz0FjBYmsN5VvHZ+lx+dXue3fxkQ+ULVWpYSj/FMPxQHntCfGrwQvvv8kQNvXQjf//DGjaeA4UIEdiaaSWkIlWFSGppAmDcWhfCNEyndjkfkC9rAvDF0E8W71+Zc32mYlIYoEOrKoz+ApcznxRcOb/zpnHfpg+tXnwSmDyWQRUISKULf2ShQiDLEoeL198u7Nf8sA/+Ga21BBN9XvHm+z/Z4xObhCK8THQyWj70BPHPv+9S9G/PGUrfCaCbUrdC0OKuFTuRjrXBmM+MLB2PObGac/erSnr9uhaaBo2seB7sznlj1OHuqh56V7M68pxcqwYEloZd5ZBH0Mo/QVyStIY8VJw6EvPdRzTvX5uSxYjI3/OOmopd55LFCKQh9xfKnOEsUWSIcWvG5Vdz3rfsT6E8N45mlamE8s0SBoWktj614/HO7ZjI3VI1FxO75H4TTwMXZLfRiBPLY1d4iJJHHC5s5K5nP1497nLvSsJYJu4XFU8KB3DCcKaaV5fFVaLVFiaCt5crHlnOXJywnkEQeWbz/xL2PwLzWNNrHAI2GJw8ofv3miHOXhE/Gd9uumyhGM7MvrrXlx19bxljhxlBoNMxrsxiBjVyxnPocWxGWU5/AE1462QURWm1JQzAGVjIw2tIa2CkE3xMUDhsLq5k7f3wNllOf9XzBDPQLzbSybO3CtLJ8NBRefWfMUiKuxnuDRyhrePlkzh/eHZPFn/d//9mcorIMS2FaWQaLaiCLFEmo8JWQhIojPUsSKuJQaLQl9EEp4YkNn81DIUup4rnHI7Z228/5AyXEoWLeQBIqslD2JXBfb9SNpjGCUtAY4cZQ0Rih1eKscXirb3j7aoMxhr/daO/zW3Hnq0/3q3bBEjgNeIg4m4TCcuqRxQqlDGEg1I0lixXzxtKfKX7wbM5jPbg5AFFwMLfcmSp6qUcWufNr+YJzYFBoppVrqWkFndBZEWcjDVXrcGtAa/jjhZI8FiZzu9cFLz2dMqmgrGFawehRNbCWu9qNZoqXn+mQJZZJ6Uqz1rFYgWEhrGWWX5xJuT0VuqFlOBeMgTSCJFD00gdr4P450DoN9AtXy1qDEigqBWKJfBhVThMWy/ZYYazlUBe2R4ISwWC5M7FUGoYzF2euF5wD67mimyoCBd1U8d6tmrqFLHKpDH0Wxnmi6KaWbqpYzRbMwKDQFJXQWigq4bljHh+PLId7ik4Io7mlGwtF7W7O8cxy8ZZBiVBUlkY7Ap/h2HdxRuXCGoAoFDwB3xfeuKopK7i2a5nMLWEAdcOe6MIAag2hhkqDVVAbSBF8H3ZKIQqFzqIaqBpLq4UjPWHewPe+EmIMBJ7gK0utHck0ELbHFqXcaI48p/61HMoKdqbw+pUWa6HVQtUuqIG1XOimHuM5dCKfQAlvbbkLpdFC2UAaOGEaBAF2CvhkAmkofPkQhB6sp4Y89Ti24uKtZt5iBAZT4/p2BrMGuimcOmJZ6cBu4QbNRgfGlav1SsfZooL1HO5ModWu/8satgZOnMOiXYxAFglxICgl5LHw6nnLrIGlEMa1+7paPxg3GnoJLMXCodzFW1wDrebUMUUew+njaq+9AuWuWaXuvmAwc6VIAljtwLCEae2e66UwKGGnhG9/UfH2hQW7YDVXXNyGU0eFi9uWwIemhTR0KX1UfPak8Lu/W3r5ghq4crvm6seXeS336U9a0tCjrDWr/yF+5ZzDcbj/ZST3/h2LyKl9n/wvLGvtXx9K4H+9/gXRanU/mbzsaQAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/file-image.f88a6019.svg\";","export default __webpack_public_path__ + \"static/media/file-text.91b2a18a.svg\";","export default __webpack_public_path__ + \"static/media/file-video.f0c0398d.svg\";","export default __webpack_public_path__ + \"static/media/file-word.013d4abc.svg\";","export default __webpack_public_path__ + \"static/media/file-excel.be8324ec.svg\";","import { FileInfo } from \"./types/types\";\nimport defaultFile from \"./icons/fileTypes/file-default.png\";\nimport imageFile from \"./icons/fileTypes/file-image.svg\";\nimport textFile from \"./icons/fileTypes/file-text.svg\";\nimport videoFile from \"./icons/fileTypes/file-video.svg\";\nimport audioFile from \"./icons/fileTypes/file-audio.png\";\nimport pdfFile from \"./icons/fileTypes/file-pdf.png\";\nimport wordFile from \"./icons/fileTypes/file-word.svg\";\nimport excelFile from \"./icons/fileTypes/file-excel.svg\";\nimport sqlFile from \"./icons/fileTypes/file-sql.png\";\nimport jsonFile from \"./icons/fileTypes/file-json.png\";\nimport archiveFile from \"./icons/fileTypes/file-archive.png\";\nimport emailFile from \"./icons/fileTypes/file-email.png\";\n\nconst isImage = require(\"is-image\");\nconst isTextPath = require(\"is-text-path\");\nconst isVideo = require(\"is-video\");\nconst isAudio = require(\"is-audio\");\n\nexport default function getIcon(file: FileInfo) {\n  if (file.filePath.endsWith(\".pdf\")) {\n    return pdfFile;\n  }\n\n  if (file.filePath.endsWith(\".doc\") || file.filePath.endsWith(\".docx\")) {\n    return wordFile;\n  }\n\n  if (file.filePath.endsWith(\".xls\") || file.filePath.endsWith(\".xlsx\")) {\n    return excelFile;\n  }\n\n  if (\n    file.filePath.endsWith(\".zip\") ||\n    file.filePath.endsWith(\".rar\") ||\n    file.filePath.endsWith(\".7z\") ||\n    file.filePath.endsWith(\".tar\") ||\n    file.filePath.endsWith(\".gz\") ||\n    file.filePath.endsWith(\".sfx\")\n  ) {\n    return archiveFile;\n  }\n\n  if (file.filePath.endsWith(\".eml\") || file.filePath.endsWith(\".mbox\")) {\n    return emailFile;\n  }\n\n  if (file.filePath.endsWith(\".sql\")) {\n    return sqlFile;\n  }\n\n  if (file.filePath.endsWith(\".json\")) {\n    return jsonFile;\n  }\n\n  if (isImage(file.filePath)) {\n    return imageFile;\n  }\n\n  if (isTextPath(file.filePath)) {\n    return textFile;\n  }\n\n  if (isVideo(file.filePath)) {\n    return videoFile;\n  }\n\n  if (isAudio(file.filePath)) {\n    return audioFile;\n  }\n\n  return defaultFile;\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUCSURBVFiFtZdrbJNVGMd/76W3rd3oZWtX2o50MGBgDI4gZMpFDQbU8EGDMwZEP6lRYyQxfjAkBoQYEyOJxi8aSYZC/KRGIGg0UVk0BhQYMnd1Y5Pden3XbX17e/0wOrqu3bqJ/+T98JzznPP8es5zznMqkCdJknY7nc5PFEVxZDKZtKZpWr5PvkRRlCRJotpq/b27v/8RILjQmGK6z+fzJc5+c06LKTFNjaslfaPDY9qpz05rVqNJ89gdQcBRakAx16irqzt26M1DusbGRnR63aLp73V7eK6m1uZ1ODpLhZBzjUQisXJ1/RpkWVp08Kz2e/0A1k+hcyAQqAcCJQMAgiAISw6eC6EXRetHGa37n1BwDTBcKsCS5ff72elfOWM3L1+BmslUnhDF6wOBsaIrIRZqXIrcNW52+etntT3j9XPA5bN6HVVFc+KOAVy8dJHXfzg/pz0L4XFUdxSCmAUgCAJLyQFRFKn11XIpMMKYGi8I8azLa7sFUTkrZq7R0tJycmvTtqfNlnLMFnPJAKlUinAwwhenT3Hs6GFMUuHUuhmN4K6pOXljcHBftm2W5+TEpFzCxTdHsixjqTSzt/kpntj7JIqiFPTr7+/nhZee3zFrbK5x5O0j29etXc/ahjWLhjAajej1etS4iqWi8OolkiqJRCJTFACg/0YfiaSKqcy0aIh8uVwu3G43vb29RCIRQqEQqVQqmeuTmwMNFoPxiltvkO2WCqQlXMX5alzu5eD9O3jtzJcMjyuEVJW/g4GpyYTaCLTnAgh2WTd0sMrj3LOqAUN52X8OXkznhwe1N65d7BtPJusALXsMvSZRsm2vsP2vwQEednkEkyjbAA/czoEyiyQhCLPvpdbgCKdv9AJg0xvYv2IVdeUWRtU4H3ZfJ61plMsyD1a72WSrAqBnYpzjXX+SPU37alfO9GVVodOlR9WpcljgJrwSCVGp09Ps89NQsYwDv/3EUHyS7pjCtWiYJoeTGmMZh9svc6KvC4Cu8SixVJJmn59mn596S+V8IRYuRr4yM012J9hhYHKC70du4jdX4DKa2OXyAPC4ZwWPXviWx9w+AJwG0/SYElRyLdCAzpiCw2CcsbOyyDq22Ku5Epl+iYWTKteiYdqVCJkFLrYFV+Crm/20RUP0TcTwlZWz07mcX0Njc/wqdXqCCRWLrONqJMy7HW0IAhxdvxG3qXhiLwiwYZmdXTUeXAYTdeaKmfb839UVU3ig2k04obKtysWxuzYuNDVQwhbUlk/nQG7waYDbCK3BEQYmJ9hoLfktOqN5V0Agr1xmBwkCVyNhXv7jFwJqnKH4FMc3bEZaQjmfF2CPuxapwIT3WO28d/cm0miUSzLrKqzoxOnFbLJXs9o8/9ErBDA6nEyQTCVB0+BW0GLJIwsim+3VBfvMsg6zXLyOpDWNkfiUARjJBQjpJenHd8YGHnqxzISruvDkWRlECaMkkchkmEqn5vXN1Xgqyfs97QkR4TsgDLO32Oiw2kbLwIIoIsgyxbaz3uPj1KG3ePWD4/x89XLJAIIoEVSio0osVgvE8wHwer1Dn7eccjWsW7uoJ1mp6unpYeu2rT2BQGDm/T7rGOr1+u6Ozr9IpdJ3PDhAW1sbgiB0zOfT5PX6Eme+PruoP6elfK0XWjWn06kAW3IDztllSZJ2u1w1H0ejkapMJpPRNC2T77NoaWA0GQcVRXklnU6fy+36F9OZHjavQ+UBAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEwElEQVR42tWXfVAUZRzHv3t3e7d7x3EcJyAiSiCJxAh06EhOpKNTWI5plDkl9vaP4DiNA1hjMzWT2EyWBtboTDM5WdSkF6IVWhQZVkShQAnGy+RLJC8HxwF3wL3s3vbsMmcSdwoc5PSduZnbZ2ef72e/v9+z+yyF2yzqfw1Qv9WQQZEZUg5Zzv6nAJ8/qdcun4O3Kc7xlHgsKJgjdWZq++ojfbaAAdraWu5nWXaZXzjXEKX4zZQNpy12zLgq6BKXlPUhmGDBj5fgcrlqYmMXVPgFMJmO3mc0Ljkz1WQmIKG1tXllZuaDVT4B8vPz8nJzt705Q+aSDh9+L7+wcM8+nwA5OTkFRHtnEqC4uGhncfGBNwIGcHMcunutGHY4wKhUiAwLBa1QzDyAIAhobLuMXusAoiPDoWYZ2IdGcKn9GuJj5iIuOmrqANu35RTsyLs5wLmmFmgYBovi5ksw9uERyGQUWDJW8WMtjIl3Iiw0xO/17xwo2rm/yAdA3VZDgsq4qZRdlZfo7+J+mx3nCcCqZUZ09fah9kIz9Dotunr6kJoYjyA1i5bLfyIjLdkvwMi3b13k6z7OWnzQ0nwdYF+mNmJzgvA7n/KEfuTeF0bJqPEr8XxTK7k7HWbpdSivqsHaFelgSf3FO09LWggNy+Lr6nPSuD9pfngdioaPrJ9dpRc9U2rtlly2rJBv2JupOD40awvkq18CTdMkVtk4iFNVPyE9NQlX/uqEw+VCekoSPB4B7x8vx9NZD2Fg0I6aXxuxJsM3gFgyfLMbqv4vUXjW/ch+U3uZ5PDwPbLHyl6lj9n4O2AO3wNFyN1gSE0VpKtFCC/Iqe+qYUxKwNWOLoyQ7s9YkoqahkZcJE353MZ1qKyuRczcOYibFzXOmOd5eIbaEGI5BEbWgexXWjeWfHHNJM28jgCc3E0fE/97BBnMqkcxaHgebFA4VCRiuVwuTXSh9Q8MkaZLTognaVRDRsCSFsbBbLGir38AMVGRWEzO3Wgs/tyOfqgHPkWws5LUnJfOZb9MAMp9AHjlEAzo0u4Ab1gPllVLZRETNJ2uRMbSVERFhN1ssYwau92Q276H3v4JFIJ1zPlbAoxOAgzI09Cj3wVlyF1SGm6OR9Uv9eBIpOJy4z0e9A/asJKsDLEJRWMPGeOGrkA3+AHUXJNPwAkBeMULCpiZzbAbcklZQqFUKiVjm32Y9IkcOm3QP3fttIMZOAGd4zRkcPtNaFIA3jQcVCQpSwEEwwNSWcQmFVeLKI5zg7LVkrhLQHt6cCtNGuDG2loVGbCEvghl8AIoxd5wmaGzlUDjrpvIFIEBeNPgBAbt9LNgdNGY7akgcTsnbB5gAsScrCQ3pScJxEJBqyZlPGUA0Zg89ODklZBrYqFUhwa0bZoUgGju4giAMgoqbfT1xgtEE34O8B5iLgSDDo4DrWQDNp4QgGgsSHHToNQxUGnCpn2XOgZgzVJqfflryjLxneONm6dnkx32fBK3fJqtR7VpV/OGo191npAAdBpE1r+rrJ8XTkU4PUGgtSRulWZGjEV19HLdyY//nNrb7+r0JkuF6ZCydjmTFRwSMX2F9iGHyzNy8oy5tMvibCCHwr9LK25rZ/qDVfxy4rwHt/3r+G9H6zE/zoubxgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFP0lEQVR42q2XW0ybZRjH/1+PQKEnKDBKoRiu5hJv9GLGGO/UmEjpgcPAGce8cDdeGKMmXhiT3Xjh1Zy79MCQIIWiiYnJNrdsAY1si4mSSFC2QVtaWuiBnkvr8349rPDB+D7D2zz52rdvv/f3Pc//eZ63HEpD4Z6d9YDjXisWCihCymCrOcg4Dru7u3MDTqeTJvJif82Vr00EELPbbJK23j+CwSCu3bgxOzI87KKPu1IATNMzM0FHfz9WHzwkR3Biflt6/mIRPdZujE9MYPTMGWxsbOD6zZvu0eHhQTEQlZ1av5+ZCTgJ4OGjNR5ADATbnFl3lwVXJyfx6suvwGjQw+/3487Cgn/A4eimZTlJAI/W1iGTyUR7oECa6bJ0YoIAbK/3YSeRQKuphYe4PT/vG3Q6rU+CEACsrXslA1g6zTzAoMuJZDKNVDrNQ7BwMAjyxKEQAgAfkUvRQKFYgPlEBx+CkaEhyoQ8Mpkc0pkMHw4mzDvz85ukL/NBEI8B3O6A026Hn6ilAnS0n8Dvi4tYXlmp3rBY9s4bJMwZjwcEYKCpyJEAG4Gg5CxobNCgsUlz6Jrp2Vm47PY2ehs8EiAQ3JQEUIEo7rshm2Ojva0VlOJwORziADY3Q5IBDoNiw0RilAQQCoWPBaAC0dLSLA0gvL1Fk8cEQK9mg1EawHZku2Za/Cg5rfZ3pRDodXrMkAgdYkUYicYkbszxhUtWLt+8VbcH6uvrMDfngc3WLw4gFouL3lwm4yCXyREIb2GZmpg/GEZ8J4FaAo7WKOQKWsdFqdVfS6VSn797/uxCZYUAIB7fEffkZHK5HEv/rOL+0jI1pG4+3jqdFqUEeJyYzDvxeBzb0Qi8vnXEotGPLrw5/Bl9WRAAsGYi1vUqpQJXJtw4/dxpPgxFqorFg04zXAm40mPu/3EPY4P9rHIlBQCJZFKc+xmASokvx6cx4iTtxBNIEHwmk8UeB5QB6tQqaDQaGHRNcP/wI84P2Vvom7AAgGIkCeDy1Wk8ZelCJ3XEFqMRjY0N1XNCxVPstZNMIUxa8VGvWfd7MTZQEqUAIJ3O7sN/EoCKAKZgNXdBSeFQKtX8XJ1aDU19AzUqkEdS1BmzyOUzyOVydM3BF/DjnMt2MABrpWIAuLIHvvh2ijzQDTW5WKVSE4QSarqqCUYml9H90shkGUCWB8jmsvD6fXjL1XcwQDafx8FKEgIoFQrc+u0uFu/9ibb2Vj4LDHo9Gqg71gIkU0kqcBFsbW0hFA4RUOrn9y+8PUq3CQkA6Ghdjd9RACwNf/l1EadOnsK/qw9og20kUmkoCEwpV/I1IM/cTocUDRUko9GA3t4efPXN+E/vvTM2QreJCADYIUIsAEurS19PotdqhcVihsnYDI1AhMxklN4lEXrpxLXu8+LcgM2wF6B8JOMzSCQAG5dJA9ZOCx97XgNMhHTVNJAICyURMg1kcyURZkmE/g0/AzDtCYHb4wnY+/qO3Hj/uDIxje6OTl79DIBdmQhVShUfoooIGUCWFyNlAQEIREgda4Weu6nAnl6sBijGoTRgbm+n1KsjL6iqAPuzoOIB9tkX2BAA6Ml6yFhcpPRi2YefXjx78ulnRrVaLbSNWui0OkrJfQBUByLxCGLxGKKxKP5e+uvSxY8/+AQ1lVBJxmqzSmIE2HpDn2vohedffGmk2dT6LHlGzZ8Qa5zIvEW6yoQ3g4sLt29NeKa+u07Ta6jpBf93yMkayIxkzWSNZIoDvMhw2D9m1mrDZFtkrOsVjuPsxZU9WFf2yGF/qygnwOo8qQbVcvsfT/3JP/6AS5sAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACYElEQVRYw+2XS2gTQRzGv9lHyGITuyRiCjmU+Lo0QZqbh1JsMOJBPIhaCjkUD54UUWhFg6AFUXyQuyhEF2wtiqA0BwvB+oAIGmpAUNqUBrsNJY2aaB4bdjx4CtvEXd1VD/0f5xuG38z/229mgfX6x0VaCYHhu7tYmxAihBA9CzkdGxaTV8K3jQJwrYRvDfZJrVLt1LuQw+lEJJb2xU/sjJoCUFPUTsO74dhzkVgaRiA4s3tqFIKzwlhGIDir3K0XwjQASulvQbT8xLyDEjUC4BRYBAPbwfO81tB1ZUw62Ru1FIBSFWqtBFBVKzIc5AfHiKUtIIQBa98I04Lob5VhgO7NHejzdyH+9GPTeCS0Dc/eyVjIl60DONLvw8ihAOJTaY3mEup4eD6EyxOzuJectwbg+IEeDF54jPdLNRCGbdKuP5rH1OtPuDW6zzoAuVCC2+0CWc5rTciwcLtdkAsl61qwWlbgEYWWukcUsFpWzAfo6RYRHeqFw06RSGVbxkcilcXwHh/Gzw7govQGmYWiOQC0UYXaqIAwHSCsDcDauySsDYThoDbKoI2qeSeQyX3H4bFp3DzVj3DQi8mZ7JrzwkEvcvkvOHotCcLZoecxxelLOQLCC3CJDsiFubYmdYlbwPCCNSb0iAKKbUxW/IVJ/xggNpGCdGY3pOk5XJ2cbdJOH/RjaGArLt15aR3A+PMlvMrcR5+/S3v88jL2j7zF4meiCSnTAAjDIvcVkF6saLSfYxwIY9JlpCqVEsMLDjNuPFWplAwDFGZuRGybduwlbR4tujIEoPWVD4n1f8D/tn4AQFLOVpDrUK8AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADtUlEQVR42sWXz2sTQRTHXyGHDfTQgocUFFzw4Bb6R5ibBw8GPJjgKdhDtwRq1oJt6EFShZrgoS4eJBUsqf9BehDSQ2E9FJJDpXtQWKGFDVhIwEAC5uC8t9lkf8xutlF0SgqZfTvvM9/3YyYz8J/HDP5LPUglxOuiIswKc//Cab/f75gts3Swf9AigPxavlTYKuR9ljEAgf1xR2yCl+Fz7vvsWWGjoG6/3F4lgM1nm9XVldX0RAc8oCCQIIDhfPl1+YBBZCwFnuarSk5J/xXHEXZ/ZQAhFsF5mFPOe3yAmP8F14Ihckd1zAUY5YDDMOqueY473Q6wLAfpthQIVH4VAjDROX4fALQv22CcG9BqtcD4ZoBhsM93A8wfJvS7fTjTzwLVmApAO9ZA+6yRE3TM6nn0QSB79AY9mjPPTd8aqBh7YzoAOSdDs9kEQRBcNiOQQd+aQHW6bTeAR8lQAB/EcF55opCs8Xgcer+sXaLU6BihxBsiiDdFin/9uA6mabqUcYYvMAnJ8dDIB7CuUBikJYkciaLlUJIkWLi2MLJT36pQfFGEttkeq+IZgX2AnQcjGb3krF1D46QB9aO6tWu7Amzlhu9U3lcIAEMQGUBekdPxWJyk9CkwHIXnYwB67q0OJ8BOEYyvBgSNaACenaEC2olGYQgF2K9AeadslSHPbloAZUOBRrMB2pHmlt4JELMUcAFwbMOT0JN89iLyugz6qT4G4NkhwDtHCHgAWAW7XoDc+Dj2QmC54Rz2AV3XrRCEDDsJsTPyqokP4GlE2K3sLLczGQFwV5SEHlDskDhvXLDWfNGCxmkDTMN0rRMIEHQa2g7MSxM6nQ6Udkq0KxvAHtX9KtQOa6RUr9cjW3wHAYJCxQfwGGLPr+xV6KDBzoffseE4AbDrZR5mKHlRKbst97q98DLcDagCGwAXZgbQ/tkmYjpc2K7m5+ZdVYBwybtJmqcKAss2dS9FfYOU5BzZ4QAo68cqVD5UrHwY9EcQ2Iare1XXYuo7lZRCm0QiAZl0BjKPMq5QUud05AwXwH6IIHiYYNLRzuwF2A6xxKRb/IsGVctstJuRuqt6AJZlXxIiRP3Qivfi0iKk7qcIyLto2OUzaBDA1gQAW41Ii1/xN4QbYM0dgj8B8V1mwkLgBMguZ9NRLqJckAmS86DYnWEMkH2cfZPP5eXAK9k0UBPUYa1aZQeS9dOM3Wqk5J1kcY6NqLuKssugwTplp/apVmA9RJ+xJ9kdXvDW6lVkjjyGJ6b+RacD5jcrJn4/X/eyYgAAAABJRU5ErkJggg==\"","import React, { SyntheticEvent, useState } from \"react\";\nimport { FileInfo } from \"./types/types\";\nimport { Alert, Button, Card, Divider, Elevation, Icon, Intent } from \"@blueprintjs/core\";\nimport getIconForFile from \"./getIconForFile\";\nimport { Notification } from \"../shared/helpers/notification\";\nimport { AxiosRequestConfig } from \"axios\";\nimport useAPI from \"../shared/useAPI\";\nimport RenameItem from \"./RenameItem\";\n\nconst isImage = require(\"is-image\");\n\nconst deleteFileAPI: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"assets/deleteFile\",\n};\n\nexport default function FileCard({ file }: { file: FileInfo }) {\n  const [showDeleteAlert, setShowDeleteAlert] = useState(false);\n  const { execute: deleteFile } = useAPI(\n    {\n      ...deleteFileAPI,\n      data: {\n        filePath: file.filePath,\n      },\n    },\n    true\n  );\n\n  async function onDelete() {\n    try {\n      await deleteFile();\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Unable to delete this file.\", error);\n      Notification.show({\n        message: \"Oh no, I can't delete the file.  \",\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    }\n  }\n\n  return (\n    <>\n      {\" \"}\n      <Card\n        className=\"margin\"\n        interactive\n        elevation={Elevation.ZERO}\n        key={file.filePath}\n        onClick={(e) => {\n          let mdText = \"\";\n          if (isImage(file.filePath)) {\n            mdText = `![${file.name}](/${file.filePath})`;\n          } else {\n            mdText = `[${file.name}](/${file.filePath})`;\n          }\n          navigator.clipboard.writeText(mdText).then(() => {\n            Notification.show({\n              message: `Markdown code for ${file.name} has been copied to clipboard.`,\n              intent: Intent.SUCCESS,\n              icon: \"clipboard\",\n              timeout: 2500,\n            });\n          });\n        }}\n      >\n        <a href={`/${file.filePath}`} target=\"_blank\" rel=\"noopener noreferrer\">\n          <b className=\"break-word\">{file.name}</b>\n        </a>\n        <Divider />\n        <span className=\"file-info-container\">\n          <Icon\n            icon={\n              <img width={24} height={24} className=\"center-horizontal\" src={getIconForFile(file)} alt=\"File icon\" />\n            }\n          />\n          <span style={{ flexGrow: 1 }} />\n          <RenameItem oldPath={file.filePath} name={file.name} />\n          <Button\n            minimal\n            rightIcon=\"delete\"\n            onClick={(e: React.MouseEvent) => {\n              setShowDeleteAlert(true);\n              e.stopPropagation();\n            }}\n          />\n        </span>\n      </Card>\n      <Alert\n        isOpen={showDeleteAlert}\n        icon=\"trash\"\n        intent={Intent.DANGER}\n        confirmButtonText=\"Delete\"\n        cancelButtonText=\"Cancel\"\n        canEscapeKeyCancel={true}\n        canOutsideClickCancel={true}\n        onCancel={(event: SyntheticEvent<HTMLElement, Event>) => {\n          setShowDeleteAlert(false);\n          event.stopPropagation();\n        }}\n        onConfirm={() => onDelete()}\n      >\n        <p>\n          Are you sure that you want to permanently delete <b>{file.name}</b>?\n        </p>\n      </Alert>\n    </>\n  );\n}\n","import React from \"react\";\nimport { NonIdealState } from \"@blueprintjs/core\";\nimport Grid from \"../shared/components/Grid\";\nimport { FileInfo } from \"./types/types\";\nimport FolderCard from \"./FolderCard\";\nimport FileCard from \"./FileCard\";\n\nexport default function FileGrid({ files }: { files: FileInfo[] }) {\n  function getGrid() {\n    if (files.length === 0) {\n      return <NonIdealState icon=\"folder-open\" title=\"This folder is empty.\" />;\n    }\n\n    //Folders should be shown first\n    files.sort(function (x: FileInfo, y: FileInfo) {\n      if (x.isDir === y.isDir) {\n        return 0;\n      }\n      if (x.isDir) {\n        return -1;\n      }\n      return +1;\n    });\n    return (\n      <>\n        <Grid className=\"grid file-grid\" columns={4}>\n          {files.map((file: FileInfo) => {\n            if (file.isDir) {\n              return <FolderCard file={file} key={file.filePath} />;\n            }\n            return <FileCard file={file} key={file.filePath} />;\n          })}\n        </Grid>\n      </>\n    );\n  }\n\n  return getGrid();\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAYklEQVR42mNkoBAwAnEkEGsB8V8s8hxAvBmIj+IzoA2Iq/BYglceZEADFKMDRyC2A2IpIH6GRZ4JJI7PAGJAM6UGNIwaMGwMaAbiWjINACekZCCWBeL/JGoGJeUnjGTaDAcAEg0Z4zein+0AAAAASUVORK5CYII=\"","import React, { useState } from \"react\";\nimport { Button, Dialog } from \"@blueprintjs/core\";\nimport uploadIcon from \"../icons/upload.png\";\nimport FileSelection from \"./FileSelection\";\nimport UploadStatus from \"./UploadStatus\";\nimport FileUpload from \"./FileUpload\";\nimport { UploadResults } from \"./types/types\";\n\nenum UploadState {\n  selection = \"Selection\",\n  upload = \"Upload\",\n  result = \"Results\",\n}\n\nexport default function FileUploadModal({ currentLocation = \"\" }) {\n  const [state, setState] = useState(UploadState.selection);\n  const [selectedFilesQueue, setselectedFilesQueue] = useState<File[]>(new Array<File>());\n  const [uploadResults, setUploadResults] = useState<UploadResults>({\n    uploaded: 0,\n    failed: 0,\n    failedFiles: [],\n  });\n  const [isOpen, setIsOpen] = useState(false);\n\n  function startUpload(toUpload: File[]) {\n    setState(UploadState.upload);\n    setselectedFilesQueue(toUpload);\n  }\n\n  function showResults(failedFiles: File[]) {\n    const uploadedCount = selectedFilesQueue.length - failedFiles.length;\n    const failedCount = failedFiles.length;\n    setUploadResults({\n      uploaded: uploadedCount,\n      failed: failedCount,\n      failedFiles: failedFiles,\n    });\n    setState(UploadState.result);\n  }\n\n  function getCurrentState() {\n    if (state === UploadState.selection) {\n      return <FileSelection currentLocation={currentLocation} uploadFiles={startUpload} />;\n    }\n    if (state === UploadState.upload) {\n      return (\n        <FileUpload currentLocation={currentLocation} selectedFiles={selectedFilesQueue} reportStatus={showResults} />\n      );\n    }\n    if (state === UploadState.result) {\n      return <UploadStatus result={uploadResults} />;\n    }\n  }\n\n  return (\n    <>\n      <Button\n        text=\"Add files\"\n        rightIcon={<img className={\"center-horizontal\"} src={uploadIcon} alt=\"Upload your files\" />}\n        onClick={() => setIsOpen(true)}\n      />\n      <Dialog\n        isOpen={isOpen}\n        onClose={() => {\n          if (state === UploadState.result) {\n            window.location.reload();\n          } else {\n            setIsOpen(false);\n          }\n        }}\n        canOutsideClickClose={false}\n        icon=\"folder-open\"\n        title=\"Upload your files\"\n        style={{ backgroundColor: \"white\" }}\n      >\n        {getCurrentState()}\n      </Dialog>\n    </>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/file-upload-dropzone.3e3e175f.svg\";","import React, { useState } from \"react\";\nimport { Button, Classes, Intent, Tag } from \"@blueprintjs/core\";\nimport Dropzone, { FileRejection } from \"react-dropzone\";\nimport dropZoneIllustration from \"../ilustrations/file-upload-dropzone.svg\";\nimport { Notification } from \"../../shared/helpers/notification\";\n\ntype FileSelectionProps = {\n  currentLocation: string;\n  uploadFiles: (files: any[]) => void;\n};\n\nexport default function FileSelection({ currentLocation, uploadFiles }: FileSelectionProps) {\n  const [selectedFiles, setSelectedFiles] = useState<File[]>(new Array<File>());\n\n  function onDrop(acceptedFiles: File[]) {\n    const newFiles = acceptedFiles.filter((file: File) => {\n      return !selectedFiles.some((acceptedFile) => {\n        return acceptedFile.name === file.name;\n      });\n    });\n    setSelectedFiles([...selectedFiles, ...newFiles]);\n  }\n\n  function onDropRejected(fileRejections: FileRejection[]) {\n    fileRejections.forEach((rejectedItem: FileRejection) => {\n      Notification.show({\n        message: `Rejected: ${rejectedItem.file.name}. ${rejectedItem.errors[0].message}.`,\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    });\n  }\n\n  return (\n    <>\n      <div className={Classes.DIALOG_BODY}>\n        <Dropzone onDrop={onDrop} onDropRejected={onDropRejected} maxSize={523239424} multiple>\n          {({ getRootProps, getInputProps }) => (\n            <div {...getRootProps()}>\n              <input {...getInputProps()} />\n              <h4 className=\"bp3-heading bp3-text-overflow-ellipsis\">Drop here to upload in /{currentLocation}</h4>\n              <img src={dropZoneIllustration} style={{ maxWidth: \"100%\" }} alt=\"Drop here to upload files.\" />\n            </div>\n          )}\n        </Dropzone>\n      </div>\n      <div className={Classes.DIALOG_FOOTER}>\n        {selectedFiles.length > 0 && <h4 className=\"bp3-heading\">Selected files: </h4>}\n        {selectedFiles.map((file: File) => {\n          return (\n            <Tag\n              interactive\n              minimal\n              key={file.name}\n              style={{ margin: \"5px\" }}\n              onRemove={() => {\n                const removeIndex = selectedFiles.findIndex((item) => item.name === file.name);\n                let elements = [...selectedFiles];\n                elements.splice(removeIndex, 1);\n                setSelectedFiles(elements);\n              }}\n            >\n              {file.name}\n            </Tag>\n          );\n        })}\n        <span className={Classes.DIALOG_FOOTER_ACTIONS}>\n          <Button\n            text=\"Upload\"\n            intent={Intent.PRIMARY}\n            disabled={selectedFiles.length === 0}\n            onClick={() => {\n              uploadFiles(selectedFiles);\n            }}\n          />\n        </span>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport { UploadResults } from \"./types/types\";\nimport { Callout, Classes, Tag } from \"@blueprintjs/core\";\n\nexport default function UploadStatus({ result }: { result: UploadResults }) {\n  function getFailures() {\n    if (result.failed > 0) {\n      return (\n        <>\n          <Callout\n            title={`${result.failed} ${result.failed === 1 ? \"file has \" : \"files have\"} failed.`}\n            icon=\"cross\"\n            intent=\"danger\"\n          >\n            {result.failedFiles.map((file: File) => {\n              return (\n                <Tag interactive minimal key={file.name} style={{ margin: \"5px\" }}>\n                  {file.name}\n                </Tag>\n              );\n            })}\n          </Callout>\n        </>\n      );\n    }\n    return <></>;\n  }\n\n  return (\n    <>\n      <div className={Classes.DIALOG_BODY}>\n        <Callout\n          title={`${result.uploaded} ${result.uploaded === 1 ? \"file has \" : \"files have\"} been uploaded.`}\n          icon=\"tick-circle\"\n        />\n        {getFailures()}\n      </div>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Classes, ProgressBar } from \"@blueprintjs/core\";\n\ntype FileUploadProps = {\n  currentLocation: string;\n  selectedFiles: File[];\n  reportStatus: (failedFiles: File[]) => void;\n};\n\nexport default function FileUpload({ currentLocation, selectedFiles, reportStatus }: FileUploadProps) {\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [currentUploadName, setCurrentUploadName] = useState(\"\");\n\n  useEffect(() => {\n    if (selectedFiles.length > 0) {\n      upload();\n    }\n    // eslint-disable-next-line\n  }, [selectedFiles]);\n\n  async function upload() {\n    let withErrors = [];\n    for (let i = 0; i < selectedFiles.length; i++) {\n      setUploadProgress((i + 1) / selectedFiles.length);\n      setCurrentUploadName(selectedFiles[i].name);\n      const photoFormData = new FormData();\n      photoFormData.append(\"file\", selectedFiles[i]);\n      photoFormData.append(\"directory\", currentLocation);\n      try {\n        await axios({\n          method: \"POST\",\n          url: \"http://localhost:4000/api/assets/upload\",\n          data: photoFormData,\n          headers: {\n            \"Content-Type\": 'multipart/form-data\"',\n          },\n        });\n      } catch (e) {\n        console.log(\"Upload error:\", e);\n        withErrors.push(selectedFiles[i]);\n      }\n    }\n    reportStatus(withErrors);\n  }\n\n  return (\n    <>\n      <div className={Classes.DIALOG_BODY}>\n        <ProgressBar value={uploadProgress} />\n        <p className=\"padding-top\">{currentUploadName}</p>\n      </div>\n    </>\n  );\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0klEQVR42r3TPwsBYRzA8R+LIquRwUixyyKTzP4tBrNSymDEC/AGGEwOmxdgNltZLF7AyULxfUL+9Ljrofzqs9zTfbu7fucRkQj6OOIsj/GhiY04jAcz1LF7OwthiLxbYILCh/MqcprrXpzQUAELRTGfKHq6QEId4OAS8COsC8xRge0SCGKlC5i80vTXgPX3gFquJJbfBNJoI3YLtBAwCcSxxkium6ueZvvNN3jZXF1gjJJJQC1OGXtkkELXITBA7TmgvmpHrr9yFgvRr7H9fON9LvNcNlIRYpv4AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAYklEQVR42mNkoBAwAnEkEGsB8V8s8hxAvBmIj+IzoA2Iq/BYglceZEADFKMDRyC2A2IpIH6GRZ4JJI7PAGJAM6UGNIwaMGwMaAbiWjINACekZCCWBeL/JGoGJeUnjGTaDAcAEg0Z4zein+0AAAAASUVORK5CYII=\"","import React, { useState } from \"react\";\nimport folderIcon from \"./icons/folder-small.png\";\nimport { Button, Classes, Dialog, InputGroup, Intent } from \"@blueprintjs/core\";\nimport useAPI from \"../shared/useAPI\";\nimport { Notification } from \"../shared/helpers/notification\";\n\ntype NewFolderProps = {\n  currentDir: string;\n  separator: string;\n};\n\nexport default function NewFolder({ currentDir, separator }: NewFolderProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [newDirectory, setNewDirectory] = useState(\"\");\n\n  const { execute: createFolder } = useAPI(\n    {\n      method: \"POST\",\n      url: \"assets/createDirectory\",\n      data: {\n        directory: `${currentDir}${separator}${newDirectory}`,\n      },\n    },\n    true\n  );\n\n  async function onCreate() {\n    try {\n      await createFolder();\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Cannot create new folder.\", error);\n      Notification.show({\n        message: \"Oh no, I can't create new folder  \",\n        intent: Intent.DANGER,\n        icon: \"delete\",\n      });\n    }\n  }\n\n  return (\n    <>\n      <Button\n        text=\"New folder\"\n        rightIcon={<img className={\"center-horizontal\"} src={folderIcon} alt=\"Create new folder\" />}\n        onClick={() => setIsOpen(true)}\n      />\n      <Dialog\n        isOpen={isOpen}\n        onClose={() => setIsOpen(false)}\n        canOutsideClickClose={false}\n        icon={<img className={\"center-horizontal  padding-right\"} src={folderIcon} alt=\"Create new folder\" />}\n        title=\"Create new folder\"\n      >\n        <div className={Classes.DIALOG_BODY}>\n          <p>Enter a name for the new folder:</p>\n          <InputGroup\n            leftIcon=\"folder-open\"\n            type=\"text\"\n            placeholder=\"\"\n            value={newDirectory}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n              setNewDirectory(e.target.value);\n            }}\n            className=\"new-folder-reset-input-padding\"\n          />\n        </div>\n        <div className={Classes.DIALOG_FOOTER}>\n          <span className={Classes.DIALOG_FOOTER_ACTIONS}>\n            <Button text=\"Create folder\" intent={Intent.PRIMARY} onClick={onCreate} />\n          </span>\n        </div>\n      </Dialog>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport Navigation from \"../shared/components/Navigation\";\nimport FileGrid from \"./FileGrid\";\nimport { AxiosRequestConfig } from \"axios\";\nimport useAPI from \"../shared/useAPI\";\nimport { Breadcrumb, Breadcrumbs, ButtonGroup, IBreadcrumbProps, Spinner } from \"@blueprintjs/core\";\nimport GenericError from \"../shared/components/GenericError\";\nimport folderOpenIcon from \"./icons/folder-open-small.png\";\nimport queryString from \"query-string\";\nimport { useLocation } from \"react-router-dom\";\nimport FileUploadModal from \"./upload/FileUploadModal\";\nimport NewFolder from \"./NewFolder\";\n\nconst discoverFilesAPI: AxiosRequestConfig = {\n  method: \"POST\",\n  url: \"assets/getAll\",\n};\n\nexport default function FileDirectoryPage() {\n  const queryStringParams = queryString.parse(useLocation().search);\n  const { loading: isLoading, error, data: allFiles } = useAPI({\n    ...discoverFilesAPI,\n    data: {\n      directory: queryStringParams.dir,\n    },\n  });\n  const [currentDir, setCurrentDir] = useState<IBreadcrumbProps[]>([]);\n\n  useEffect(() => {\n    if (allFiles.currentDir) {\n      const pathParts = allFiles.currentDir.split(allFiles.separator);\n      let dir: IBreadcrumbProps[] = [];\n      // @ts-ignore\n      for (let key in [...Array(pathParts.length).keys()]) {\n        dir.push({\n          href: `/bridge/file?dir=${pathParts.slice(0, Number(key) + 1).join(allFiles.separator)}`,\n          icon: (\n            <img className={\"center-horizontal margin-right\"} src={folderOpenIcon} alt={`${pathParts[key]} folder`} />\n          ),\n          text: pathParts[key],\n        });\n      }\n      setCurrentDir(dir);\n    }\n  }, [allFiles.currentDir, allFiles.separator]);\n\n  function renderCurrentBreadcrumb({ text, ...restProps }: IBreadcrumbProps) {\n    // customize rendering of last breadcrumb\n    return <Breadcrumb {...restProps}> {text} </Breadcrumb>;\n  }\n\n  function getCurrentState() {\n    if (isLoading) {\n      return <Spinner />;\n    }\n    if (error) {\n      return <GenericError />;\n    }\n    return (\n      <>\n        <div style={{ display: \"flex\" }}>\n          <Breadcrumbs\n            className=\"margin padding-left\"\n            currentBreadcrumbRenderer={renderCurrentBreadcrumb}\n            items={currentDir}\n          />\n          <span style={{ flexGrow: 1 }} />\n          <div className=\"margin\">\n            <ButtonGroup>\n              <FileUploadModal currentLocation={allFiles.currentDir} />\n              <NewFolder currentDir={allFiles.currentDir} separator={allFiles.separator} />\n            </ButtonGroup>\n          </div>\n        </div>\n        <FileGrid files={allFiles.files} />\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Navigation />\n      {getCurrentState()}\n    </>\n  );\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport AllPostsPage from \"./post/AllPostsPage\";\nimport PostEditorPage from \"./post/PostEditorPage\";\nimport AllPagesPage from \"./page/AllPagesPage\";\nimport PageEditorPage from \"./page/PageEditorPage\";\nimport HexoSettingsPage from \"./settings/HexoSettingsPage\";\nimport BridgeSettingsPage from \"./settings/BridgeSettingsPage\";\nimport ScaffoldsPage from \"./settings/scaffolds/ScaffoldsPage\";\nimport DiscoverPluginsPage from \"./plugin/discover/DiscoverPluginsPage\";\nimport InstalledPluginsPage from \"./plugin/InstalledPluginsPage\";\nimport ScriptsPage from \"./plugin/ScriptsPage\";\nimport InstalledThemesPage from \"./theme/installed/InstalledThemesPage\";\nimport DiscoverThemesPage from \"./theme/discover/DiscoverThemesPage\";\nimport ThemeSettingsPage from \"./theme/ThemeSettingsPage\";\nimport FileDirectoryPage from \"./file/FileDirectoryPage\";\n\nfunction App() {\n  return (\n    <Router basename={\"bridge\"}>\n      <Switch>\n        <Route exact path={[\"/\", `/post/all`]} component={AllPostsPage} />\n        <Route exact path={[\"/post/edit/:id\"]} component={PostEditorPage} />\n        <Route exact path={[\"/page/all\"]} component={AllPagesPage} />\n        <Route exact path={[\"/page/edit/:id\"]} component={PageEditorPage} />\n        <Route exact path={[\"/setting/hexo\"]} component={HexoSettingsPage} />\n        <Route exact path={[\"/setting/bridge\"]} component={BridgeSettingsPage} />\n        <Route exact path={[\"/setting/scaffolds\"]} component={ScaffoldsPage} />\n        <Route exact path={[\"/plugin/discover\"]} component={DiscoverPluginsPage} />\n        <Route exact path={[\"/plugin/installed\"]} component={InstalledPluginsPage} />\n        <Route exact path={[\"/plugin/script\"]} component={ScriptsPage} />\n        <Route exact path={[\"/theme/installed\"]} component={InstalledThemesPage} />\n        <Route exact path={[\"/theme/discover\"]} component={DiscoverThemesPage} />\n        <Route exact path={[\"/theme/config\"]} component={ThemeSettingsPage} />\n        <Route exact path={[\"/file\"]} component={FileDirectoryPage} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}