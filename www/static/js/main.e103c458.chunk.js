(this["webpackJsonpbridge-client"]=this["webpackJsonpbridge-client"]||[]).push([[0],{166:function(e,t,n){},167:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(20),s=n.n(r),i=(n(166),n(167),n(14)),o=n(18),l=n(4),j=n(287),d=n(49),u=n.p+"static/media/controll-panel.f5107ba9.png",b=n(9),h=n.n(b),O=n(13),x=n(23),g=n(3),m=n(61),p=n.n(m),f=n(186);function A(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(a.useState)(!0),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(null),o=Object(l.a)(i,2),j=o[0],d=o[1],u=Object(a.useState)([]),b=Object(l.a)(u,2),x=b[0],g=b[1];function m(){return A.apply(this,arguments)}function A(){return(A=Object(O.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.baseURL="/api/",e.data=f.stringify(e.data),t.abrupt("return",p()(e));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){t||function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),d(null),g([]),e.next=6,m();case 6:t=e.sent,g(t.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("useAPI error.",e.t0),d(e.t0);case 14:return e.prev=14,s(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(){return e.apply(this,arguments)}}()()}),[]),{loading:r,error:j,data:x,execute:m}}var v=n(19),w=j.x.create({position:v.a.TOP}),C=n(0);function k(){var e=Object(o.g)(),t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),d=i[0],u=i[1],b=A({method:"POST",url:"pages/create",data:{title:d}},!0).execute;function m(){return(m=Object(O.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b();case 3:n=t.sent,e.push("/page/edit/".concat(n.data._id)),window.location.reload(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Cannot create new page.",t.t0),w.show({message:"Oh no, I can't create new page \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.e,{minimal:!0,icon:"insert",text:"New page",onClick:function(){return r(!0)}}),Object(C.jsxs)(j.j,{isOpen:c,onClose:function(){return r(!1)},canOutsideClickClose:!1,icon:"insert",title:"Create new page",children:[Object(C.jsxs)("div",{className:g.a.DIALOG_BODY,children:[Object(C.jsx)("p",{children:"Enter a name for the new page:"}),Object(C.jsx)(j.o,{leftIcon:"duplicate",placeholder:"<Insert page name>",value:d,onChange:function(e){u(e.target.value)}})]}),Object(C.jsx)("div",{className:g.a.DIALOG_FOOTER,children:Object(C.jsx)("span",{className:g.a.DIALOG_FOOTER_ACTIONS,children:Object(C.jsx)(j.e,{text:"Create page",intent:x.a.PRIMARY,onClick:function(){return m.apply(this,arguments)}})})})]})]})}function S(){var e=Object(o.g)(),t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),d=i[0],u=i[1],b=Object(a.useState)("post"),m=Object(l.a)(b,2),p=m[0],f=m[1],k=A({method:"GET",url:"scaffolds/getAllNames"}).data,S=A({method:"POST",url:"posts/create",data:{title:d,scaffold:p}},!0).execute;function E(){return(E=Object(O.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S();case 3:n=t.sent,e.push("/post/edit/".concat(n.data._id)),window.location.reload(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Cannot create new post.",t.t0),w.show({message:"Oh no, I can't create new post \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.e,{minimal:!0,icon:"insert",text:"New post",onClick:function(){r(!0)}}),Object(C.jsxs)(j.j,{isOpen:c,onClose:function(){return r(!1)},canOutsideClickClose:!1,icon:"insert",title:"Create new post",children:[Object(C.jsxs)("div",{className:g.a.DIALOG_BODY,children:[Object(C.jsx)("p",{children:"Enter a name for the new post:"}),Object(C.jsx)(j.o,{value:d,leftIcon:"document",placeholder:"<Insert post title>",onChange:function(e){u(e.target.value)}}),Object(C.jsx)(j.t,{content:Object(C.jsx)(j.p,{children:k.map((function(e){if("page"!==e)return Object(C.jsx)(j.q,{onClick:function(){f(e)},text:e,active:e===p},e)}))}),position:v.a.RIGHT_TOP,children:Object(C.jsx)(j.e,{outlined:!0,text:"Use scaffold: ".concat(p),icon:"applications",style:{backgroundColor:"white"}})})]}),Object(C.jsx)("div",{className:g.a.DIALOG_FOOTER,children:Object(C.jsx)("span",{className:g.a.DIALOG_FOOTER_ACTIONS,children:Object(C.jsx)(j.e,{text:"Create post",intent:x.a.PRIMARY,onClick:function(){return E.apply(this,arguments)}})})})]})]})}function E(){var e=Object(o.h)();return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(j.r,{className:"navigation-bar",children:[Object(C.jsxs)(j.r.Group,{align:d.a.LEFT,children:[Object(C.jsx)(j.r.Heading,{children:Object(C.jsx)(i.b,{to:"/post/all",children:Object(C.jsx)("img",{className:"navigation-logo",src:u,alt:"Bridge | hexo admin panel"})})}),Object(C.jsx)(i.b,{to:"/post/all",children:Object(C.jsx)(j.e,{minimal:!0,icon:"document",text:"Posts",outlined:"/post/all"===e.pathname||"/"===e.pathname})}),Object(C.jsx)(i.b,{to:"/page/all",children:Object(C.jsx)(j.e,{minimal:!0,icon:"duplicate",text:"Pages",outlined:"/page/all"===e.pathname})}),Object(C.jsx)(j.b,{href:"/bridge/file?dir=files",minimal:!0,icon:"folder-open",text:"Files",outlined:e.pathname.startsWith("/file")}),Object(C.jsx)(i.b,{to:"/theme/installed",children:Object(C.jsx)(j.e,{minimal:!0,icon:"control",text:"Theme",outlined:e.pathname.startsWith("/theme/")})}),Object(C.jsx)(i.b,{to:"/plugin/installed",children:Object(C.jsx)(j.e,{minimal:!0,icon:"console",text:"Plugins",outlined:e.pathname.startsWith("/plugin/")})}),Object(C.jsx)(i.b,{to:"/setting/hexo",children:Object(C.jsx)(j.e,{minimal:!0,icon:"settings",text:"Settings",outlined:e.pathname.startsWith("/setting/")})})]}),Object(C.jsxs)(j.r.Group,{align:d.a.RIGHT,children:[e.pathname.startsWith("/post")?Object(C.jsx)(S,{}):e.pathname.startsWith("/page")?Object(C.jsx)(k,{}):Object(C.jsx)(C.Fragment,{}),Object(C.jsx)(j.r.Divider,{}),Object(C.jsx)(j.b,{href:"/",minimal:!0,icon:"share",text:"My site",target:"_blank"})]})]})})}function I(e){var t=e.count,n=e.currentPage,a=e.onChange;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{style:{margin:5},children:function(){for(var e=function(){if(0===t)return[1,1];if(n>t)return[1,1];if(t<=5)return[1,t];var e=n-2;e<=0&&(e=1);var a=e+4;return a>t&&(a=t),a-e!==4&&(e=a-4),[e,a]}(),c=Object(l.a)(e,2),r=c[0],s=c[1],i=[],o=r;o<=s;o++)i.push(o);return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(j.f,{children:[Object(C.jsx)(j.e,{onClick:function(){return a(1)},disabled:1===r,icon:"double-chevron-left"},"first-page"),Object(C.jsx)(j.e,{onClick:function(){return a(n-1)},disabled:1===n||0===t,icon:"chevron-left"},"previous-page"),i.map((function(e){return Object(C.jsx)(j.e,{text:e,onClick:function(){return a(e)},intent:e===n?x.a.PRIMARY:x.a.NONE},e)})),Object(C.jsx)(j.e,{onClick:function(){return a(n+1)},disabled:n===t||0===t,icon:"chevron-right"},"next-page"),Object(C.jsx)(j.e,{onClick:function(){return a(t)},disabled:r+5>t,icon:"double-chevron-right"},"last-page")]})})}()})})}function y(e,t){var n=new Date(e.date);return new Date(t.date)-n}function D(e,t,n){var a=(t-1)*n,c=a+n;return e.length>c?e.slice(a,c):e.slice(a,e.length)}function P(){return Object(C.jsx)(j.s,{icon:"error",title:"Oh no! Something bad happened \ud83d\ude1f ",description:"Can you check if everything is ok with hexo? Maybe reload this page?"})}function N(e){var t=e.code,n=e.className,a=void 0===n?"":n;return Object(C.jsx)("div",{className:a,dangerouslySetInnerHTML:{__html:t}})}var F=n(33);function G(e){var t=e.post,n=e.selectedPost,a=e.setSelectedPost,c=e.showCategories,r=e.showTags;return Object(C.jsxs)(j.h,{className:"card-list-item",interactive:!0,elevation:F.a.ZERO,onClick:function(){return a(t)},children:[Object(C.jsx)(i.b,{className:t._id===n._id?"selected-item":void 0,to:"/post/edit/".concat(t._id),children:Object(C.jsx)("b",{children:t.title})}),Object(C.jsx)(j.k,{}),Object(C.jsxs)("div",{className:"bp3-text-muted",style:{display:"flex"},children:[Object(C.jsxs)("span",{children:[new Date(t.date).toLocaleString(void 0,{day:"2-digit",month:"short",year:"numeric"})," ",t.published?void 0:Object(C.jsx)("b",{children:"[ Draft ] "})," "]}),Object(C.jsx)("span",{style:{flexGrow:1}}),function(){if(c)return 0===t.categories.length?Object(C.jsx)(j.e,{minimal:!0,text:"Categories (".concat(t.categories.length,")"),className:"force-text-muted"}):Object(C.jsxs)(j.t,{position:"right",children:[Object(C.jsx)(j.e,{minimal:!0,text:"Categories (".concat(t.categories.length,")"),className:"force-text-muted"}),Object(C.jsx)(j.p,{children:t.categories.data.map((function(e){return Object(C.jsx)(j.q,{text:e.name},e.name)}))})]})}(),function(){if(r)return 0===t.tags.length?Object(C.jsx)(j.e,{minimal:!0,text:"Tags (".concat(t.tags.length,")"),className:"force-text-muted"}):Object(C.jsxs)(j.t,{position:"right",children:[Object(C.jsx)(j.e,{minimal:!0,text:"Tags (".concat(t.tags.length,")"),className:"force-text-muted"}),Object(C.jsx)(j.p,{children:t.tags.data.map((function(e){return Object(C.jsx)(j.q,{text:e.name},e.name)}))})]})}()]})]})}var R={_id:"",title:"",date:"",published:!1,content:"",categories:{data:[],length:0},tags:{data:[],length:0}};function B(e){var t=e.posts,n=e.showCategories,c=e.showTags,r=Object(a.useState)(R),s=Object(l.a)(r,2),i=s[0],o=s[1];return 0===t.length?Object(C.jsx)(j.s,{icon:"path-search",title:"Sorry, I can't find the post you're looking for.",description:"Don't let this stop you. Click the new post button and write your best story ever."}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{children:t.map((function(e){return Object(C.jsx)(G,{post:e,selectedPost:i,setSelectedPost:o,showCategories:n,showTags:c},e._id)}))}),Object(C.jsx)(N,{className:"card-preview-panel",code:i.content})]})}function T(e,t,n){var a=e.trim().toLowerCase();return 0===a.length?t:t.filter((function(e){var t="";return n.forEach((function(n){e.hasOwnProperty(n)&&(t+=e[n].trim().toLowerCase())})),t.includes(a)}))}var L={method:"GET",url:"posts/getAll"},U={method:"GET",url:"settings/bridge/getAsJson"};function J(){var e=A(L),t=e.loading,n=e.error,c=e.data,r=Object(a.useState)(new Array),s=Object(l.a)(r,2),i=s[0],o=s[1],d=A(U),u=d.loading,b=d.data,h=b.post_list_itemsPerPage||4,O=Object(a.useState)(new Array),x=Object(l.a)(O,2),g=x[0],m=x[1],p=Object(a.useState)(1),f=Object(l.a)(p,2),v=f[0],w=f[1];function k(e){w(e),m(D(i,e,h))}return Object(a.useEffect)((function(){var e=c.sort(y);o(e),w(1),m(D(e,1,h))}),[c,h]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),t||u?Object(C.jsx)(j.v,{}):n?Object(C.jsx)(P,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(j.i,{fill:!1,vertical:!1,children:[Object(C.jsx)(j.o,{leftIcon:"search",placeholder:"Search",className:"search-input",onChange:function(e){return function(e){var t=T(e,c,["title"]).sort(y),n=D(t,1,h);o(t),m(n),w(1)}(e.target.value)}}),Object(C.jsx)(j.k,{}),Object(C.jsx)(I,{count:Math.ceil(i.length/h),currentPage:v,onChange:k})]}),Object(C.jsx)("div",{className:"list-preview-container",children:Object(C.jsx)(B,{posts:g,showCategories:b.post_list_showCategories,showTags:b.post_list_showTags})})]})]})}var W=n(10);function Q(){var e=Object(o.i)().id,t=Object(o.g)(),n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=A({method:"POST",url:"posts/delete",data:{id:e}},!0).execute;function d(){return(d=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:t.push("/post/all"),window.location.reload(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Unable to delete post.",e.t0),w.show({message:"Oh no, I can't delete the post. \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.e,{icon:"trash",onClick:function(){s(!0)},children:"Delete"}),Object(C.jsx)(j.a,{isOpen:r,icon:"trash",intent:x.a.DANGER,confirmButtonText:"Delete",cancelButtonText:"Cancel",onCancel:function(){return s(!1)},onConfirm:function(){return function(){return d.apply(this,arguments)}()},children:Object(C.jsx)("p",{children:"Are you sure that you want to permanently delete this post? "})})]})}function Y(e){var t=e.savePost,n=Object(o.i)().id,c=Object(o.g)(),r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],d=s[1],u=A({method:"POST",url:"posts/publish",data:{id:n}},!0).execute;function b(){return(b=Object(O.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return e.next=5,u();case 5:n=e.sent,c.push("/post/edit/".concat(n.data._id)),window.location.reload(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Unable to publish post.",e.t0),w.show({message:"Oh no, I can't publish the post. \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.e,{icon:"globe",text:"Publish",onClick:function(){d(!0)}}),Object(C.jsx)(j.a,{isOpen:i,intent:x.a.PRIMARY,confirmButtonText:"Publish",cancelButtonText:"Cancel",onCancel:function(){return d(!1)},onConfirm:function(){return function(){return b.apply(this,arguments)}()},children:Object(C.jsx)("p",{children:"Are you sure you want to publish this now?"})})]})}function M(e){var t=e.savePost,n=Object(o.i)().id,c=Object(o.g)(),r=Object(a.useState)(!1),s=Object(l.a)(r,2),i=s[0],d=s[1],u=A({method:"POST",url:"posts/draft",data:{id:n}},!0).execute;function b(){return(b=Object(O.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return e.next=5,u();case 5:n=e.sent,c.push("/post/edit/".concat(n.data._id)),window.location.reload(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Unable to unpublish post.",e.t0),w.show({message:"Oh no, I can't unpublish the post. \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.e,{icon:"pause",text:"Unpublish",onClick:function(){d(!0)}}),Object(C.jsxs)(j.a,{isOpen:i,intent:x.a.PRIMARY,confirmButtonText:"Unpublish",cancelButtonText:"Cancel",onCancel:function(){return d(!1)},onConfirm:function(){return function(){return b.apply(this,arguments)}()},children:[Object(C.jsx)("p",{children:Object(C.jsx)("b",{children:"Are you sure you want to unpublish this post?"})}),Object(C.jsx)("p",{children:"Drafts can be seen and edited through the admin panel, but only published posts are available on your website."})]})]})}function z(e){var t=e.savePost,n=A({method:"POST",url:"posts/getSingle",data:{id:Object(o.i)().id}}).data;return Object(C.jsxs)(C.Fragment,{children:[n.published?Object(C.jsx)(j.b,{icon:"share",text:"Preview",href:"/".concat(n.path),target:"_blank",rel:"noopener noreferrer"}):Object(C.jsx)(Y,{savePost:t}),Object(C.jsxs)(j.t,{position:"bottom",minimal:!0,children:[Object(C.jsx)(j.e,{icon:"caret-down"}),Object(C.jsxs)(j.f,{minimal:!0,vertical:!0,children:[n.published?Object(C.jsx)(M,{savePost:t}):void 0,Object(C.jsx)(Q,{})]})]})]})}var V=n(288),Z=n(28),q=n.n(Z),K=(n(39),n(111),n(40),n(52));function X(e){var t=e.value,n=e.onClose,c=e.isOpen,r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)([]),u=Object(l.a)(d,2),b=u[0],h=u[1],O=Object(a.useState)(!0),g=Object(l.a)(O,2),m=g[0],p=g[1];Object(a.useLayoutEffect)((function(){o(t)}),[t]),Object(a.useEffect)((function(){v()}),[i]);var f=A({method:"GET",url:"settings/bridge/getAsJson"}).data;function v(){try{return K.parse(i),i.trim().endsWith("---")?(h([]),!0):(h([{row:i.split("\n").length-1,column:0,text:"Front matter must end with ---",type:"error"}]),!1)}catch(e){return h([{row:e.mark.line,column:0,text:e.message,type:"error"}]),!1}}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(j.j,{icon:"annotation",title:"Front matter editor",isOpen:c,canOutsideClickClose:!1,onClose:function(){v()?(p(!0),n(i)):p(!1)},style:{width:"40vw"},children:[Object(C.jsx)(q.a,{height:"50vh",width:"fit-parent",style:{marginBottom:"-12px"},mode:"yaml",theme:"xcode",annotations:b,onChange:function(e){o(e.trim())},value:i,fontSize:f.editorFontSize||14,showPrintMargin:!1,editorProps:{$blockScrolling:!0}}),Object(C.jsxs)(j.a,{isOpen:!m,intent:x.a.PRIMARY,icon:"error",confirmButtonText:"Go back",cancelButtonText:"Discard changes",onCancel:function(){o(t),p(!0),n(t)},onConfirm:function(){return p(!0)},children:[Object(C.jsx)("p",{children:Object(C.jsx)("b",{children:"Front matter contains errors."})}),Object(C.jsx)("p",{children:"You can go back and correct these errors, or discard the changes."})]})]})," "]})}var H=n(36),_=n(52);n(72);var $=n(52),ee={method:"POST",url:"posts/getSingle"},te={method:"POST",url:"posts/save"},ne={method:"GET",url:"settings/bridge/getAsJson"};function ae(){var e=Object(o.i)().id,t=A(ne).data,n=A(Object(W.a)(Object(W.a)({},ee),{},{data:{id:e}})),c=n.loading,r=n.error,s=n.data,i=Object(a.useState)(!1),d=Object(l.a)(i,2),u=d[0],b=d[1],g=Object(a.useState)({title:"",categories:[],tags:[],date:(new Date).toISOString()}),m=Object(l.a)(g,2),p=m[0],f=m[1],v=Object(a.useState)(""),k=Object(l.a)(v,2),S=k[0],I=k[1],y=Object(a.useState)(!1),D=Object(l.a)(y,2),N=D[0],F=D[1],G=A(Object(W.a)(Object(W.a)({},te),{},{data:{id:e,content:$.stringify(p)+S}}),!0).execute;function R(){return B.apply(this,arguments)}function B(){return(B=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G();case 3:b(!1),w.show({message:"Saved!",intent:x.a.SUCCESS,icon:"saved"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Unable to save post.",e.t0),w.show({message:"Oh no, I can't save the post. \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(a.useLayoutEffect)((function(){if(s.raw){var e=function(e){try{var t=_.parse(e.raw),n=function(e){e._content;var t=Object(H.a)(e,["_content"]);return Object(W.a)({},t)}(t);return n.title||(n.title=e.title||""),n.categories||(n.categories=[]),n.tags||(n.tags=[]),n.date||(n.date=e.date||(new Date).toISOString()),{content:t._content,meta:n}}catch(r){throw console.error("Error while parsing post data.",r),new Error(r)}}(s);I(e.content),f(e.meta)}}),[s]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),c?Object(C.jsx)(j.v,{}):r?Object(C.jsx)(P,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(j.i,{className:"margin",children:[Object(C.jsx)(j.o,{leftIcon:"edit",placeholder:"I \u2764\ufe0f hexo.",value:p.title,onChange:function(e){f(Object(W.a)(Object(W.a)({},p),{},{title:e.target.value})),b(!0)}}),Object(C.jsx)(j.k,{}),Object(C.jsxs)(j.f,{minimal:!0,children:[Object(C.jsxs)(j.e,{icon:"property",onClick:function(){F(!0)},children:["Categories (",p.categories.length,")"]}),Object(C.jsxs)(j.e,{icon:"tag",onClick:function(){F(!0)},children:["Tags (",p.tags.length,")"]}),Object(C.jsxs)(j.t,{autoFocus:!1,children:[Object(C.jsx)(j.e,{icon:"calendar",children:new Date(p.date).toLocaleString(void 0,{day:"2-digit",month:"short",year:"numeric"})}),Object(C.jsx)(V.a,{value:new Date(p.date),onChange:function(e,t){t&&(f(Object(W.a)(Object(W.a)({},p),{},{date:e.toISOString()})),b(!0))}})]}),Object(C.jsx)(j.k,{}),Object(C.jsx)(j.e,{icon:"annotation",text:"Front matter",minimal:!0,onClick:function(){F(!0)}}),Object(C.jsx)(X,{isOpen:N,value:$.stringify(p),onClose:function(e){F(!1),f(function(e){var t=_.parse(e);return t.title||(t.title="Hello world"),t.categories||(t.categories=[]),t.tags||(t.tags=[]),t.date||(t.date=(new Date).toISOString()),t}(e)),b(!0)}})]}),Object(C.jsx)("span",{style:{flexGrow:1}}),Object(C.jsxs)(j.f,{minimal:!0,children:[Object(C.jsx)(j.e,{icon:"floppy-disk",text:"Save",onClick:R,disabled:!u}),Object(C.jsx)(z,{savePost:R})]})]}),Object(C.jsx)("div",{className:"code-editor-preview-container",children:Object(C.jsx)(q.a,{height:"90vh",width:"100vw",mode:"markdown",theme:"xcode",wrapEnabled:!0,value:S,onChange:function(e){I(e),b(!0)},fontSize:t.editorFontSize||14,showPrintMargin:!1,editorProps:{$blockScrolling:!0}})}),Object(C.jsx)(o.a,{when:u,message:"You have unsaved changes, are you sure you want to leave?"})]})]})}function ce(e){var t=e.page,n=e.selectedPage,a=e.setSelectedPage;return Object(C.jsxs)(j.h,{className:"card-list-item",interactive:!0,elevation:F.a.ZERO,onClick:function(){return a(t)},children:[Object(C.jsx)(i.b,{className:t._id===n._id?"selected-item":void 0,to:"/page/edit/".concat(t._id),children:Object(C.jsx)("b",{children:t.title})}),Object(C.jsx)(j.k,{}),Object(C.jsxs)("p",{className:"bp3-text-muted",children:[new Date(t.date).toLocaleString(void 0,{day:"2-digit",month:"short",year:"numeric"})," "]})]})}var re={_id:"",title:"",date:"",content:""};function se(e){var t=e.pages,n=Object(a.useState)(re),c=Object(l.a)(n,2),r=c[0],s=c[1];return 0===t.length?Object(C.jsx)(j.s,{icon:"path-search",title:"Sorry, I can't find the page you're looking for."}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{children:t.map((function(e){return Object(C.jsx)(ce,{page:e,selectedPage:r,setSelectedPage:s},e._id)}))}),Object(C.jsx)(N,{className:"card-preview-panel",code:r.content})]})}var ie={method:"GET",url:"pages/getAll"},oe={method:"GET",url:"settings/bridge/getAsJson"};function le(){var e=A(ie),t=e.loading,n=e.error,c=e.data,r=Object(a.useState)(new Array),s=Object(l.a)(r,2),i=s[0],o=s[1],d=A(oe),u=d.loading,b=d.data.page_list_itemsPerPage||4,h=Object(a.useState)(new Array),O=Object(l.a)(h,2),x=O[0],g=O[1],m=Object(a.useState)(1),p=Object(l.a)(m,2),f=p[0],v=p[1];function w(e){v(e),g(D(i,e,b))}return Object(a.useEffect)((function(){var e=c.sort(y);o(e),v(1),g(D(e,1,b))}),[c,b]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),t||u?Object(C.jsx)(j.v,{}):n?Object(C.jsx)(P,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(j.i,{fill:!1,vertical:!1,children:[Object(C.jsx)(j.o,{className:"search-input",leftIcon:"search",placeholder:"Search",onChange:function(e){return function(e){var t=T(e,c,["title"]).sort(y),n=D(t,1,b);o(t),g(n),v(1)}(e.target.value)}}),Object(C.jsx)(j.k,{}),Object(C.jsx)(I,{count:Math.ceil(i.length/b),currentPage:f,onChange:w})]}),Object(C.jsx)("div",{className:"list-preview-container",children:Object(C.jsx)(se,{pages:x})})]})]})}var je={method:"POST",url:"pages/getSingle"},de={method:"POST",url:"pages/delete"};function ue(e){e.savePage;var t=Object(o.i)().id,n=Object(o.g)(),c=Object(a.useState)(!1),r=Object(l.a)(c,2),s=r[0],i=r[1],d=A(Object(W.a)(Object(W.a)({},je),{},{data:{id:t}})),u=d.loading,b=d.data,g=Object(a.useState)(!1),m=Object(l.a)(g,2),p=m[0],f=m[1],v=A(Object(W.a)(Object(W.a)({},de),{},{data:{id:t}}),!0).execute;function k(){return(k=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:n.push("/page/all"),window.location.reload(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Unable to delete page.",e.t0),w.show({message:"Oh no, I can't delete the page. \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return u?Object(C.jsx)(C.Fragment,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.b,{icon:"share",text:"Preview",href:"/".concat(b.path),target:"_blank",rel:"noopener noreferrer"}),Object(C.jsxs)(j.t,{position:"bottom",minimal:!0,children:[Object(C.jsx)(j.e,{icon:"caret-down",onClick:function(){return i(!s)}}),Object(C.jsx)(j.f,{minimal:!0,vertical:!0,children:Object(C.jsx)(j.e,{icon:"trash",text:"Delete",onClick:function(){f(!0)}})})]}),Object(C.jsx)(j.a,{isOpen:p,icon:"trash",intent:x.a.DANGER,confirmButtonText:"Delete",cancelButtonText:"Cancel",onOpened:function(){return i(!1)},onCancel:function(){return f(!1)},onConfirm:function(){return function(){return k.apply(this,arguments)}()},children:Object(C.jsx)("p",{children:"Are you sure that you want to permanently delete this page? "})})]})}var be=n(52),he={method:"POST",url:"pages/getSingle"},Oe={method:"POST",url:"pages/save"},xe={method:"GET",url:"settings/bridge/getAsJson"};function ge(){var e=Object(o.i)().id,t=A(xe).data,n=A(Object(W.a)(Object(W.a)({},he),{},{data:{id:e}})),c=n.loading,r=n.error,s=n.data,i=Object(a.useState)(!1),d=Object(l.a)(i,2),u=d[0],b=d[1],g=Object(a.useState)({title:"",categories:[],tags:[],date:(new Date).toISOString()}),m=Object(l.a)(g,2),p=m[0],f=m[1],v=Object(a.useState)(""),k=Object(l.a)(v,2),S=k[0],I=k[1],y=Object(a.useState)(!1),D=Object(l.a)(y,2),N=D[0],F=D[1],G=A(Object(W.a)(Object(W.a)({},Oe),{},{data:{id:e,content:be.stringify(p)+S}}),!0).execute;function R(){return B.apply(this,arguments)}function B(){return(B=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G();case 3:b(!1),w.show({message:"Saved!",intent:x.a.SUCCESS,icon:"saved"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Unable to save page.",e.t0),w.show({message:"Oh no, I can't save the page. \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(a.useLayoutEffect)((function(){if(s.raw){var e=function(e){try{var t=_.parse(e.raw),n=function(e){e._content;var t=Object(H.a)(e,["_content"]);return Object(W.a)({},t)}(t);return n.title||(n.title=e.title||""),n.date||(n.date=e.date||(new Date).toISOString()),{content:t._content,meta:n}}catch(r){throw console.error("Error while parsing page data.",r),new Error(r)}}(s);I(e.content),f(e.meta)}}),[s]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),c?Object(C.jsx)(j.v,{}):r?Object(C.jsx)(P,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(j.i,{className:"margin",children:[Object(C.jsx)(j.o,{leftIcon:"edit",placeholder:"I \u2764\ufe0f hexo.",value:p.title,onChange:function(e){f(Object(W.a)(Object(W.a)({},p),{},{title:e.target.value})),b(!0)}}),Object(C.jsx)(j.k,{}),Object(C.jsx)(j.e,{icon:"annotation",text:"Front matter",minimal:!0,onClick:function(){F(!0)}}),Object(C.jsx)(X,{isOpen:N,value:be.stringify(p),onClose:function(e){F(!1),f(function(e){var t=_.parse(e);return t.title||(t.title="Hello world"),t}(e)),b(!0)}}),Object(C.jsx)("span",{style:{flexGrow:1}}),Object(C.jsxs)(j.f,{minimal:!0,children:[Object(C.jsx)(j.e,{text:"Save",icon:"floppy-disk",onClick:R,disabled:!u}),Object(C.jsx)(ue,{savePage:R})]})]}),Object(C.jsx)("div",{className:"code-editor-preview-container",children:Object(C.jsx)(q.a,{height:"90vh",width:"100vw",mode:"markdown",theme:"xcode",wrapEnabled:!0,value:S,onChange:function(e){I(e),b(!0)},fontSize:t.editorFontSize||14,showPrintMargin:!1,editorProps:{$blockScrolling:!0}})}),Object(C.jsx)(o.a,{when:u,message:"You have unsaved changes, are you sure you want to leave?"})]})]})}var me=n.p+"static/media/hexo-logo-avatar.0e6ec9d7.svg";function pe(){var e=Object(o.h)();return Object(C.jsx)(j.r,{className:"navigation-bar",children:Object(C.jsxs)(j.r.Group,{align:d.a.LEFT,children:[Object(C.jsx)(i.b,{to:"/setting/hexo",children:Object(C.jsx)(j.e,{minimal:!0,icon:Object(C.jsx)("img",{className:"navigation-logo",src:me,width:"20",height:"20",alt:"Hexo logo"}),text:"Hexo",outlined:"/setting/hexo"===e.pathname})}),Object(C.jsx)(i.b,{to:"/setting/bridge",children:Object(C.jsx)(j.e,{minimal:!0,icon:Object(C.jsx)("img",{className:"navigation-logo",src:u,width:"20",height:"20",alt:"Bridge logo"}),text:"Bridge",outlined:"/setting/bridge"===e.pathname})}),Object(C.jsx)(j.r.Divider,{}),Object(C.jsx)(i.b,{to:"/setting/scaffolds",children:Object(C.jsx)(j.e,{minimal:!0,icon:"applications",text:"Scaffolds",outlined:"/setting/scaffolds"===e.pathname})})]})})}var fe={method:"POST",url:"settings/validateYaml"},Ae={method:"GET",url:"settings/bridge/getAsJson"};function ve(e){var t=A(Ae).data,n=A(e.getContentConfig),c=n.loading,r=n.error,s=n.data,i=Object(a.useState)(!1),o=Object(l.a)(i,2),d=o[0],u=o[1],b=Object(a.useState)(""),g=Object(l.a)(b,2),m=g[0],p=g[1],f=A(Object(W.a)(Object(W.a)({},e.saveContentConfig),{},{data:{config:m}}),!0).execute;Object(a.useEffect)((function(){p(s.config)}),[s]);var v=A(Object(W.a)(Object(W.a)({},fe),{},{data:{config:m}}),!0).execute,k=Object(a.useState)([]),S=Object(l.a)(k,2),E=S[0],I=S[1];function y(){return D.apply(this,arguments)}function D(){return(D=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:w.show({message:"The config has been saved! ",intent:x.a.SUCCESS,icon:"saved"}),u(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Unable to save config.",e.t0),w.show({message:"Oh no, I can't save the config. \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){(function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:0===(t=e.sent).data.error.length?I([]):I([{row:t.data.error.mark.line,column:0,text:t.data.error.message,type:"error"}]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[m]),c?Object(C.jsx)(j.v,{}):r?Object(C.jsx)(P,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(j.i,{style:{margin:"5px"},children:[Object(C.jsxs)(j.g,{style:{maxWidth:"fit-content"},icon:"info-sign",children:[Object(C.jsx)("b",{children:"Filename:"})," ",s.fileName]}),Object(C.jsx)("span",{style:{flexGrow:1}}),Object(C.jsx)(j.e,{icon:"floppy-disk",minimal:!0,text:"Save",disabled:!d||0!==E.length,onClick:y})]}),Object(C.jsx)(q.a,{height:"80vh",width:"99vw",style:{margin:"5px"},mode:"yaml",theme:"xcode",annotations:E,onChange:function(e){p(e),u(!0)},value:m,fontSize:t.editorFontSize||14,showPrintMargin:!1,editorProps:{$blockScrolling:!0}})]})}var we={method:"GET",url:"settings/hexo/get"},Ce={method:"POST",url:"settings/hexo/save"};function ke(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),Object(C.jsx)(pe,{}),Object(C.jsx)(ve,{getContentConfig:we,saveContentConfig:Ce})]})}var Se={method:"GET",url:"settings/bridge/get"},Ee={method:"POST",url:"settings/bridge/save"};function Ie(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),Object(C.jsx)(pe,{}),Object(C.jsx)(ve,{getContentConfig:Se,saveContentConfig:Ee})]})}var ye={method:"POST",url:"scaffolds/rename"};function De(e){var t=e.selectedScaffold,n=e.allScaffolds,c=Object(a.useState)(!1),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(!0),d=Object(l.a)(o,2),u=d[0],b=d[1],m=Object(a.useState)(t.name),p=Object(l.a)(m,2),f=p[0],v=p[1],k=A(Object(W.a)(Object(W.a)({},ye),{},{data:{name:t.name,newName:f}}),!0).execute;function S(){return(S=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:window.location.reload(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Unable to rename scaffold.",e.t0),w.show({message:"Oh no, I can't rename the scaffold. \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.e,{icon:"edit",text:"Rename",minimal:!0,onClick:function(){return i(!0)},disabled:"post"===t.name||"page"===t.name}),Object(C.jsxs)(j.j,{isOpen:s,title:"Rename scaffold",canOutsideClickClose:!1,onClose:function(){return i(!1)},children:[Object(C.jsx)("div",{className:g.a.DIALOG_BODY,children:Object(C.jsx)(j.o,{value:f,onChange:function(e){var t=e.target.value;v(t),n.filter((function(e){return e.name===t})).length>0||0===t.trim().length?b(!0):b(!1)},fill:!0})}),Object(C.jsx)("div",{className:g.a.DIALOG_FOOTER,children:Object(C.jsx)("span",{className:g.a.DIALOG_FOOTER_ACTIONS,children:Object(C.jsx)(j.e,{text:"Rename",intent:x.a.PRIMARY,onClick:function(){return S.apply(this,arguments)},disabled:u})})})]})]})}var Pe={method:"POST",url:"scaffolds/delete"};function Ne(e){var t=e.selectedScaffold,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=A(Object(W.a)(Object(W.a)({},Pe),{},{data:{name:t.name}}),!0).execute;function o(){return(o=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:window.location.reload(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Unable to delete scaffold.",e.t0),w.show({message:"Oh no, I can't delete the scaffold. \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.e,{icon:"trash",text:"Delete",minimal:!0,disabled:"post"===t.name||"page"===t.name,onClick:function(){return s(!0)}}),Object(C.jsx)(j.a,{isOpen:r,icon:"trash",intent:x.a.DANGER,confirmButtonText:"Delete",cancelButtonText:"Cancel",onCancel:function(){return s(!1)},onConfirm:function(){return function(){return o.apply(this,arguments)}()},children:Object(C.jsx)("p",{children:"Are you sure that you want to permanently delete this scaffold? "})})]})}var Fe={method:"POST",url:"scaffolds/create"};function Ge(e){var t=e.allScaffolds,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),d=o[0],u=o[1],b=Object(a.useState)(!0),m=Object(l.a)(b,2),p=m[0],f=m[1],v=A(Object(W.a)(Object(W.a)({},Fe),{},{data:{name:d}}),!0).execute;function k(){return(k=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:window.location.reload(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Unable to create scaffold.",e.t0),w.show({message:"Oh no, I can't create new scaffold. \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.e,{icon:"insert",minimal:!0,text:"New",onClick:function(){return s(!0)}}),Object(C.jsxs)(j.j,{isOpen:r,title:"Create new scaffold",canOutsideClickClose:!1,onClose:function(){return s(!1)},icon:"insert",children:[Object(C.jsxs)("div",{className:g.a.DIALOG_BODY,children:[Object(C.jsx)("p",{children:"Enter a name for the new scaffold:"}),Object(C.jsx)(j.o,{value:d,placeholder:"<Insert scaffold name>",onChange:function(e){var n=e.target.value;u(n),t.filter((function(e){return e.name===n})).length>0||0===n.trim().length?f(!0):f(!1)},fill:!0})]}),Object(C.jsx)("div",{className:g.a.DIALOG_FOOTER,children:Object(C.jsx)("span",{className:g.a.DIALOG_FOOTER_ACTIONS,children:Object(C.jsx)(j.e,{text:"Create",intent:x.a.PRIMARY,onClick:function(){return k.apply(this,arguments)},disabled:p})})})]})]})}var Re={method:"GET",url:"scaffolds/getAllData"},Be={method:"POST",url:"scaffolds/save"},Te={method:"GET",url:"settings/bridge/getAsJson"};function Le(){var e=A(Te).data,t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],r=n[1],s=A(Re),i=s.loading,o=s.error,d=s.data,u=Object(a.useState)({name:"",content:"",fileName:""}),b=Object(l.a)(u,2),g=b[0],m=b[1],p=A(Object(W.a)(Object(W.a)({},Be),{},{data:{name:g.name,content:g.content}}),!0).execute;function f(){return v.apply(this,arguments)}function v(){return(v=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p();case 3:w.show({message:"The scaffold has been saved! ",intent:x.a.SUCCESS,icon:"saved"}),r(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Unable to save scaffold.",e.t0),w.show({message:"Oh no, I can't save the scaffold. \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(a.useLayoutEffect)((function(){d.length>0&&m(d[0])}),[d]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),Object(C.jsx)(pe,{}),i?Object(C.jsx)(j.v,{}):o?Object(C.jsx)(P,{}):Object(C.jsxs)(C.Fragment,{children:[" ",Object(C.jsxs)(j.i,{style:{margin:"5px"},children:[Object(C.jsx)(Ge,{allScaffolds:d}),Object(C.jsxs)(j.t,{position:"bottom-right",minimal:!0,children:[Object(C.jsxs)(j.f,{children:[Object(C.jsxs)(j.e,{icon:"applications",minimal:!0,children:["Selected: ",g.name," "]}),Object(C.jsx)(j.e,{icon:"caret-down",minimal:!0})]}),Object(C.jsx)(j.p,{children:d.map((function(e){return Object(C.jsx)(j.p.Item,{text:e.name,onClick:function(){m(e),r(!1)},active:e.name===g.name},e.name)}))})]}),Object(C.jsx)("span",{style:{flexGrow:1}}),Object(C.jsx)(j.e,{icon:"floppy-disk",minimal:!0,text:"Save",onClick:f,disabled:!c}),Object(C.jsxs)(j.t,{position:"bottom",minimal:!0,children:[Object(C.jsx)(j.e,{icon:"caret-down",minimal:!0}),Object(C.jsxs)(j.f,{minimal:!0,vertical:!0,children:[Object(C.jsx)(De,{selectedScaffold:g,allScaffolds:d}),Object(C.jsx)(Ne,{selectedScaffold:g})]})]})]}),Object(C.jsx)(q.a,{height:"80vh",width:"99vw",style:{margin:"5px"},mode:"yaml",theme:"xcode",onChange:function(e){m(Object(W.a)(Object(W.a)({},g),{},{content:e})),r(!0)},value:g.content,fontSize:e.editorFontSize||14,showPrintMargin:!1,editorProps:{$blockScrolling:!0}})]})]})}function Ue(){var e=Object(o.h)();return Object(C.jsx)(j.r,{className:"navigation-bar",children:Object(C.jsxs)(j.r.Group,{align:d.a.LEFT,children:[Object(C.jsx)(i.b,{to:"/plugin/installed",children:Object(C.jsx)(j.e,{minimal:!0,icon:"ring",text:"Installed",outlined:"/plugin/installed"===e.pathname})}),Object(C.jsx)(i.b,{to:"/plugin/script",children:Object(C.jsx)(j.e,{minimal:!0,icon:"code-block",text:"Scripts",outlined:"/plugin/script"===e.pathname})}),Object(C.jsx)(i.b,{to:"/plugin/discover",children:Object(C.jsx)(j.e,{minimal:!0,icon:"pulse",text:"Discover",outlined:"/plugin/discover"===e.pathname})})]})})}var Je=n(125),We=n.n(Je);function Qe(e){var t=e.columns,n=void 0===t?2:t,a=e.className,c=void 0===a?"grid":a,r=e.columnClassName,s=void 0===r?"grid-column":r,i=Object(H.a)(e,["columns","className","columnClassName"]);return Object(C.jsx)(We.a,{breakpointCols:{default:n},className:c,columnClassName:s,children:i.children})}function Ye(e){var t=e.plugins;return 0===t.length?Object(C.jsx)(j.s,{icon:"search",title:"Oh snap!",description:"I can't find the plugin you're looking for."}):Object(C.jsx)(Qe,{columns:2,children:t.map((function(e){return Object(C.jsxs)(j.h,{className:"margin",children:[Object(C.jsx)("h3",{children:Object(C.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:e.name})}),Object(C.jsx)("p",{children:e.description}),Object(C.jsx)(j.k,{}),e.tags.map((function(e){return Object(C.jsx)(j.w,{minimal:!0,className:"margin",children:e},e)}))]},e.link)}))})}function Me(e){var t=e.allAddons,n=e.selected,a=e.onChange;return Object(C.jsx)(j.p,{className:"tag-list margin",children:Object.keys(t).sort((function(e,n){return t[n].count-t[e].count})).map((function(e){return Object(C.jsx)(j.q,{text:"".concat(e," (").concat(t[e].count,")"),active:n===e,onClick:function(){return a(e)}},e)}))})}var ze={method:"GET",url:"plugins/getAll"};function Ve(){var e=A(ze),t=e.loading,n=e.error,c=e.data,r=Object(a.useState)("all"),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(new Array),u=Object(l.a)(d,2),b=u[0],h=u[1],O=Object(a.useState)(new Array),x=Object(l.a)(O,2),g=x[0],m=x[1],p=Object(a.useState)(1),f=Object(l.a)(p,2),v=f[0],w=f[1];function k(e){o(e),h(c[e].plugins),w(1),m(D(c[e].plugins,1,6))}function S(e){w(e),m(D(b,e,6))}return Object(a.useEffect)((function(){c.all&&(h(c.all.plugins),o("all"),w(1),m(D(c.all.plugins,1,6)))}),[c]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),Object(C.jsx)(Ue,{}),t?Object(C.jsx)(j.v,{}):n?Object(C.jsx)(P,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(j.i,{children:[Object(C.jsx)(j.o,{className:"search-input",leftIcon:"search",placeholder:"Search",onChange:function(e){!function(e){k("all");var t=T(e,c.all.plugins,["name","description"]);h(t),w(1),m(D(t,1,6))}(e.target.value)}}),Object(C.jsx)(j.k,{}),Object(C.jsx)(j.w,{icon:"tag",minimal:!0,className:"margin",children:Object(C.jsx)("b",{children:i})}),Object(C.jsx)(j.k,{}),Object(C.jsx)(I,{count:Math.ceil(b.length/6),currentPage:v,onChange:S})]}),Object(C.jsxs)("div",{className:"grid-preview-container",children:[Object(C.jsx)(Ye,{plugins:g}),Object(C.jsx)(Me,{allAddons:c,selected:i,onChange:k})]})]})]})}var Ze={method:"GET",url:"plugins/getInstalled"};function qe(){var e=A(Ze),t=e.loading,n=e.error,a=e.data;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),Object(C.jsx)(Ue,{}),t?Object(C.jsx)(j.v,{}):n?Object(C.jsx)(P,{}):Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(j.m,{className:"table",interactive:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Name"}),Object(C.jsx)("th",{children:"Description"}),Object(C.jsx)("th",{children:"Version"})]})}),Object(C.jsx)("tbody",{children:a.map((function(e){return Object(C.jsxs)("tr",{children:[e.link?Object(C.jsx)("td",{children:Object(C.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:e.link,children:e.name})}):Object(C.jsx)("td",{children:e.name}),Object(C.jsx)("td",{children:e.description}),Object(C.jsx)("td",{children:e.version})]},e.name)}))})]})})]})}n(254);var Ke={method:"GET",url:"plugins/getScripts"},Xe={method:"GET",url:"settings/bridge/getAsJson"};function He(){var e=A(Xe).data,t=A(Ke),n=t.loading,c=t.error,r=t.data,s=Object(a.useState)(""),i=Object(l.a)(s,2),o=i[0],d=i[1],u=Object(a.useState)(!1),b=Object(l.a)(u,2),h=b[0],O=b[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),Object(C.jsx)(Ue,{}),n?Object(C.jsx)(j.v,{}):c?Object(C.jsx)(P,{}):0===r.length?Object(C.jsx)(j.s,{icon:"folder-open",title:"The scripts folder is empty.",description:"Looks like you don't use any script plugins on your website."}):Object(C.jsxs)(C.Fragment,{children:[" ",Object(C.jsxs)(j.m,{className:"table",interactive:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Name"}),Object(C.jsx)("th",{children:"Path"}),Object(C.jsx)("th",{})]})}),Object(C.jsx)("tbody",{children:r.map((function(e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:e.name}),Object(C.jsx)("td",{children:e.filePath}),Object(C.jsx)("td",{children:Object(C.jsx)(j.e,{text:"preview",outlined:!0,onClick:function(){d(e.content),O(!0)}})})]},e.filePath)}))})]}),Object(C.jsx)(j.j,{icon:"code-block",title:"Script preview",isOpen:h,canOutsideClickClose:!1,onClose:function(){return O(!1)},style:{width:"40vw"},children:Object(C.jsx)(q.a,{height:"50vh",width:"fit-parent",style:{marginBottom:"-12px"},mode:"javascript",theme:"xcode",value:o,fontSize:e.editorFontSize||14,showPrintMargin:!1,readOnly:!0,editorProps:{$blockScrolling:!0}})})]})]})}var _e=n(63);n(117);function $e(e){var t=e.theme,n=e.setLightboxSrc,a=e.setLightboxTitle,c=e.setLightboxCaption,r=e.setShowLightbox;return Object(C.jsxs)(j.h,{className:"margin",children:[Object(C.jsxs)("h2",{children:[t.name,t.isActive&&Object(C.jsx)(j.w,{intent:"success",style:{marginLeft:"5px"},children:"Active"})]}),t.screenshot&&Object(C.jsx)("div",{style:{cursor:"pointer"},onClick:function(){n(t.screenshot),a(Object(C.jsx)("b",{children:t.name})),c(Object(C.jsx)("b",{children:t.description})),r(!0)},children:Object(C.jsx)("img",{src:t.screenshot,alt:t.name,style:{maxWidth:"30vw"}})}),t.description&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("p",{children:t.description}),Object(C.jsx)(j.k,{})]}),t.tags&&t.tags.map((function(e){return Object(C.jsx)(j.w,{minimal:!0,className:"margin",children:e},e)})),Object(C.jsx)(j.k,{}),Object(C.jsxs)("span",{style:{display:"flex"},children:[Object(C.jsx)("span",{style:{flexGrow:1}}),Object(C.jsxs)(j.f,{children:[t.preview&&Object(C.jsx)(j.b,{outlined:!0,text:"Demo",icon:"share",href:t.preview,target:"_blank",rel:"noopener noreferrer"}),t.link&&Object(C.jsx)(j.b,{outlined:!0,text:"Website",icon:"link",href:t.link,target:"_blank",rel:"noopener noreferrer"})]})]})]},"".concat(t.name,"|").concat(t.link))}function et(e){var t=e.themes,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),d=o[0],u=o[1],b=Object(a.useState)(),h=Object(l.a)(b,2),O=h[0],x=h[1],g=Object(a.useState)(),m=Object(l.a)(g,2),p=m[0],f=m[1];function A(){if(r)return Object(C.jsx)(_e.a,{mainSrc:d,onCloseRequest:function(){s(!1)},imageTitle:O,imageCaption:p})}return 0===t.length?Object(C.jsx)(j.s,{icon:"search",title:"Oh snap!",description:"I can't find the theme you're looking for."}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Qe,{columns:2,children:t.map((function(e){return Object(C.jsx)($e,{theme:e,setLightboxSrc:u,setLightboxTitle:x,setLightboxCaption:f,setShowLightbox:s},"".concat(e.name,"|").concat(e.link))}))}),A()]})}function tt(){var e=Object(o.h)();return Object(C.jsx)(j.r,{className:"navigation-bar",children:Object(C.jsxs)(j.r.Group,{align:d.a.LEFT,children:[Object(C.jsx)(i.b,{to:"/theme/installed",children:Object(C.jsx)(j.e,{minimal:!0,icon:"ring",text:"Installed",outlined:"/theme/installed"===e.pathname})}),Object(C.jsx)(i.b,{to:"/theme/config",children:Object(C.jsx)(j.e,{minimal:!0,icon:"id-number",text:"Settings",outlined:"/theme/config"===e.pathname})}),Object(C.jsx)(i.b,{to:"/theme/discover",children:Object(C.jsx)(j.e,{minimal:!0,icon:"pulse",text:"Discover",outlined:"/theme/discover"===e.pathname})})]})})}var nt={method:"GET",url:"theme/getInstalled"};function at(){var e=A(nt),t=e.loading,n=e.error,c=e.data,r=Object(a.useState)(new Array),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(new Array),u=Object(l.a)(d,2),b=u[0],h=u[1],O=Object(a.useState)(1),x=Object(l.a)(O,2),g=x[0],m=x[1];function p(e){m(e),h(D(i,e,6))}return Object(a.useEffect)((function(){c&&(o(c),m(1),h(D(c,1,6)))}),[c]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),Object(C.jsx)(tt,{}),t?Object(C.jsx)(j.v,{}):n?Object(C.jsx)(P,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(j.i,{children:[Object(C.jsx)(j.o,{className:"search-input",leftIcon:"search",placeholder:"Search",onChange:function(e){!function(e){var t=T(e,c,["name","description"]);o(t),m(1),h(D(t,1,6))}(e.target.value)}}),Object(C.jsx)(j.k,{}),Object(C.jsx)(I,{count:Math.ceil(i.length/6),currentPage:g,onChange:p})]}),Object(C.jsx)("div",{className:"grid-preview-container",children:Object(C.jsx)(et,{themes:b})})]})]})}function ct(e){var t=e.theme,n=e.setLightboxSrc,a=e.setLightboxTitle,c=e.setLightboxCaption,r=e.setShowLightbox;return Object(C.jsxs)(j.h,{className:"margin",children:[Object(C.jsx)("h2",{children:Object(C.jsx)("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",children:t.name})}),Object(C.jsx)("div",{style:{cursor:"pointer"},onClick:function(){n(t.screenshot),a(Object(C.jsx)("b",{children:t.name})),c(Object(C.jsx)("b",{children:t.description})),r(!0)},children:Object(C.jsx)("img",{src:t.screenshot,alt:t.name,style:{maxWidth:"30vw"}})}),Object(C.jsx)("p",{children:t.description}),Object(C.jsx)(j.k,{}),t.tags.map((function(e){return Object(C.jsxs)(j.w,{minimal:!0,className:"margin",children:[e," "]},e)})),Object(C.jsx)(j.k,{}),Object(C.jsxs)("span",{style:{display:"flex"},children:[Object(C.jsx)("span",{style:{flexGrow:1}}),Object(C.jsxs)(j.f,{children:[Object(C.jsx)(j.b,{outlined:!0,text:"Demo",icon:"share",href:t.preview,target:"_blank",rel:"noopener noreferrer"}),Object(C.jsx)(j.b,{outlined:!0,text:"Download",icon:"import",href:t.link,target:"_blank",rel:"noopener noreferrer"})]})]})]},t.link)}function rt(e){var t=e.themes,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),d=o[0],u=o[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),O=h[0],x=h[1],g=Object(a.useState)(""),m=Object(l.a)(g,2),p=m[0],f=m[1];function A(){if(r)return Object(C.jsx)(_e.a,{mainSrc:d,onCloseRequest:function(){s(!1)},imageTitle:O,imageCaption:p})}return 0===t.length?Object(C.jsx)(j.s,{icon:"search",title:"Oh snap!",description:"I can't find the theme you're looking for."}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Qe,{columns:2,children:t.map((function(e){return Object(C.jsx)(ct,{theme:e,setLightboxSrc:u,setLightboxTitle:x,setLightboxCaption:f,setShowLightbox:s},"".concat(e.name,"|").concat(e.link))}))}),A()]})}var st={method:"GET",url:"theme/getAll"};function it(){var e=A(st),t=e.loading,n=e.error,c=e.data,r=Object(a.useState)("all"),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(new Array),u=Object(l.a)(d,2),b=u[0],h=u[1],O=Object(a.useState)(new Array),x=Object(l.a)(O,2),g=x[0],m=x[1],p=Object(a.useState)(1),f=Object(l.a)(p,2),v=f[0],w=f[1];function k(e){o(e),h(c[e].themes),w(1),m(D(c[e].themes,1,6))}function S(e){w(e),m(D(b,e,6))}return Object(a.useEffect)((function(){c.all&&(h(c.all.themes),o("all"),w(1),m(D(c.all.themes,1,6)))}),[c]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),Object(C.jsx)(tt,{}),t?Object(C.jsx)(j.v,{}):n?Object(C.jsx)(P,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(j.i,{children:[Object(C.jsx)(j.o,{className:"search-input",leftIcon:"search",placeholder:"Search",onChange:function(e){!function(e){k("all");var t=T(e,c.all.themes,["name","description"]);h(t),w(1),m(D(t,1,6))}(e.target.value)}}),Object(C.jsx)(j.k,{}),Object(C.jsx)(j.w,{icon:"tag",minimal:!0,className:"margin",children:Object(C.jsx)("b",{children:i})}),Object(C.jsx)(j.k,{}),Object(C.jsx)(I,{count:Math.ceil(b.length/6),currentPage:v,onChange:S})]}),Object(C.jsxs)("div",{className:"grid-preview-container",children:[Object(C.jsx)(rt,{themes:g}),Object(C.jsx)(Me,{allAddons:c,selected:i,onChange:k})]}),Object(C.jsxs)("span",{style:{display:"flex"},children:[Object(C.jsx)("span",{style:{flexGrow:1}}),Object(C.jsx)("span",{style:{marginRight:"15vw"},children:Object(C.jsx)(I,{count:Math.ceil(b.length/6),currentPage:v,onChange:function(e){window.scrollTo({top:0}),S(e)}})})]})]})]})}var ot={method:"GET",url:"theme/getConfig"},lt={method:"POST",url:"theme/saveConfig"};function jt(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),Object(C.jsx)(tt,{}),Object(C.jsx)(ve,{getContentConfig:ot,saveContentConfig:lt})]})}var dt=n(45);function ut(e){var t=e.oldPath,n=e.name,c=Object(a.useState)(!1),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(t),d=Object(l.a)(o,2),u=d[0],b=d[1],m=A({method:"POST",url:"assets/rename",data:{oldPath:t,newPath:u}},!0).execute;function p(){return(p=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:window.location.reload(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Cannot complete rename action.",e.t0),w.show({message:"Oh no, I can't rename ".concat(n,"  \ud83d\ude1f "),intent:x.a.DANGER,icon:"delete"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(C.jsxs)("span",{onClick:function(e){e.stopPropagation()},children:[" ",Object(C.jsx)(j.e,{minimal:!0,rightIcon:"new-link",onClick:function(e){i(!0)}}),Object(C.jsxs)(j.j,{isOpen:s,onClose:function(){return i(!1)},canOutsideClickClose:!1,icon:"new-link",title:"Move or rename: ".concat(n),children:[Object(C.jsxs)("div",{className:g.a.DIALOG_BODY,children:[Object(C.jsx)("p",{children:"Enter the new path:"}),Object(C.jsx)(j.o,{leftIcon:"folder-open",type:"text",placeholder:"",value:u,onChange:function(e){b(e.target.value)},className:"new-folder-reset-input-padding"})]}),Object(C.jsx)("div",{className:g.a.DIALOG_FOOTER,children:Object(C.jsx)("span",{className:g.a.DIALOG_FOOTER_ACTIONS,children:Object(C.jsx)(j.e,{text:"Save",intent:x.a.PRIMARY,onClick:function(){return p.apply(this,arguments)}})})})]})]})}var bt={method:"POST",url:"assets/deleteDirectory"};function ht(e){var t=e.file,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=A(Object(W.a)(Object(W.a)({},bt),{},{data:{directory:t.filePath}}),!0).execute;function o(){return(o=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:window.location.reload(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Unable to delete folder.",e.t0),w.show({message:"Oh no, I can't delete the folder. \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(j.h,{className:"margin",interactive:!0,elevation:F.a.ZERO,onClick:function(){window.location.href="/bridge/file?dir=".concat(t.filePath)},children:[Object(C.jsx)("a",{href:"/bridge/file?dir=".concat(t.filePath),children:Object(C.jsx)("b",{className:"break-word",children:t.name})}),Object(C.jsx)(j.k,{}),Object(C.jsxs)("span",{className:"file-info-container",children:[Object(C.jsx)(j.n,{icon:Object(C.jsx)("img",{width:24,height:24,className:"center-horizontal",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAApUlEQVR42mNkoDFghNJ8QCwDxEwE1L8B4hekWhAOxMVAfBqI/xNQrwbEZ4C4ihQLDgKxNxB/IVLPMSB2AOJfxFpwAKoBH+AGYnUoux+Ia4lw0CsgfkKsBSDDU4kNFijQB+KdxFpADmAGmU1LCxhGLRi1YNSCUQsGkwWHoRb8pbLhLEC8H2RBHhD7AfE1KlugC8QbYJW+OBCLUtmC10D8kpFiYwgAAHtmMUIO4OaAAAAAAElFTkSuQmCC",alt:"Folder"})}),Object(C.jsx)("span",{style:{flexGrow:1}}),Object(C.jsx)(ut,{oldPath:t.filePath,name:t.name}),Object(C.jsx)(j.e,{minimal:!0,rightIcon:"delete",onClick:function(e){s(!0),e.stopPropagation()}})]})]},t.filePath),Object(C.jsx)(j.a,{isOpen:r,icon:"trash",intent:x.a.DANGER,confirmButtonText:"Delete",cancelButtonText:"Cancel",canEscapeKeyCancel:!0,canOutsideClickCancel:!0,onCancel:function(e){s(!1),e.stopPropagation()},onConfirm:function(){return function(){return o.apply(this,arguments)}()},children:Object(C.jsxs)("p",{children:["Are you sure that you want to permanently delete ",Object(C.jsx)("b",{children:t.name})," and its contents?"," "]})})]})}var Ot=n.p+"static/media/file-image.f88a6019.svg",xt=n.p+"static/media/file-text.91b2a18a.svg",gt=n.p+"static/media/file-video.f0c0398d.svg",mt=n.p+"static/media/file-word.013d4abc.svg",pt=n.p+"static/media/file-excel.be8324ec.svg",ft=n(118),At=n(263),vt=n(266),wt=n(268);function Ct(e){return e.filePath.endsWith(".pdf")?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUCSURBVFiFtZdrbJNVGMd/76W3rd3oZWtX2o50MGBgDI4gZMpFDQbU8EGDMwZEP6lRYyQxfjAkBoQYEyOJxi8aSYZC/KRGIGg0UVk0BhQYMnd1Y5Pden3XbX17e/0wOrqu3bqJ/+T98JzznPP8es5zznMqkCdJknY7nc5PFEVxZDKZtKZpWr5PvkRRlCRJotpq/b27v/8RILjQmGK6z+fzJc5+c06LKTFNjaslfaPDY9qpz05rVqNJ89gdQcBRakAx16irqzt26M1DusbGRnR63aLp73V7eK6m1uZ1ODpLhZBzjUQisXJ1/RpkWVp08Kz2e/0A1k+hcyAQqAcCJQMAgiAISw6eC6EXRetHGa37n1BwDTBcKsCS5ff72elfOWM3L1+BmslUnhDF6wOBsaIrIRZqXIrcNW52+etntT3j9XPA5bN6HVVFc+KOAVy8dJHXfzg/pz0L4XFUdxSCmAUgCAJLyQFRFKn11XIpMMKYGi8I8azLa7sFUTkrZq7R0tJycmvTtqfNlnLMFnPJAKlUinAwwhenT3Hs6GFMUuHUuhmN4K6pOXljcHBftm2W5+TEpFzCxTdHsixjqTSzt/kpntj7JIqiFPTr7+/nhZee3zFrbK5x5O0j29etXc/ahjWLhjAajej1etS4iqWi8OolkiqJRCJTFACg/0YfiaSKqcy0aIh8uVwu3G43vb29RCIRQqEQqVQqmeuTmwMNFoPxiltvkO2WCqQlXMX5alzu5eD9O3jtzJcMjyuEVJW/g4GpyYTaCLTnAgh2WTd0sMrj3LOqAUN52X8OXkznhwe1N65d7BtPJusALXsMvSZRsm2vsP2vwQEednkEkyjbAA/czoEyiyQhCLPvpdbgCKdv9AJg0xvYv2IVdeUWRtU4H3ZfJ61plMsyD1a72WSrAqBnYpzjXX+SPU37alfO9GVVodOlR9WpcljgJrwSCVGp09Ps89NQsYwDv/3EUHyS7pjCtWiYJoeTGmMZh9svc6KvC4Cu8SixVJJmn59mn596S+V8IRYuRr4yM012J9hhYHKC70du4jdX4DKa2OXyAPC4ZwWPXviWx9w+AJwG0/SYElRyLdCAzpiCw2CcsbOyyDq22Ku5Epl+iYWTKteiYdqVCJkFLrYFV+Crm/20RUP0TcTwlZWz07mcX0Njc/wqdXqCCRWLrONqJMy7HW0IAhxdvxG3qXhiLwiwYZmdXTUeXAYTdeaKmfb839UVU3ig2k04obKtysWxuzYuNDVQwhbUlk/nQG7waYDbCK3BEQYmJ9hoLfktOqN5V0Agr1xmBwkCVyNhXv7jFwJqnKH4FMc3bEZaQjmfF2CPuxapwIT3WO28d/cm0miUSzLrKqzoxOnFbLJXs9o8/9ErBDA6nEyQTCVB0+BW0GLJIwsim+3VBfvMsg6zXLyOpDWNkfiUARjJBQjpJenHd8YGHnqxzISruvDkWRlECaMkkchkmEqn5vXN1Xgqyfs97QkR4TsgDLO32Oiw2kbLwIIoIsgyxbaz3uPj1KG3ePWD4/x89XLJAIIoEVSio0osVgvE8wHwer1Dn7eccjWsW7uoJ1mp6unpYeu2rT2BQGDm/T7rGOr1+u6Ozr9IpdJ3PDhAW1sbgiB0zOfT5PX6Eme+PruoP6elfK0XWjWn06kAW3IDztllSZJ2u1w1H0ejkapMJpPRNC2T77NoaWA0GQcVRXklnU6fy+36F9OZHjavQ+UBAAAAAElFTkSuQmCC":e.filePath.endsWith(".doc")||e.filePath.endsWith(".docx")?mt:e.filePath.endsWith(".xls")||e.filePath.endsWith(".xlsx")?pt:e.filePath.endsWith(".zip")||e.filePath.endsWith(".rar")||e.filePath.endsWith(".7z")||e.filePath.endsWith(".tar")||e.filePath.endsWith(".gz")||e.filePath.endsWith(".sfx")?"data:image/png;base64,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":e.filePath.endsWith(".eml")||e.filePath.endsWith(".mbox")?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEwElEQVR42tWXfVAUZRzHv3t3e7d7x3EcJyAiSiCJxAh06EhOpKNTWI5plDkl9vaP4DiNA1hjMzWT2EyWBtboTDM5WdSkF6IVWhQZVkShQAnGy+RLJC8HxwF3wL3s3vbsMmcSdwoc5PSduZnbZ2ef72e/v9+z+yyF2yzqfw1Qv9WQQZEZUg5Zzv6nAJ8/qdcun4O3Kc7xlHgsKJgjdWZq++ojfbaAAdraWu5nWXaZXzjXEKX4zZQNpy12zLgq6BKXlPUhmGDBj5fgcrlqYmMXVPgFMJmO3mc0Ljkz1WQmIKG1tXllZuaDVT4B8vPz8nJzt705Q+aSDh9+L7+wcM8+nwA5OTkFRHtnEqC4uGhncfGBNwIGcHMcunutGHY4wKhUiAwLBa1QzDyAIAhobLuMXusAoiPDoWYZ2IdGcKn9GuJj5iIuOmrqANu35RTsyLs5wLmmFmgYBovi5ksw9uERyGQUWDJW8WMtjIl3Iiw0xO/17xwo2rm/yAdA3VZDgsq4qZRdlZfo7+J+mx3nCcCqZUZ09fah9kIz9Dotunr6kJoYjyA1i5bLfyIjLdkvwMi3b13k6z7OWnzQ0nwdYF+mNmJzgvA7n/KEfuTeF0bJqPEr8XxTK7k7HWbpdSivqsHaFelgSf3FO09LWggNy+Lr6nPSuD9pfngdioaPrJ9dpRc9U2rtlly2rJBv2JupOD40awvkq18CTdMkVtk4iFNVPyE9NQlX/uqEw+VCekoSPB4B7x8vx9NZD2Fg0I6aXxuxJsM3gFgyfLMbqv4vUXjW/ch+U3uZ5PDwPbLHyl6lj9n4O2AO3wNFyN1gSE0VpKtFCC/Iqe+qYUxKwNWOLoyQ7s9YkoqahkZcJE353MZ1qKyuRczcOYibFzXOmOd5eIbaEGI5BEbWgexXWjeWfHHNJM28jgCc3E0fE/97BBnMqkcxaHgebFA4VCRiuVwuTXSh9Q8MkaZLTognaVRDRsCSFsbBbLGir38AMVGRWEzO3Wgs/tyOfqgHPkWws5LUnJfOZb9MAMp9AHjlEAzo0u4Ab1gPllVLZRETNJ2uRMbSVERFhN1ssYwau92Q276H3v4JFIJ1zPlbAoxOAgzI09Cj3wVlyF1SGm6OR9Uv9eBIpOJy4z0e9A/asJKsDLEJRWMPGeOGrkA3+AHUXJNPwAkBeMULCpiZzbAbcklZQqFUKiVjm32Y9IkcOm3QP3fttIMZOAGd4zRkcPtNaFIA3jQcVCQpSwEEwwNSWcQmFVeLKI5zg7LVkrhLQHt6cCtNGuDG2loVGbCEvghl8AIoxd5wmaGzlUDjrpvIFIEBeNPgBAbt9LNgdNGY7akgcTsnbB5gAsScrCQ3pScJxEJBqyZlPGUA0Zg89ODklZBrYqFUhwa0bZoUgGju4giAMgoqbfT1xgtEE34O8B5iLgSDDo4DrWQDNp4QgGgsSHHToNQxUGnCpn2XOgZgzVJqfflryjLxneONm6dnkx32fBK3fJqtR7VpV/OGo191npAAdBpE1r+rrJ8XTkU4PUGgtSRulWZGjEV19HLdyY//nNrb7+r0JkuF6ZCydjmTFRwSMX2F9iGHyzNy8oy5tMvibCCHwr9LK25rZ/qDVfxy4rwHt/3r+G9H6zE/zoubxgAAAABJRU5ErkJggg==":e.filePath.endsWith(".sql")?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFP0lEQVR42q2XW0ybZRjH/1+PQKEnKDBKoRiu5hJv9GLGGO/UmEjpgcPAGce8cDdeGKMmXhiT3Xjh1Zy79MCQIIWiiYnJNrdsAY1si4mSSFC2QVtaWuiBnkvr8349rPDB+D7D2zz52rdvv/f3Pc//eZ63HEpD4Z6d9YDjXisWCihCymCrOcg4Dru7u3MDTqeTJvJif82Vr00EELPbbJK23j+CwSCu3bgxOzI87KKPu1IATNMzM0FHfz9WHzwkR3Biflt6/mIRPdZujE9MYPTMGWxsbOD6zZvu0eHhQTEQlZ1av5+ZCTgJ4OGjNR5ADATbnFl3lwVXJyfx6suvwGjQw+/3487Cgn/A4eimZTlJAI/W1iGTyUR7oECa6bJ0YoIAbK/3YSeRQKuphYe4PT/vG3Q6rU+CEACsrXslA1g6zTzAoMuJZDKNVDrNQ7BwMAjyxKEQAgAfkUvRQKFYgPlEBx+CkaEhyoQ8Mpkc0pkMHw4mzDvz85ukL/NBEI8B3O6A026Hn6ilAnS0n8Dvi4tYXlmp3rBY9s4bJMwZjwcEYKCpyJEAG4Gg5CxobNCgsUlz6Jrp2Vm47PY2ehs8EiAQ3JQEUIEo7rshm2Ojva0VlOJwORziADY3Q5IBDoNiw0RilAQQCoWPBaAC0dLSLA0gvL1Fk8cEQK9mg1EawHZku2Za/Cg5rfZ3pRDodXrMkAgdYkUYicYkbszxhUtWLt+8VbcH6uvrMDfngc3WLw4gFouL3lwm4yCXyREIb2GZmpg/GEZ8J4FaAo7WKOQKWsdFqdVfS6VSn797/uxCZYUAIB7fEffkZHK5HEv/rOL+0jI1pG4+3jqdFqUEeJyYzDvxeBzb0Qi8vnXEotGPLrw5/Bl9WRAAsGYi1vUqpQJXJtw4/dxpPgxFqorFg04zXAm40mPu/3EPY4P9rHIlBQCJZFKc+xmASokvx6cx4iTtxBNIEHwmk8UeB5QB6tQqaDQaGHRNcP/wI84P2Vvom7AAgGIkCeDy1Wk8ZelCJ3XEFqMRjY0N1XNCxVPstZNMIUxa8VGvWfd7MTZQEqUAIJ3O7sN/EoCKAKZgNXdBSeFQKtX8XJ1aDU19AzUqkEdS1BmzyOUzyOVydM3BF/DjnMt2MABrpWIAuLIHvvh2ijzQDTW5WKVSE4QSarqqCUYml9H90shkGUCWB8jmsvD6fXjL1XcwQDafx8FKEgIoFQrc+u0uFu/9ibb2Vj4LDHo9Gqg71gIkU0kqcBFsbW0hFA4RUOrn9y+8PUq3CQkA6Ghdjd9RACwNf/l1EadOnsK/qw9og20kUmkoCEwpV/I1IM/cTocUDRUko9GA3t4efPXN+E/vvTM2QreJCADYIUIsAEurS19PotdqhcVihsnYDI1AhMxklN4lEXrpxLXu8+LcgM2wF6B8JOMzSCQAG5dJA9ZOCx97XgNMhHTVNJAICyURMg1kcyURZkmE/g0/AzDtCYHb4wnY+/qO3Hj/uDIxje6OTl79DIBdmQhVShUfoooIGUCWFyNlAQEIREgda4Weu6nAnl6sBijGoTRgbm+n1KsjL6iqAPuzoOIB9tkX2BAA6Ml6yFhcpPRi2YefXjx78ulnRrVaLbSNWui0OkrJfQBUByLxCGLxGKKxKP5e+uvSxY8/+AQ1lVBJxmqzSmIE2HpDn2vohedffGmk2dT6LHlGzZ8Qa5zIvEW6yoQ3g4sLt29NeKa+u07Ta6jpBf93yMkayIxkzWSNZIoDvMhw2D9m1mrDZFtkrOsVjuPsxZU9WFf2yGF/qygnwOo8qQbVcvsfT/3JP/6AS5sAAAAASUVORK5CYII=":e.filePath.endsWith(".json")?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACYElEQVRYw+2XS2gTQRzGv9lHyGITuyRiCjmU+Lo0QZqbh1JsMOJBPIhaCjkUD54UUWhFg6AFUXyQuyhEF2wtiqA0BwvB+oAIGmpAUNqUBrsNJY2aaB4bdjx4CtvEXd1VD/0f5xuG38z/229mgfX6x0VaCYHhu7tYmxAihBA9CzkdGxaTV8K3jQJwrYRvDfZJrVLt1LuQw+lEJJb2xU/sjJoCUFPUTsO74dhzkVgaRiA4s3tqFIKzwlhGIDir3K0XwjQASulvQbT8xLyDEjUC4BRYBAPbwfO81tB1ZUw62Ru1FIBSFWqtBFBVKzIc5AfHiKUtIIQBa98I04Lob5VhgO7NHejzdyH+9GPTeCS0Dc/eyVjIl60DONLvw8ihAOJTaY3mEup4eD6EyxOzuJectwbg+IEeDF54jPdLNRCGbdKuP5rH1OtPuDW6zzoAuVCC2+0CWc5rTciwcLtdkAsl61qwWlbgEYWWukcUsFpWzAfo6RYRHeqFw06RSGVbxkcilcXwHh/Gzw7govQGmYWiOQC0UYXaqIAwHSCsDcDauySsDYThoDbKoI2qeSeQyX3H4bFp3DzVj3DQi8mZ7JrzwkEvcvkvOHotCcLZoecxxelLOQLCC3CJDsiFubYmdYlbwPCCNSb0iAKKbUxW/IVJ/xggNpGCdGY3pOk5XJ2cbdJOH/RjaGArLt15aR3A+PMlvMrcR5+/S3v88jL2j7zF4meiCSnTAAjDIvcVkF6saLSfYxwIY9JlpCqVEsMLDjNuPFWplAwDFGZuRGybduwlbR4tujIEoPWVD4n1f8D/tn4AQFLOVpDrUK8AAAAASUVORK5CYII=":ft(e.filePath)?Ot:At(e.filePath)?xt:vt(e.filePath)?gt:wt(e.filePath)?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADtUlEQVR42sWXz2sTQRTHXyGHDfTQgocUFFzw4Bb6R5ibBw8GPJjgKdhDtwRq1oJt6EFShZrgoS4eJBUsqf9BehDSQ2E9FJJDpXtQWKGFDVhIwEAC5uC8t9lkf8xutlF0SgqZfTvvM9/3YyYz8J/HDP5LPUglxOuiIswKc//Cab/f75gts3Swf9AigPxavlTYKuR9ljEAgf1xR2yCl+Fz7vvsWWGjoG6/3F4lgM1nm9XVldX0RAc8oCCQIIDhfPl1+YBBZCwFnuarSk5J/xXHEXZ/ZQAhFsF5mFPOe3yAmP8F14Ihckd1zAUY5YDDMOqueY473Q6wLAfpthQIVH4VAjDROX4fALQv22CcG9BqtcD4ZoBhsM93A8wfJvS7fTjTzwLVmApAO9ZA+6yRE3TM6nn0QSB79AY9mjPPTd8aqBh7YzoAOSdDs9kEQRBcNiOQQd+aQHW6bTeAR8lQAB/EcF55opCs8Xgcer+sXaLU6BihxBsiiDdFin/9uA6mabqUcYYvMAnJ8dDIB7CuUBikJYkciaLlUJIkWLi2MLJT36pQfFGEttkeq+IZgX2AnQcjGb3krF1D46QB9aO6tWu7Amzlhu9U3lcIAEMQGUBekdPxWJyk9CkwHIXnYwB67q0OJ8BOEYyvBgSNaACenaEC2olGYQgF2K9AeadslSHPbloAZUOBRrMB2pHmlt4JELMUcAFwbMOT0JN89iLyugz6qT4G4NkhwDtHCHgAWAW7XoDc+Dj2QmC54Rz2AV3XrRCEDDsJsTPyqokP4GlE2K3sLLczGQFwV5SEHlDskDhvXLDWfNGCxmkDTMN0rRMIEHQa2g7MSxM6nQ6Udkq0KxvAHtX9KtQOa6RUr9cjW3wHAYJCxQfwGGLPr+xV6KDBzoffseE4AbDrZR5mKHlRKbst97q98DLcDagCGwAXZgbQ/tkmYjpc2K7m5+ZdVYBwybtJmqcKAss2dS9FfYOU5BzZ4QAo68cqVD5UrHwY9EcQ2Iare1XXYuo7lZRCm0QiAZl0BjKPMq5QUud05AwXwH6IIHiYYNLRzuwF2A6xxKRb/IsGVctstJuRuqt6AJZlXxIiRP3Qivfi0iKk7qcIyLto2OUzaBDA1gQAW41Ii1/xN4QbYM0dgj8B8V1mwkLgBMguZ9NRLqJckAmS86DYnWEMkH2cfZPP5eXAK9k0UBPUYa1aZQeS9dOM3Wqk5J1kcY6NqLuKssugwTplp/apVmA9RJ+xJ9kdXvDW6lVkjjyGJ6b+RacD5jcrJn4/X/eyYgAAAABJRU5ErkJggg==":"data:image/png;base64,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"}var kt=n(118),St={method:"POST",url:"assets/deleteFile"};function Et(e){var t=e.file,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=A(Object(W.a)(Object(W.a)({},St),{},{data:{filePath:t.filePath}}),!0).execute;function o(){return(o=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:window.location.reload(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Unable to delete this file.",e.t0),w.show({message:"Oh no, I can't delete the file. \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(C.jsxs)(C.Fragment,{children:[" ",Object(C.jsxs)(j.h,{className:"margin",interactive:!0,elevation:F.a.ZERO,onClick:function(e){var n="";n=kt(t.filePath)?"![".concat(t.name,"](/").concat(t.filePath,")"):"[".concat(t.name,"](/").concat(t.filePath,")"),navigator.clipboard.writeText(n).then((function(){w.show({message:"Markdown code for ".concat(t.name," has been copied to clipboard."),intent:x.a.SUCCESS,icon:"clipboard",timeout:2500})}))},children:[Object(C.jsx)("a",{href:"/".concat(t.filePath),target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("b",{className:"break-word",children:t.name})}),Object(C.jsx)(j.k,{}),Object(C.jsxs)("span",{className:"file-info-container",children:[Object(C.jsx)(j.n,{icon:Object(C.jsx)("img",{width:24,height:24,className:"center-horizontal",src:Ct(t),alt:"File icon"})}),Object(C.jsx)("span",{style:{flexGrow:1}}),Object(C.jsx)(ut,{oldPath:t.filePath,name:t.name}),Object(C.jsx)(j.e,{minimal:!0,rightIcon:"delete",onClick:function(e){s(!0),e.stopPropagation()}})]})]},t.filePath),Object(C.jsx)(j.a,{isOpen:r,icon:"trash",intent:x.a.DANGER,confirmButtonText:"Delete",cancelButtonText:"Cancel",canEscapeKeyCancel:!0,canOutsideClickCancel:!0,onCancel:function(e){s(!1),e.stopPropagation()},onConfirm:function(){return function(){return o.apply(this,arguments)}()},children:Object(C.jsxs)("p",{children:["Are you sure that you want to permanently delete ",Object(C.jsx)("b",{children:t.name}),"?"]})})]})}function It(e){var t=e.files;return 0===t.length?Object(C.jsx)(j.s,{icon:"folder-open",title:"This folder is empty."}):(t.sort((function(e,t){return e.isDir===t.isDir?0:e.isDir?-1:1})),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Qe,{className:"grid file-grid",columns:4,children:t.map((function(e){return e.isDir?Object(C.jsx)(ht,{file:e},e.filePath):Object(C.jsx)(Et,{file:e},e.filePath)}))})}))}var yt,Dt=n(127),Pt=n.n(Dt),Nt=n(129),Ft=n.p+"static/media/file-upload-dropzone.3e3e175f.svg";function Gt(e){var t=e.currentLocation,n=e.uploadFiles,c=Object(a.useState)(new Array),r=Object(l.a)(c,2),s=r[0],i=r[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:g.a.DIALOG_BODY,children:Object(C.jsx)(Nt.a,{onDrop:function(e){var t=e.filter((function(e){return!s.some((function(t){return t.name===e.name}))}));i([].concat(Object(dt.a)(s),Object(dt.a)(t)))},onDropRejected:function(e){e.forEach((function(e){w.show({message:"Rejected: ".concat(e.file.name,". ").concat(e.errors[0].message,"."),intent:x.a.DANGER,icon:"delete"})}))},maxSize:523239424,multiple:!0,children:function(e){var n=e.getRootProps,a=e.getInputProps;return Object(C.jsxs)("div",Object(W.a)(Object(W.a)({},n()),{},{children:[Object(C.jsx)("input",Object(W.a)({},a())),Object(C.jsxs)("h4",{className:"bp3-heading bp3-text-overflow-ellipsis",children:["Drop here to upload in /",t]}),Object(C.jsx)("img",{src:Ft,style:{maxWidth:"100%"},alt:"Drop here to upload files."})]}))}})}),Object(C.jsxs)("div",{className:g.a.DIALOG_FOOTER,children:[s.length>0&&Object(C.jsx)("h4",{className:"bp3-heading",children:"Selected files: "}),s.map((function(e){return Object(C.jsx)(j.w,{interactive:!0,minimal:!0,style:{margin:"5px"},onRemove:function(){var t=s.findIndex((function(t){return t.name===e.name})),n=Object(dt.a)(s);n.splice(t,1),i(n)},children:e.name},e.name)})),Object(C.jsx)("span",{className:g.a.DIALOG_FOOTER_ACTIONS,children:Object(C.jsx)(j.e,{text:"Upload",intent:x.a.PRIMARY,disabled:0===s.length,onClick:function(){n(s)}})})]})]})}function Rt(e){var t=e.result;return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:g.a.DIALOG_BODY,children:[Object(C.jsx)(j.g,{title:"".concat(t.uploaded," ").concat(1===t.uploaded?"file has ":"files have"," been uploaded."),icon:"tick-circle"}),t.failed>0?Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(j.g,{title:"".concat(t.failed," ").concat(1===t.failed?"file has ":"files have"," failed."),icon:"cross",intent:"danger",children:t.failedFiles.map((function(e){return Object(C.jsx)(j.w,{interactive:!0,minimal:!0,style:{margin:"5px"},children:e.name},e.name)}))})}):Object(C.jsx)(C.Fragment,{})]})})}function Bt(e){var t=e.currentLocation,n=e.selectedFiles,c=e.reportStatus,r=Object(a.useState)(0),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(""),u=Object(l.a)(d,2),b=u[0],x=u[1];function m(){return(m=Object(O.a)(h.a.mark((function e(){var a,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],r=0;case 2:if(!(r<n.length)){e.next=20;break}return o((r+1)/n.length),x(n[r].name),(s=new FormData).append("file",n[r]),s.append("directory",t),e.prev=8,e.next=11,p()({method:"POST",url:"http://localhost:4000/api/assets/upload",data:s,headers:{"Content-Type":'multipart/form-data"'}});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(8),console.log("Upload error:",e.t0),a.push(n[r]);case 17:r++,e.next=2;break;case 20:c(a);case 21:case"end":return e.stop()}}),e,null,[[8,13]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){n.length>0&&function(){m.apply(this,arguments)}()}),[n]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:g.a.DIALOG_BODY,children:[Object(C.jsx)(j.u,{value:i}),Object(C.jsx)("p",{className:"padding-top",children:b})]})})}function Tt(e){var t=e.currentLocation,n=void 0===t?"":t,c=Object(a.useState)(yt.selection),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(new Array),d=Object(l.a)(o,2),u=d[0],b=d[1],h=Object(a.useState)({uploaded:0,failed:0,failedFiles:[]}),O=Object(l.a)(h,2),x=O[0],g=O[1],m=Object(a.useState)(!1),p=Object(l.a)(m,2),f=p[0],A=p[1];function v(e){i(yt.upload),b(e)}function w(e){var t=u.length-e.length,n=e.length;g({uploaded:t,failed:n,failedFiles:e}),i(yt.result)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.e,{text:"Add files",rightIcon:Object(C.jsx)("img",{className:"center-horizontal",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0klEQVR42r3TPwsBYRzA8R+LIquRwUixyyKTzP4tBrNSymDEC/AGGEwOmxdgNltZLF7AyULxfUL+9Ljrofzqs9zTfbu7fucRkQj6OOIsj/GhiY04jAcz1LF7OwthiLxbYILCh/MqcprrXpzQUAELRTGfKHq6QEId4OAS8COsC8xRge0SCGKlC5i80vTXgPX3gFquJJbfBNJoI3YLtBAwCcSxxkium6ueZvvNN3jZXF1gjJJJQC1OGXtkkELXITBA7TmgvmpHrr9yFgvRr7H9fON9LvNcNlIRYpv4AAAAAElFTkSuQmCC",alt:"Upload your files"}),onClick:function(){return A(!0)}}),Object(C.jsx)(j.j,{isOpen:f,onClose:function(){s===yt.result?window.location.reload():A(!1)},canOutsideClickClose:!1,icon:"folder-open",title:"Upload your files",style:{backgroundColor:"white"},children:s===yt.selection?Object(C.jsx)(Gt,{currentLocation:n,uploadFiles:v}):s===yt.upload?Object(C.jsx)(Bt,{currentLocation:n,selectedFiles:u,reportStatus:w}):s===yt.result?Object(C.jsx)(Rt,{result:x}):void 0})]})}!function(e){e.selection="Selection",e.upload="Upload",e.result="Results"}(yt||(yt={}));var Lt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAYklEQVR42mNkoBAwAnEkEGsB8V8s8hxAvBmIj+IzoA2Iq/BYglceZEADFKMDRyC2A2IpIH6GRZ4JJI7PAGJAM6UGNIwaMGwMaAbiWjINACekZCCWBeL/JGoGJeUnjGTaDAcAEg0Z4zein+0AAAAASUVORK5CYII=";function Ut(e){var t=e.currentDir,n=e.separator,c=Object(a.useState)(!1),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(""),d=Object(l.a)(o,2),u=d[0],b=d[1],m=A({method:"POST",url:"assets/createDirectory",data:{directory:"".concat(t).concat(n).concat(u)}},!0).execute;function p(){return(p=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:window.location.reload(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Cannot create new folder.",e.t0),w.show({message:"Oh no, I can't create new folder \ud83d\ude1f ",intent:x.a.DANGER,icon:"delete"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.e,{text:"New folder",rightIcon:Object(C.jsx)("img",{className:"center-horizontal",src:Lt,alt:"Create new folder"}),onClick:function(){return i(!0)}}),Object(C.jsxs)(j.j,{isOpen:s,onClose:function(){return i(!1)},canOutsideClickClose:!1,icon:Object(C.jsx)("img",{className:"center-horizontal  padding-right",src:Lt,alt:"Create new folder"}),title:"Create new folder",children:[Object(C.jsxs)("div",{className:g.a.DIALOG_BODY,children:[Object(C.jsx)("p",{children:"Enter a name for the new folder:"}),Object(C.jsx)(j.o,{leftIcon:"folder-open",type:"text",placeholder:"",value:u,onChange:function(e){b(e.target.value)},className:"new-folder-reset-input-padding"})]}),Object(C.jsx)("div",{className:g.a.DIALOG_FOOTER,children:Object(C.jsx)("span",{className:g.a.DIALOG_FOOTER_ACTIONS,children:Object(C.jsx)(j.e,{text:"Create folder",intent:x.a.PRIMARY,onClick:function(){return p.apply(this,arguments)}})})})]})]})}var Jt={method:"POST",url:"assets/getAll"};function Wt(){var e=Pt.a.parse(Object(o.h)().search),t=A(Object(W.a)(Object(W.a)({},Jt),{},{data:{directory:e.dir}})),n=t.loading,c=t.error,r=t.data,s=Object(a.useState)([]),i=Object(l.a)(s,2),d=i[0],u=i[1];function b(e){var t=e.text,n=Object(H.a)(e,["text"]);return Object(C.jsxs)(j.c,Object(W.a)(Object(W.a)({},n),{},{children:[" ",t," "]}))}return Object(a.useEffect)((function(){if(r.currentDir){var e=r.currentDir.split(r.separator),t=[];for(var n in Object(dt.a)(Array(e.length).keys()))t.push({href:"/bridge/file?dir=".concat(e.slice(0,Number(n)+1).join(r.separator)),icon:Object(C.jsx)("img",{className:"center-horizontal margin-right",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAYklEQVR42mNkoBAwAnEkEGsB8V8s8hxAvBmIj+IzoA2Iq/BYglceZEADFKMDRyC2A2IpIH6GRZ4JJI7PAGJAM6UGNIwaMGwMaAbiWjINACekZCCWBeL/JGoGJeUnjGTaDAcAEg0Z4zein+0AAAAASUVORK5CYII=",alt:"".concat(e[n]," folder")}),text:e[n]});u(t)}}),[r.currentDir,r.separator]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),n?Object(C.jsx)(j.v,{}):c?Object(C.jsx)(P,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{style:{display:"flex"},children:[Object(C.jsx)(j.d,{className:"margin padding-left",currentBreadcrumbRenderer:b,items:d}),Object(C.jsx)("span",{style:{flexGrow:1}}),Object(C.jsx)("div",{className:"margin",children:Object(C.jsxs)(j.f,{children:[Object(C.jsx)(Tt,{currentLocation:r.currentDir}),Object(C.jsx)(Ut,{currentDir:r.currentDir,separator:r.separator})]})})]}),Object(C.jsx)(It,{files:r.files})]})]})}var Qt=function(){return Object(C.jsx)(i.a,{basename:"bridge",children:Object(C.jsxs)(o.d,{children:[Object(C.jsx)(o.b,{exact:!0,path:["/","/post/all"],component:J}),Object(C.jsx)(o.b,{exact:!0,path:["/post/edit/:id"],component:ae}),Object(C.jsx)(o.b,{exact:!0,path:["/page/all"],component:le}),Object(C.jsx)(o.b,{exact:!0,path:["/page/edit/:id"],component:ge}),Object(C.jsx)(o.b,{exact:!0,path:["/setting/hexo"],component:ke}),Object(C.jsx)(o.b,{exact:!0,path:["/setting/bridge"],component:Ie}),Object(C.jsx)(o.b,{exact:!0,path:["/setting/scaffolds"],component:Le}),Object(C.jsx)(o.b,{exact:!0,path:["/plugin/discover"],component:Ve}),Object(C.jsx)(o.b,{exact:!0,path:["/plugin/installed"],component:qe}),Object(C.jsx)(o.b,{exact:!0,path:["/plugin/script"],component:He}),Object(C.jsx)(o.b,{exact:!0,path:["/theme/installed"],component:at}),Object(C.jsx)(o.b,{exact:!0,path:["/theme/discover"],component:it}),Object(C.jsx)(o.b,{exact:!0,path:["/theme/config"],component:jt}),Object(C.jsx)(o.b,{exact:!0,path:["/file"],component:Wt})]})})};s.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(Qt,{})}),document.getElementById("root"))}},[[283,1,2]]]);
//# sourceMappingURL=main.e103c458.chunk.js.map